
namespace = vampire_ruler

#############################
### Hidden Vampire Events ###
#############################

country_event = { # Reveal Vampire (suspicion too high)
	id = vampire_ruler.0
	title = vampire_ruler.0.t
	desc = vampire_ruler.0.d
	picture = COUNTRY_COLLAPSE_eventPicture

	is_triggered_only = yes

	trigger = {
		ruler_is_hidden_vampire = yes
		is_lesser_in_union = no

		check_variable = {
			which = suspicionPoints
			value = 20
		}

		NOT = {
			AND = { 
				tag = B34 
				has_country_flag = lucian_no_suspicion
			}
		}
	}

	mean_time_to_happen = {
		days = 1
		
		#Excess Vampire points
		modifier = {
			factor = 2
			check_variable = {
				which = suspicionPoints
				value = 30
			}
		}
		modifier = {
			factor = 2
			check_variable = {
				which = suspicionPoints
				value = 35
			}
		}
		modifier = {
			factor = 2
			check_variable = {
				which = suspicionPoints
				value = 40
			}
		}
	}

	option = { #Maintain the Masquerade
		name = vampire_ruler.0.a
		ai_chance = {
			factor = 10
		}
		
		reduce_stability_or_adm_power = yes
		
		hidden_effect = {
			remove_vampire_immortality = yes
		}
		
		exile_ruler_as = { name = cannot_return }
		exile_heir_as = cannot_return_heir
		
		custom_tooltip = human_heir
		
		add_country_modifier = {
			name = outed_vampire
			duration = 1825 #5 Years
		}
	}
	
	option = { #Break the Masquerade
		name = vampire_ruler.0.b
		ai_chance = {
			factor = 0
		}
		
		add_stability = -3
		add_legitimacy = -10
		add_prestige = -20
		
		clr_country_flag = hidden_ruler_vampire
		set_country_flag = exposed_vampire_ruler
		
		clear_vampire_law = yes
		set_estate_privilege = estate_vampires_law_open_rule
		
		# Special Government about rotating hidden vampires
		if = { 
			limit = { has_reform = ar_callein_reform }
			remove_government_reform = ar_callein_reform
			change_government = monarchy
		}
		
		add_country_modifier = {
			name = ruler_broken_masquerade
			duration = 3650
		}
		add_country_modifier = {
			name = outed_vampire
			duration = 1825 #5 Years
		}
	}
}

country_event = { # Ruler Must Step Down (getting too old)
	id = vampire_ruler.1
	title = vampire_ruler.1.t
	desc = vampire_ruler.1.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes
	
	trigger = {
		ruler_is_hidden_vampire = yes
		NOT = {
			AND = { 
				tag = B34 
				ai = no
			}
			has_country_flag = J84_is_mihaela_flag
		}
		OR = {
			#Getting too old
			AND = {
				government = monarchy
				ruler_is_human = yes
				ruler_age = 85
			}
			#Ruled too long
			vampire_age = { greater_than_or_equal_to = 25550 } # 70 Years
		}
		is_lesser_in_union = no
	}

	option = { #Step Down, heir succeeds (vampire heir)
		name = vampire_ruler.1.a
		trigger = { has_country_flag = vampire_heir }
		ai_chance = {
			factor = 10
		}
		
		clr_country_flag = vampire_heir
		remove_vampire_immortality = yes
		
		if = {
			limit = { has_country_flag = has_exiled_vampire_heir }
			clr_country_flag = has_exiled_vampire_heir
			set_heir = exiled_vampire_heir_@ROOT
			hidden_effect = {
				if = {
					limit = { has_heir = no }
					define_heir = { dynasty = ROOT age = 17 change_adm = 1 change_dip = 1 change_mil = 1 hide_skills = yes claim = 50 }
				}
				kill_ruler = yes add_stability = 1
			}
		}
		else = {
			define_heir = {
				dynasty = ROOT
				age = 17
				change_adm = 1
				change_dip = 1
				change_mil = 1
				hide_skills = yes
				claim = 80
			}
		}
		
		hidden_effect = { kill_ruler = yes }
		ruler_become_vampire = yes
		reset_vampire_age = yes
	}
	
	option = { #Step down, regular human heir
		name = vampire_ruler.1.f
		trigger = { NOT = { has_country_flag = vampire_heir } }
		
		hidden_effect = {
			remove_vampire_immortality = yes
		}
		
		if = {
			limit = { has_heir = no }
			define_heir = {
				dynasty = ROOT
				age = 17
				hide_skills = yes
				claim = 80
			}
		}
		exile_ruler_as = { name = cannot_return }
	}
	
	option = { #Fake death, heir is you
		name = vampire_ruler.1.b
		ai_chance = {
			factor = 10
		}
		
		facade_suspicion_decrease_10 = yes
		if = {
			limit = { OR = { is_ruler_transmutation_level_3 = yes is_ruler_illusion_level_3 = yes } }
			facade_suspicion_decrease_10 = yes
		}
		else_if = {
			limit = { OR = { is_ruler_transmutation_level_2 = yes is_ruler_illusion_level_2 = yes } }
			facade_suspicion_decrease_5 = yes
		}
		else_if = {
			limit = { OR = { is_ruler_transmutation_level_1 = yes is_ruler_illusion_level_1 = yes } }
			facade_suspicion_decrease_2 = yes
		}
		add_adm_power = -100
		save_ruler_stats = yes
		kill_ruler = yes
		reset_vampire_age = yes
	}
	
	option = { #Refuse to Step Down
		name = vampire_ruler.1.c
		ai_chance = {
			factor = 0
		}
		
		facade_suspicion_increase_10 = yes
	}
	
	option = { #A few more years... (Mages only)
		name = vampire_ruler.1.e
		ai_chance = {
			factor = 10
		}
		
		trigger = {
			is_ruler_enchantment_level_3 = yes
		}
		facade_suspicion_increase_1 = yes
	}
}

country_event = { #Advisor Finds Coffin
	id = vampire_ruler.2
	title = vampire_ruler.2.t
	desc = vampire_ruler.2.d
	picture = ECONOMY_eventPicture
	
	trigger = {
		ruler_is_hidden_vampire = yes
		has_advisor = yes
		is_lesser_in_union = no
		NOT = {
			# vampire advisors
			employed_advisor = {
				name = "Balin Hardhammer"
			}
			employed_advisor = {
				name = "Cassiar silna Fox"
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes

	option = { #Nobody will believe them
		name = vampire_ruler.2.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_5 = yes
	}
	
	option = { #Bribe them
		name = vampire_ruler.2.b
		ai_chance = {
			factor = 10
		}
		add_years_of_income = -0.1
		add_corruption = 1
		facade_suspicion_increase_2 = yes
	}
	
	option = { #Kill them
		name = vampire_ruler.2.c
		ai_chance = {
			factor = 10
		}
		kill_advisor = random
		facade_suspicion_increase_1 = yes
	}
}

country_event = { #Injured During Training (normal person would be hurt worse)
	id = vampire_ruler.3
	title = vampire_ruler.3.t
	desc = vampire_ruler.3.d
	picture = WOUNDED_SOLDIERS_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		has_country_flag = hidden_ruler_vampire
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes

	option = { #It wasn't that bad...
		name = vampire_ruler.3.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_2 = yes
	}
	
	option = { #Me? Injured?
		name = vampire_ruler.3.b
		ai_chance = {
			factor = 1000
		}
		highlight = yes
		trigger = {
			mil = 5
		}
	}
}

country_event = { #Invitation to Banquet
	id = vampire_ruler.4
	title = vampire_ruler.4.t
	desc = vampire_ruler.4.d
	picture = COURT_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		has_country_flag = hidden_ruler_vampire
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes

	option = { #Perhaps measures can be made...
		name = vampire_ruler.4.a
		ai_chance = {
			factor = 0
		}
		add_years_of_income = -0.1
		facade_suspicion_increase_1 = yes
	}
	
	option = { #Decline
		name = vampire_ruler.4.b
		ai_chance = {
			factor = 10
		}
		add_prestige = -20
	}
}

###########################
### All Vampires Events ###
###########################

country_event = { #Sire's Request
	id = vampire_ruler.5
	title = vampire_ruler.5.t
	desc = vampire_ruler.5.d
	picture = NOBLE_ESTATE_eventPicture
	
	trigger = {
		NOT = { has_ruler_flag = no_vampire_sire } 
		NOT = { has_country_flag = J84_is_mihaela_flag }
		ruler_is_vampire = yes
		vampire_age = { less_than = 18250 } #50 Years - too old to be bossed around?
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 5
			vampire_age = { less_than = 3650 }
		}
	}
	
	is_triggered_only = yes

	option = { #I Must Oblige
		name = vampire_ruler.5.a
		ai_chance = { factor = 10 }
		add_years_of_income = -0.5
		add_adm_power = -100
	}
	
	option = { #Refuse
		name = vampire_ruler.5.b
		ai_chance = { factor = 10 }
		add_estate_loyalty_modifier = {
			estate = estate_vampires
			desc = BROKE_VAMPIRE_LAWS
			loyalty = -10
			duration = 3650
		}
		add_prestige = -50
	}
}

country_event = { #Overlapping Authority (ruler vs. estate)
	id = vampire_ruler.6
	title = vampire_ruler.6.t
	desc = vampire_ruler.6.d
	picture = DEBATE_REPUBLICAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		NOT = { has_estate_privilege = estate_vampires_organization_vampires_lord }
		has_estate = estate_vampires
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes

	option = { #My Domain My Rules
		name = vampire_ruler.6.a
		ai_chance = { factor = 10 }
		add_estate_loyalty_modifier = {
			estate = estate_vampires
			desc = BROKE_VAMPIRE_LAWS
			loyalty = -10
			duration = 3650
		}
		add_years_of_income = -0.5
		add_adm_power = -50
	}
	
	option = { #Assist the Vampire Estate (pay)
		name = vampire_ruler.6.b
		ai_chance = { factor = 10 }
		add_years_of_income = -1
	}
	
	option = { #We Cannot Afford this
		name = vampire_ruler.6.c
		ai_chance = { factor = 10 }
		add_prestige = -5
		facade_suspicion_increase_1 = yes
		add_estate_loyalty_modifier = {
			estate = estate_vampires
			desc = ALLOWED_FERAL_VAMPIRES
			loyalty = -20
			duration = 3650
		}
	}
}

country_event = { #Sire an heir
	id = vampire_ruler.7
	title = vampire_ruler.7.t
	desc = vampire_ruler.7.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes
	
	trigger = {
		ruler_is_vampire = yes
		vampire_age = { greater_than_or_equal_to = 18250 }
		NOT = { has_country_modifier = sired_heir }
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1

		modifier = {
			factor = 1.33
			ruler_age = 100
		}
		
		modifier = {
			factor = 2
			ruler_is_exposed_vampire = yes # Don't give a shit about the rules saying they can or can't have an heir
		}
	}
	
	immediate = {
		add_country_modifier = {
			name = sired_heir
			duration = 3650 #10 Years
			hidden = yes
		}
	}


	option = { #Make your current heir a vampire, or make a new heir that's a vampire
		name = vampire_ruler.7.a
		trigger = { NOT = { has_country_flag = vampire_heir } has_government_attribute = heir }
		ai_chance = { factor = 10 }

		custom_tooltip = add_vampire_heir
		set_country_flag = vampire_heir

		if = {
			limit = { has_heir = yes }
			exile_heir_as = exiled_vampire_heir_@ROOT
			custom_tooltip = tooltip_has_exiled_vampire_heir
			set_country_flag = has_exiled_vampire_heir
		}
	}
	
	option = { #Advisor
		name = vampire_ruler.7.b
		ai_chance = {
			factor = 10
		}
		define_advisor = {
			type = treasurer
			skill = 3
			cost_multiplier = 0.25
		}
	}
	
	option = { #General
		name = vampire_ruler.7.c
		ai_chance = {
			factor = 10
		}
		define_general = {
			fire = 4
			shock = 6
			manuever = 2
			siege = 4
		}
	}
	
	option = { #I'd rather not
		name = vampire_ruler.7.e
		ai_chance = {
			factor = 5
		}
		facade_suspicion_decrease_1 = yes
		hidden_effect = { remove_country_modifier = sired_heir }
	}
}

country_event = { #Hold a Grand Masquerade
	id = vampire_ruler.8
	title = vampire_ruler.8.t
	desc = vampire_ruler.8.d
	picture = COURT_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		NOT = { has_estate_privilege = estate_vampires_organization_vampires_lord }
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes

	option = { #Do it
		name = vampire_ruler.8.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		add_years_of_income = -0.2
		add_country_modifier = {
			name = grand_masquerade
			duration = 1825	#5 Years
		}
	}
	
	option = { #No
		name = vampire_ruler.8.b
		ai_chance = {
			factor = 10
		}
	}
}

#########################
### Stat Loss events ####
#########################

country_event = { #Vampire Stats and hunting organizer
	id = vampire_ruler.9
	title = NOLOCALIZATION
	desc = NOLOCALIZATION
	picture = END_OF_TIME_eventPicture

	is_triggered_only = yes
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	hidden = yes
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.25
			vampire_age = { greater_than_or_equal_to = 54750 } # 150 years
		}
		modifier = {
			factor = 1.33
			vampire_age = { greater_than_or_equal_to = 36500 } # 100 years
		}
		modifier = {
			factor = 1.33
			vampire_age = { greater_than_or_equal_to = 18250 } # 50 years
		}
	}

	#ADM
	option = {
		name = NOLOCALIZATION
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.10 }
	}
	
	#DIP
	option = {
		name = NOLOCALIZATION
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.11 }
	}
	
	#MIL
	option = {
		name = NOLOCALIZATION
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.12 }
	}
	
	#Go Hunting
	option = {
		name = NOLOCALIZATION
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				has_country_flag = vampire_missed_hunt
			}
		}
		country_event = { id = vampire_ruler.13 }
	}
}

country_event = { #The Endless Hunger (Adm)
	id = vampire_ruler.10
	title = vampire_ruler.10.t
	desc = vampire_ruler.10.d
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	
	#Go Hunting
	option = {
		trigger = { adm = 1 }
		name = vampire_ruler.10.a
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.13 }
		change_adm = -2
		set_country_flag = vampire_missed_hunt
	}
	
	#Control myself
	option = {
		trigger = { adm = 1 NOT = { has_country_flag = vampire_missed_hunt } }
		name = vampire_ruler.10.b
		ai_chance = {
			factor = 10
		}
		random_list = {
			50 = { change_adm = -2 }
			50 = { add_legitimacy = -10 }
		}
		set_country_flag = vampire_missed_hunt
	}
	
	#Go Feral
	option = {
		name = vampire_ruler.10.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				ruler_is_hidden_vampire = yes
			}
		}
		facade_suspicion_increase_10 = yes
		random_owned_province = {
			add_devastation = 10
			add_province_modifier = {
				name = vampire_ruler_rampage
				duration = 1850
			}
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
	
	#Special - Has Blood Court, ADM loss only
	option = {
		name = vampire_ruler.10.e
		trigger = { has_estate_privilege = estate_vampires_organization_the_blood_court }
		ai_chance = {
			factor = 100
		}
		highlight = yes
		add_legitimacy = -5
	}
}

country_event = { #The Beast Inside (Dip)
	id = vampire_ruler.11
	title = vampire_ruler.11.t
	desc = vampire_ruler.11.d
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	
	option = { #Go Hunting
		trigger = { dip = 1 NOT = { has_country_flag = vampire_missed_hunt } }
		name = vampire_ruler.11.a
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.13 }
		change_dip = -2
		set_country_flag = vampire_missed_hunt
	}
	
	option = { #Control myself
		trigger = { dip = 1 NOT = { has_country_flag = vampire_missed_hunt } }
		name = vampire_ruler.11.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				ruler_is_hidden_vampire = yes
			}
		}
		random_list = {
			50 = { change_dip = -2 }
			50 = { add_legitimacy = -10 }
		}
		set_country_flag = vampire_missed_hunt
	}
	
	option = { #Go Feral
		name = vampire_ruler.11.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				ruler_is_hidden_vampire = yes
			}
		}
		facade_suspicion_increase_10 = yes
		random_owned_province = {
			add_devastation = 10
			add_province_modifier = {
				name = vampire_ruler_rampage
				duration = 1850
			}
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
		clr_country_flag = vampire_missed_hunt
	}
}

country_event = { #A Neverending Obsession (Mil)
	id = vampire_ruler.12
	title = vampire_ruler.12.t
	desc = vampire_ruler.12.d
	picture = FAMINE_eventPicture
	
	is_triggered_only = yes
	

	option = { #Go Hunting
		trigger = { mil = 1 }
		name = vampire_ruler.12.a
		ai_chance = {
			factor = 10
		}
		country_event = { id = vampire_ruler.13 }
		change_mil = -2
		set_country_flag = vampire_missed_hunt
	}
	
	option = { #Control myself
		trigger = { mil = 1 NOT = { has_country_flag = vampire_missed_hunt } }
		name = vampire_ruler.12.b
		ai_chance = {
			factor = 10
		}
		random_list = {
			50 = { change_mil = -2 }
			50 = { add_legitimacy = -10 }
		}
		set_country_flag = vampire_missed_hunt
	}
	
	option = { #Go Feral
		name = vampire_ruler.12.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				ruler_is_hidden_vampire = yes
			}
		}
		facade_suspicion_increase_10 = yes
		random_owned_province = {
			add_devastation = 10
			add_province_modifier = {
				name = vampire_ruler_rampage
				duration = 1850
			}
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
		clr_country_flag = vampire_missed_hunt
	}
}

country_event = { #The Hunt Begins
	id = vampire_ruler.13
	title = vampire_ruler.13.t
	desc = vampire_ruler.13.d
	picture =SPY_eventPicture
	
	is_triggered_only = yes

	option = { #Go Hunting
		name = vampire_ruler.13.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		hidden_effect = {
			country_event = { id = vampire_ruler.132 days = 30 random = 10 }
		}
		clr_country_flag = vampire_missed_hunt
	}
	
	option = { #No Thanks
		name = vampire_ruler.13.b
		trigger = { NOT = { has_country_flag = vampire_missed_hunt } }
		ai_chance = {
			factor = 10
		}
		set_country_flag = vampire_missed_hunt
	}
}

country_event = { #The Hunt Begins (hidden event)
	id = vampire_ruler.132
	title = vampire_ruler.132.t
	desc = vampire_ruler.132.d
	picture = SPY_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	hidden = yes
	is_triggered_only = yes


	### Bad Events
	option = { #Feral Vampire
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
		}
		country_event = { id = vampire_ruler.14 days = 30 random = 10 }
	}
	option = { #Vampire Hunter
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_country_flag = vampire_being_hunted
			}
			modifier = {
				factor = 3
				has_country_flag = vampire_hunter_1
			}
			modifier = {
				factor = 4
				has_country_flag = vampire_hunter_2
			}
		}
		country_event = { id = vampire_ruler.15 days = 30 random = 10 }
	}
	option = { #Ruler Recognized
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 2
		}
		country_event = { id = vampire_ruler.16 days = 30 random = 10 }
	}
	option = { #Hunt Overruns
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 2
		}
		country_event = { id = vampire_ruler.17 days = 30 random = 10 }
	}
	option = { #Being Followed
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
		}
		country_event = { id = vampire_ruler.26 days = 30 random = 10 }
	}
	option = { #Pursued by Guards
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
			# Should get vampire hunters instead
			modifier = {
				factor = 0
				has_country_flag = vampire_being_hunted
			}
		}
		country_event = { id = vampire_ruler.27 days = 30 random = 10 }
	}
	option = { #A Poor Hunt
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 2
		}
		country_event = { id = vampire_ruler.28 days = 30 random = 10 }
	}
	option = { # Attacked by vagrants
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
		}
		country_event = { id = vampire_ruler.29 days = 30 random = 10 }
	}
	option = { # Massacre in Court
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 1
		}
		country_event = { id = vampire_ruler.30 days = 30 random = 10 }
	}
	
	#Good Events
	#Tavern
	option = {
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 4
		}
		country_event = { id = vampire_ruler.18 days = 30 random = 10 }
	}
	#Streets
	option = {
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 4
		}
		country_event = { id = vampire_ruler.19 days = 30 random = 10 }
	}
	#Court
	option = {
		name = vampire_ruler.132.a
		ai_chance = {
			factor = 4
		}
		country_event = { id = vampire_ruler.20 days = 30 random = 10 }
	}
}

country_event = { #Encounter Feral Vampire
	id = vampire_ruler.14
	title = vampire_ruler.14.t
	desc = vampire_ruler.14.d
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #I will fight them
		name = vampire_ruler.14.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			60 = {} #Fight them off successfullly
			39 = { facade_suspicion_increase_1 = yes kill_ruler = yes } # Fight them off but is injured
			1 = { facade_suspicion_increase_1 = yes kill_vampire_ruler = yes } # Ruler must resurrect
		}
	}
	
	option = { #I must escape (No hunt)
		name = vampire_ruler.14.b
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		random = {
			chance = 20
			kill_ruler = yes
		}
	}
}

country_event = { #Ambushed by Hunter
	id = vampire_ruler.15
	title = vampire_ruler.15.t
	desc = vampire_ruler.15.d
	picture = ASSASSINATION_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #Fight Hunter
		name = vampire_ruler.15.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			#Fight them off successfullly
			40 = {
				end_hunter_hunt = yes
			}
			#Fight them off but is injured
			59 = {
				facade_suspicion_increase_2 = yes
				advance_hunter_hunt = yes
				kill_ruler = yes
			}
			#Ruler must ressurect
			1 = {
				facade_suspicion_increase_2 = yes
				advance_hunter_hunt = yes
				kill_ruler = yes
			}
		}
	}
	
	option = { #I must escape (No hunt)
		name = vampire_ruler.15.b
		ai_chance = {
			factor = 10
		}
		random_list = {
			50 = {  }
			30 = { advance_hunter_hunt = yes }
			20 = {
				facade_suspicion_increase_1 = yes
				kill_ruler = yes
				advance_hunter_hunt = yes
			}
		}
	}
	
	option = { #I must escape (Has Vampire havens, can still hunt)
		name = vampire_ruler.15.c
		ai_chance = { factor = 10 }
		highlight = yes
		trigger = { has_estate_privilege = estate_vampires_transfer_land_ownership }

		increase_random_ruler_skill = yes
	}
}

country_event = { #Ruler is Recognized
	id = vampire_ruler.16
	title = vampire_ruler.16.t
	desc = vampire_ruler.16.d
	picture = ACCUSATION_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #I must escape
		name = vampire_ruler.16.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		increase_random_ruler_skill = yes
	}
	
	option = { #They will die
		name = vampire_ruler.16.b
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_2 = yes
		increase_random_ruler_skill = yes
		increase_random_ruler_skill = yes
	}
	
	option = { #Mesmerize them
		name = vampire_ruler.16.c
		trigger = { vampire_age = { greater_than_or_equal_to = 36500 } }
		ai_chance = {
			factor = 1000
		}
		highlight = yes
		increase_random_ruler_skill = yes
	}
}

country_event = { #Hunt Overruns, no prey caught
	id = vampire_ruler.17
	title = vampire_ruler.17.t
	desc = vampire_ruler.17.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #Damn
		name = vampire_ruler.17.a
		ai_chance = {
			factor = 10
		}
		set_country_flag = vampire_missed_hunt
	}
	
	option = { #Try for a bit longer
		name = vampire_ruler.17.b
		ai_chance = {
			factor = 0
		}
		random_list = {
			25 = { increase_ruler_adm_effect = yes }
			25 = { increase_ruler_dip_effect = yes }
			25 = { increase_ruler_mil_effect = yes }
			5 = { kill_vampire_ruler = yes } 
		}
	}
}

country_event = { #Mesmerize Tavern goer
	id = vampire_ruler.18
	title = vampire_ruler.18.t
	desc = vampire_ruler.18.d
	picture = DIPLOMACY_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #Great!
		name = vampire_ruler.18.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
}

country_event = { #Unseen at night
	id = vampire_ruler.19
	title = vampire_ruler.19.t
	desc = vampire_ruler.19.d
	picture = RAMADAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #Great!
		name = vampire_ruler.19.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
}

country_event = { #A Missing Courtier
	id = vampire_ruler.20
	title = vampire_ruler.20.t
	desc = vampire_ruler.20.d
	picture = COURT_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { #Great!
		name = vampire_ruler.20.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
}

#####################
### Hunter events ###
#####################

country_event = { #Advance Hunter - should be about one hunt per lifetime
	id = vampire_ruler.21
	title = vampire_ruler.21.t
	desc = vampire_ruler.21.d
	picture = SPY_eventPicture

	is_triggered_only = yes
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
		
		modifier = { #Speeds up once they begin hunting you
			factor = 20
			has_country_flag = vampire_being_hunted
		}
		
		modifier = {
			factor = 10
			NOT = { has_country_flag = vampire_being_hunted }
			has_country_modifier = outed_vampire
		}
		
		modifier = { # You're not known at all
			factor = 0.1
			NOT = { has_country_flag = vampire_being_hunted has_country_modifier = outed_vampire }
			NOT = {
				check_variable = {
					which = suspicionPoints
					value = 5
				}
			}
		}
		
		modifier = { # Chance of attracting a hunter
			factor = 1.33
			NOT = { has_country_flag = vampire_being_hunted has_country_modifier = outed_vampire }
			check_variable = {
				which = suspicionPoints
				value = 10
			}
		}
		
		modifier = {
			factor = 0.70
			NOT = { has_country_flag = vampire_being_hunted has_country_modifier = outed_vampire }
			# At this point you're known to vampire hunters
			check_variable = {
				which = suspicionPoints
				value = 15
			}
		}
		
		modifier = {
			factor = 0.5
			NOT = { has_country_flag = vampire_being_hunted has_country_modifier = outed_vampire }
			# At this point you're well known to vampire hunters, only slightly more than being an outed vampire
			check_variable = {
				which = suspicionPoints
				value = 25
			}
		}
	}
	
	option = {
		name = vampire_ruler.21.a
		ai_chance = {
			factor = 10
		}
		advance_hunter_hunt = yes
	}
}

country_event = { # Confront Hunter
	id = vampire_ruler.22
	title = vampire_ruler.22.t
	desc = vampire_ruler.22.d
	picture = REVOLT_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}

	is_triggered_only = yes
	
	option = { #Fight
		name = vampire_ruler.22.a
		ai_chance = {
			factor = 10
		}
		if = { 
			limit = { mil = 6 }
			random_list = {
				20 = { country_event = { id = vampire_ruler.31 days = 7 } }
				80 = { country_event = { id = vampire_ruler.23 days = 7 } }
			}
		}
		else_if = { 
			limit = { has_country_modifier = outed_vampire }
			random_list = {
				30 = { country_event = { id = vampire_ruler.31 days = 7 } }
				70 = { country_event = { id = vampire_ruler.23 days = 7 } }
			}
		}
		else = {
			random_list = {
				40 = { country_event = { id = vampire_ruler.31 days = 7 } }
				60 = { country_event = { id = vampire_ruler.23 days = 7 } }
			}
		}
	}
	
	option = { #Mesmerize
		name = vampire_ruler.22.b
		trigger = { vampire_age = { greater_than_or_equal_to = 36500 } }
		ai_chance = {
			factor = 1000
		}
		highlight = yes
		random_list = {
			10 = { country_event = { id = vampire_ruler.31 days = 7 } }
			90 = { country_event = { id = vampire_ruler.23 days = 7 } }
		}
		change_dip = -1
	}
	
	option = { #Lucian & Mihaela
		name = vampire_ruler.22.c
		trigger = {
			OR = {
				tag = B34
				custom_trigger_tooltip = {
					tooltip = J84_mihaela_is_ruler_tt
					has_country_flag = J84_is_mihaela_flag
				}
			}
		}
		highlight = yes
		country_event = { id = vampire_ruler.23 days = 7 }
		change_mil = -1
	}
}

country_event = { # Defeat Hunter
	id = vampire_ruler.23
	title = vampire_ruler.23.t
	desc = vampire_ruler.23.d
	picture = GREAT_MAN_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = vampire_ruler.23.a
		ai_chance = {
			factor = 10
		}
		add_legitimacy = 10
		add_prestige = 10
	}
}

#############################
### Stat Loss events cont ###
#############################

country_event = { # The Hunt - A Second Shadow
	id = vampire_ruler.26
	title = vampire_ruler.26.t
	desc = vampire_ruler.26.d
	picture = CORRUPTION_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # Ignore it
		name = vampire_ruler.26.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
	
	option = { # Go Home
		name = vampire_ruler.26.b
		ai_chance = {
			factor = 10
		}
		set_country_flag = vampire_missed_hunt
	}
}

country_event = { # The Hunt - Pursued by Guards
	id = vampire_ruler.27
	title = vampire_ruler.27.t
	desc = vampire_ruler.27.d
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # Escape
		name = vampire_ruler.27.a
		ai_chance = {
			factor = 10
		}
		facade_suspicion_increase_1 = yes
		random_list = {
			30 = { increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes }
		}
	}
}

country_event = { # The Hunt - A Poor Hunt
	id = vampire_ruler.28
	title = vampire_ruler.28.t
	desc = vampire_ruler.28.d
	picture = BAD_WITH_MONARCH_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # At least I'm not hungry anymore
		name = vampire_ruler.28.a
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { # The Hunt - Fight Vagrants
	id = vampire_ruler.29
	title = vampire_ruler.29.t
	desc = {
		trigger = { NOT = { any_neighbor_country = {  primary_culture = marrodic } } }
		desc = vampire_ruler.29.d
	}
	desc = {
		trigger = { any_neighbor_country = {  primary_culture = marrodic } }
		desc = vampire_ruler.29.d2
	}
	picture = GREAT_MAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # Fight them
		name = vampire_ruler.29.a
		ai_chance = {
			factor = 10
		}
		random_list = {
			10 = { increase_ruler_adm_effect = yes }
			10 = { increase_ruler_dip_effect = yes }
			10 = { increase_ruler_mil_effect = yes }
			1 = { kill_ruler = yes } # 1 / 31
		}
	}
	
	option = { # Go Home
		name = vampire_ruler.29.b
		ai_chance = {
			factor = 10
		}
		set_country_flag = vampire_missed_hunt
	}
}

country_event = { # The Hunt - Bloodbath in court
	id = vampire_ruler.30
	title = vampire_ruler.30.t
	desc = vampire_ruler.30.d
	picture = GREAT_MAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # Stop
		name = vampire_ruler.30.a
		ai_chance = {
			factor = 10
		}
		set_country_flag = vampire_missed_hunt
	}
	
	option = { # Kill them all
		name = vampire_ruler.30.b
		ai_chance = {
			factor = 0
		}
		facade_suspicion_increase_2 = yes
		kill_advisor = random
		random_list = {
			30 = { increase_ruler_adm_effect = yes increase_ruler_adm_effect = yes }
			30 = { increase_ruler_dip_effect = yes increase_ruler_dip_effect = yes }
			30 = { increase_ruler_mil_effect = yes increase_ruler_mil_effect = yes }
		}
	}
}

country_event = { # The Confrontation - Adventurer Kills Ruler
	id = vampire_ruler.31
	title = vampire_ruler.31.t
	desc = vampire_ruler.31.d
	picture = GREAT_MAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	option = { # Die
		name = vampire_ruler.31.a
		kill_vampire_ruler = yes
		add_prestige = -20
		add_stability = -1
	}
}

country_event = { # The Confrontation - Reaper Kills Ruler
	id = vampire_ruler.32
	title = vampire_ruler.32.t
	desc = vampire_ruler.32.d
	picture = GREAT_MAN_eventPicture
	
	trigger = {
		ruler_is_vampire = yes
		is_lesser_in_union = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	is_triggered_only = yes
	
	option = { # Die
		name = vampire_ruler.32.a
		kill_vampire_ruler = yes
		add_prestige = -20
		add_stability = -1
	}
}

country_event = { # Vampire Heir Returns
	id = vampire_ruler.33
	title = vampire_ruler.33.t
	desc = vampire_ruler.33.d
	picture = GREAT_MAN_eventPicture
	
	trigger = {
		ruler_is_not_vampire = yes
		has_country_flag = vampire_heir
		is_lesser_in_union = no
	}
	
	is_triggered_only = yes
	
	immediate = {
		clr_country_flag = vampire_heir
	}
	
	option = { # Seizes Power
		name = vampire_ruler.33.a
		ai_chance = { factor = 1 }
		
		if = {
			limit = { has_country_flag = has_exiled_vampire_heir }
			set_heir = exiled_vampire_heir_@ROOT
			hidden_effect = {
				if = {
					limit = { has_heir = no }
					define_heir = { dynasty = ROOT age = 17 change_adm = 1 change_dip = 1 change_mil = 1 hide_skills = yes claim = 50 }
				}
				kill_ruler = yes add_stability = 1
			}
		}
		else = {
			define_ruler = {
				dynasty = ROOT
				age = 17
				change_adm = 1
				change_dip = 1
				change_mil = 1
				hide_skills = yes
				claim = 50
			}
		}
		ruler_become_vampire = yes
		reset_vampire_age = yes
		set_country_flag = no_vampire_sire
	}
	
	option = { # He hides
		name = vampire_ruler.33.b
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #Vampire Revival - Interregnum
	id = vampire_ruler.99
	title = vampire_ruler.99.t
	desc = vampire_ruler.99.d
	picture = DEATH_OF_HEIR_eventPicture
	
	is_triggered_only = yes	#this should be triggered by other events like adventurers destroying phylactery
	
	trigger = {
		ruler_is_vampire = yes
		NOT = { has_country_flag = interregnum }
		NOT = { government = republic }
		
		NOT = { has_ruler_flag = is_a_vampire }
		
		is_lesser_in_union = no #Breaks PUs otherwise
	}
	
	immediate = {
		hidden_effect = {
			#So it doesn't fire itself
			set_country_flag = interregnum

			#No stab loss while we shuffle around rulers
			add_country_modifier = { name = temp_immortal_revival duration = -1 hidden = yes }
			
			# Ruler is revived here
			if = {
				limit = { has_country_flag = B34_lucian }
				define_ruler = { age = 27 name = "Lucian" dynasty = "síl na Toars" male = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes }
			}
			else_if = {
				limit = { has_country_flag = J84_is_mihaela_flag }
				if = {
					limit = { has_country_flag = J81_rakulacan_vampires_flag }
					define_ruler = { age = 17 name = "Veliara" dynasty = "Rakulacan" culture = roilsardi female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes }
					define_consort = { age = 73 name = "Thelriatam" dynasty = "Rakulacan" adm = 6 dip = 5 mil = 3 }
					add_queen_personality = lawgiver_personality
					add_queen_personality = malevolent_personality
					make_consort_immortal = yes
				}
				else = {
					define_ruler = { age = 17 name = "Mihaela" dynasty = "Veliara" culture = roilsardi female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes }
				}
			}
			else = { #Make clear this guy is fake, give him the name "Interregnum"
				restore_saved_dynasty = yes
				if = {
					limit = { has_country_flag = vampire_ruler_female }
					define_heir = { age = 30 dynasty = ROOT female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes }
				}
				else = { define_heir = { age = 30 dynasty = ROOT male = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes } }

				set_country_flag = in_revival_heir
			}
		}
	}
	
	option = { # Revive Ruler
		name = vampire_ruler.99.a
		ai_chance = { factor = 50 }
		
		# Revived Rulers are slightly worse than normal ones, you don't want your ruler to die
		if = {
			limit = { has_country_flag = B34_lucian }
			tooltip = { define_ruler = { age = 27 name = "Lucian" dynasty = "síl na Toars" male = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes } }
		}
		else_if = {		
			limit = { has_country_flag = J84_is_mihaela_flag }
			if = {
				limit = { has_country_flag = J81_rakulacan_vampires_flag }
				tooltip = {
					define_ruler = { age = 17 name = "Veliara" dynasty = "Rakulacan" culture = roilsardi female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes }
					define_consort = { age = 73 name = "Thelriatam" dynasty = "Rakulacan" adm = 6 dip = 5 mil = 3 }
					add_queen_personality = lawgiver_personality
					add_queen_personality = malevolent_personality
					make_consort_immortal = yes
				}
			}
			else = {
				tooltip = { define_ruler = { age = 17 name = "Mihaela" dynasty = "Veliara" culture = roilsardi female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes } }
			}
		}
		else = {
			if = {
				limit = { has_country_flag = vampire_ruler_female }
				tooltip = { define_heir = { age = 30 dynasty = ROOT female = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes } }
			}
			else = { tooltip = { define_heir = { age = 30 dynasty = ROOT male = yes max_random_adm = 0 max_random_dip = 0 max_random_mil = 0 hide_skills = yes } } }
			hidden_effect = { kill_ruler = yes }
		}
		
		restore_ruler_stats = yes #Here for the tooltip
		revival_stat_loss = yes
		save_ruler_stats = yes
		
		hidden_effect = {
			clr_country_flag = interregnum
			remove_country_modifier = temp_immortal_revival
			clr_country_flag = in_revival_heir

			#clear first in case player lets a month go by before clicking
			if = {
				limit = { religion = neokttareum }
				clear_ancestor_ruler_personalities = yes
			}
			else = {
				clear_ruler_personalities = yes
				apply_saved_persistent_ruler_personalities = yes
			}
			
			#set up ruler again
			set_ruler_flag = long_lived_ruler
			set_ruler_flag = is_a_vampire
			add_ruler_modifier = { name = vampire_ruler duration = -1 }

			#get back powerful mage if you had it
			if = {
				limit = { has_country_flag = mage_vampire }
				define_powerful_mage = {
					type = ruler
					saved_levels = immortal
					save_levels = immortal
				}

				if = { #Get back witch-king status
					limit = { ruler_is_witch_king = yes }
					become_a_witch_king_effect = yes
				}
				else_if = { # If not exposed people forget your misuse of magic
					limit = { has_country_flag = hidden_ruler_vampire }
					clr_type_witch_king_points = { type = ruler }
				}
			}
		}
	}
}

province_event = { #Occupying army searches for coffin
	id = vampire_ruler.100
	title = vampire_ruler.100.t
	desc = vampire_ruler.100.d
	picture = END_OF_TIME_eventPicture
	goto = root
	
	is_triggered_only = yes
	
	trigger = {
		owner = { ruler_is_exposed_vampire = yes }
		is_capital = yes
		NOT = { controlled_by = owner }
		controller = { exists = yes }
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { owner = { NOT = { is_ruler_abjuration_level_1_minimum = yes } } }
				province_event = { id = vampire_ruler.101 days = 30 random = 15 } #Vampire rulers are less likely to be mages, give them a safety net
			}
			else = {
				owner = {
					trigger_switch = {
						on_trigger = has_ruler_flag
						
						abjuration_3 = { ROOT = { province_event = { id = vampire_ruler.101 days = 75 random = 60 } } }
						abjuration_2 = { ROOT = { province_event = { id = vampire_ruler.101 days = 60 random = 45 } } }
						abjuration_1 = { ROOT = { province_event = { id = vampire_ruler.101 days = 45 random = 30 } } }
					}
				}
			}
			controller = { country_event = { id = vampire_ruler.102 days = 1 } }
		}
	}
	
	#It is only a matter of time until the coffin is found
	option = {
		name = vampire_ruler.100.a
		trigger = { owner = { NOT = { is_ruler_abjuration_level_1_minimum = yes } } }
		ai_chance = { factor = 100 }
		
		owner = { add_prestige = -10 }
		tooltip = { province_event = { id = vampire_ruler.101 days = 30 random = 15 } }
	}
	
	#Wards will slow them down
	option = {
		name = vampire_ruler.100.b
		trigger = { owner = { is_ruler_abjuration_level_1_minimum = yes } }
		ai_chance = { factor = 100 }
		
		owner = {
			add_prestige = -5
			tooltip = {
				trigger_switch = {
					on_trigger = has_ruler_flag
					
					abjuration_3 = { ROOT = { province_event = { id = vampire_ruler.101 days = 75 random = 60 } } }
					abjuration_2 = { ROOT = { province_event = { id = vampire_ruler.101 days = 60 random = 45 } } }
					abjuration_1 = { ROOT = { province_event = { id = vampire_ruler.101 days = 45 random = 30 } } }
				}
			}
		}
	}
}

province_event = { #coffin found by occupiers if not retaken
	id = vampire_ruler.101
	title = vampire_ruler.101.t
	desc = vampire_ruler.101.d
	picture = END_OF_TIME_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		owner = { ruler_is_vampire = yes }
		NOT = { controlled_by = ROOT }
		controller = { exists = yes }
	}

	#coffin destroyed
	option = {
		name = vampire_ruler.101.a
		ai_chance = { factor = 100 }
		
		controller = { country_event = { id = vampire_ruler.103 } }
		owner = { country_event = { id = vampire_ruler.104 } }
	}
}

country_event = { #Occupier coffin search notification
	id = vampire_ruler.102
	title = vampire_ruler.102.t
	desc = vampire_ruler.102.d
	picture = END_OF_TIME_eventPicture
	
	is_triggered_only = yes
	
	option = { #Inform you should hold province to destroy coffin
		name = vampire_ruler.102.a
		ai_chance = { factor = 100 }
	}
}

country_event = { #Occupier destroys coffin
	id = vampire_ruler.103
	title = vampire_ruler.103.t
	desc = vampire_ruler.103.d
	picture = END_OF_TIME_eventPicture
	
	is_triggered_only = yes
	
	option = { #Destroyed coffin reward
		name = vampire_ruler.103.a
		ai_chance = { factor = 100 }
		
		add_prestige = 20
		add_country_modifier = {
			name = vampire_destroyed_coffin
			duration = 3650
		}
	}
}

country_event = { #vampire Destruction - coffin destroyed
	id = vampire_ruler.104
	title = vampire_ruler.104.t
	desc = vampire_ruler.104.d
	picture = END_OF_TIME_eventPicture
	
	is_triggered_only = yes	#this should be triggered by other events like adventurers destroying coffin
	
	trigger = { ruler_is_vampire = yes }
	
	option = {
		name = vampire_ruler.104.a
		ai_chance = { factor = 50 }
		
		kill_vampire_ruler = yes
		add_prestige = -20
		add_stability = -1		#Less of a deal than a lich dying, there are likely more vampires about
	}
}