namespace = merfolk_events

###################
###SYSTEM EVENTS###
###################

province_event = { #Merfolk agendas
	id = merfolk_events.0
	title = merfolk_events.0.t
	desc = merfolk_events.0.desc
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { owner = { NOT = { has_country_flag = in_merfolk_agenda } } }
				owner = { set_country_flag = in_merfolk_agenda }
				for = {
					amount = 3
					effect = " merfolk_generate_random_agenda_effect = yes "
				}
			}
		}
	}
	
	after = {
		hidden_effect = {
			owner = { clr_country_flag = in_merfolk_agenda }
			merfolk_clear_all_agendas_effect = yes
		}
	}

	option = {
		name = merfolk_events.0.a
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = send_delegation_unlock_flag }
		owner = {
			add_dip_power = -50
			if = {
				limit = { total_development = 1000 }
				add_treasury = -500
			}
			else_if = {
				limit = { total_development = 500 }
				add_treasury = -250
			}
			else_if = {
				limit = { total_development = 100 }
				add_treasury = -150
			}
			else = {
				add_treasury = -50
			}
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.b
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = send_weapons_unlock_flag }
		owner = {
			add_mil_power = -50
			if = {
				limit = { total_development = 1000 }
				add_treasury = -500
			}
			else_if = {
				limit = { total_development = 500 }
				add_treasury = -250
			}
			else_if = {
				limit = { total_development = 100 }
				add_treasury = -150
			}
			else = {
				add_treasury = -50
			}
			merfolk_add_opinion_effect_large = yes
		}
	}
	
	option = {
		name = merfolk_events.0.c
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = conduct_surveys_unlock_flag }
		owner = {
			add_adm_power = -50
			if = {
				limit = { total_development = 1000 }
				add_treasury = -500
			}
			else_if = {
				limit = { total_development = 500 }
				add_treasury = -250
			}
			else_if = {
				limit = { total_development = 100 }
				add_treasury = -150
			}
			else = {
				add_treasury = -50
			}
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.d
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = allow_freedom_of_movement_unlock_flag }

		add_local_autonomy = 50
		owner = { merfolk_add_opinion_effect_large = yes }
	}

	option = {
		name = merfolk_events.0.e
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = flood_lands_unlock_flag }

		owner = {
			change_estate_land_share = {
				estate = all
				share = 2
			}
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.f
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = mint_currency_unlock_flag }

		owner = {
			add_inflation = 1
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.g
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = bow_ruler_unlock_flag }

		owner = {
			add_legitimacy = -30
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.h
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = bow_demands_unlock_flag }

		owner = {
			add_prestige = -20
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.i
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = partake_ritual_unlock_flag }

		owner = {
			add_devotion = -30
			merfolk_add_opinion_effect_large = yes
		}
	}

	option = {
		name = merfolk_events.0.j
		ai_chance = { factor = 1 }
		trigger = { has_province_flag = cede_waters_unlock_flag }

		owner = {
			add_stability = -1
			merfolk_add_opinion_effect_large = yes
		}
	}
}
country_event = { #neutral to allied
	id = merfolk_events.1
	title = merfolk_events.1.t
	desc = merfolk_events.1.d
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.1.a
		merfolk_change_modifiers_positive_effect = yes

		custom_tooltip = can_build_merfolk_habitats
	}
}
#province_event = { #event that un-angers merfolk--angered does not exist right now
#	id = merfolk_events.2
#	title = merfolk_events.2.t
#	desc = merfolk_events.2.d
#	picture = GOOD_WITH_MONARCH_eventPicture
#
#	is_triggered_only = yes
#	trigger = {
#		has_province_modifier = offcoast_merfolk_angered
#		OR = {
#			is_empty = yes
#			owner = { is_or_was_tag = { tag = FROM } }
#			NOT = { has_province_modifier = merfolk_was_conquered }
#		}
#	}
#
#	immediate = {
#		hidden_effect = {
#			remove_province_modifier = offcoast_merfolk_angered
#			remove_province_modifier = merfolk_was_conquered
#			merfolk_spawn_modifier = yes
#		}
#	}
#
#	option = {
#		name = merfolk_events.2.a
#		ai_chance = { factor = 1 }
#	}
#}
country_event = { #isolated to neutral
	id = merfolk_events.3
	title = merfolk_events.3.t
	desc = merfolk_events.3.d
	picture = GOOD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.3.a
		merfolk_change_modifiers_positive_effect = yes
	}
}
country_event = { #allied to neutral
	id = merfolk_events.4
	title = merfolk_events.4.t
	desc = merfolk_events.4.d
	picture = BAD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.4.a
		merfolk_change_modifiers_negative_effect = yes
	}
}
#country_event = { #event telling you that merfolk will be angered if you conquer them - angered does not exist right now
#	id = merfolk_events.5
#	title = merfolk_events.5.t
#	desc = merfolk_events.5.d
#	picture = BAD_WITH_MONARCH_eventPicture
#	goto = FROM
#
#	is_triggered_only = yes
#	trigger = { NOT = { has_country_flag = received_merfolk_information } }
#
#	option = {
#		name = merfolk_events.5.a
#		ai_chance = { factor = 1 }
#
#		set_country_flag = received_merfolk_information
#		tooltip = {
#			merfolk_subtract_opinion_effect_medium = yes
#			FROM = { province_event = { id = merfolk_events.2 days = 2190 } }
#		}
#	}
#}
country_event = { #neutral to isolated
	id = merfolk_events.6
	title = merfolk_events.6.t
	desc = merfolk_events.6.d
	picture = BAD_WITH_MONARCH_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.6.a
		merfolk_change_modifiers_negative_effect = yes
	}
}
province_event = { #development of an offcoast settlement
	id = merfolk_events.7
	title = merfolk_events.7.t
	desc = merfolk_events.7.d
	picture = CITY_DEVELOPMENT_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.7.a
		ai_chance = { factor = 1 }

		if = {
			limit = { region = fahvanosy_region }
			6678 = { change_variable = { which = fahvanosyMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = odu_kherass_region }
			6678 = { change_variable = { which = oduKherassMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = ishyamtumu_region }
			6678 = { change_variable = { which = ishyamtumuMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = ringlet_isles_region }
			6678 = { change_variable = { which = ringletIslesMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = bamaliwuni_region }
			6678 = { change_variable = { which = bamaliwuniMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = throden_gokad_region }
			6678 = { change_variable = { which = throdenGokadMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = ardimya_region }
			6678 = { change_variable = { which = ardimyaMerfolkCap value = 1 } }
		}
		else_if = {
			limit = { region = jasiir_jadid_region }
			6678 = { change_variable = { which = jasiirJadidMerfolkCap value = 1 } }
		}
		merfolk_spawn_modifier = yes
		custom_tooltip = merfolk_amount_update_region_tt
	}
}

country_event = { #opinion setup
	id = merfolk_events.8
	title = merfolk_events.8.t
	desc = merfolk_events.8.d
	picture = CULTURE_eventPicture

	hidden = yes

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		tag = S18
		NOT = { is_year = 1445 }
	}

	option = {
		name = merfolk_events.8.a
		S16 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S17 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S18 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S19 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S20 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S21 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S22 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
		S78 = { set_country_flag = merfolk_opinion_allied set_variable = { which = merfolkOpinionVar value = 80 } }
	}
}

country_event = { #Handler event
	id = merfolk_events.9
	title = merfolk_events.9.t
	desc = merfolk_events.9.d
	picture = CULTURE_eventPicture

	hidden = yes
	is_triggered_only = yes

	trigger = {
		any_owned_province = {
			province_group = dynamic_merfolk_region
		}
	}

	immediate = {
		if = {
			limit = { any_owned_province = { has_province_flag = merfolk_settlement } }
			set_country_flag = has_merfolk_in_land
		}
	}

	option = { #has merfolk in province
		name = merfolk_events.9.a
		trigger = {
			has_country_flag = has_merfolk_in_land
		}
		random_list = {
			#15 = {
			#	country_event = {
			#		id = merfolk_events.10
			#	}
			#}
			15 = {
				trigger = {
					any_owned_province = {
						trade_goods = fish
						has_port = yes
						NOT = { has_province_modifier = merfolk_fishing_unmoved }
						NOT = { has_province_modifier = merfolk_fishing_little }
						NOT = { has_province_modifier = merfolk_fishing_accommodate }
					}
				}
				country_event = {
					id = merfolk_events.11
				}
			}
			15 = {
				trigger = {
					NOT = { has_institution = enlightenment }
					NOT = { has_country_flag = merfolk_traveler }
					has_country_flag = merfolk_opinion_allied
					any_owned_province = {
						OR = {
							fast_has_pop_of_race = { race = elven }
							fast_has_pop_of_race = { race = ruinborn }
						}			
					}
				}
				country_event = {
					id = merfolk_events.12
				}
			}
			15 = {
				trigger = {
					has_institution = enlightenment
					NOT = { has_country_flag = merfolk_scientist }
					has_country_flag = merfolk_opinion_allied
					any_owned_province = {
						OR = {
							fast_has_pop_of_race = { race = elven }
							fast_has_pop_of_race = { race = ruinborn }
						}			
					}
				}
				country_event = {
					id = merfolk_events.13
				}
			}
			15 = {
				trigger = {
					any_owned_province = {
						has_province_flag = merfolk_settlement
						NOT = { has_province_modifier = successful_merfolk_protest }
					}
				}
				country_event = {
					id = merfolk_events.14
				}
			}
			15 = {
				trigger = {
					OR = {
						has_country_flag = merfolk_opinion_allied
						has_country_flag = merfolk_opinion_neutral
					}
					NOT = { has_country_modifier = merfolk_flotsam_gratitude }
				}
				country_event = {
					id = merfolk_events.15
				}
			}
			15 = {
				trigger = {
					any_owned_province = {
						has_province_flag = merfolk_settlement
						NOT = { has_province_modifier = merfolk_youth_stranding } 
					}
				}
				country_event = {
					id = merfolk_events.16
				}
			}
			5 = {
				trigger = { NOT = { has_country_flag = merfolk_opinion_allied } }
				country_event = {
					id = merfolk_events.17
				}
			}
			15 = {
				trigger = { NOT = { has_country_flag = merfolk_opinion_allied } }
				country_event = {
					id = merfolk_events.18
				}
			}
			15 = {
				country_event = {
					id = merfolk_events.19
				}
			}
			15 = {
				trigger = {
					current_age = age_of_absolutism
					any_owned_province = {
						OR = {
							area = ardimyas_path_area
							area = new_armanhal_area
							area = muudeyneen_heartlands_area
							area = visage_isles_area
						}
					}
					NOT = { has_country_flag = merfolk_witch_king }
				}
				country_event = {
					id = merfolk_events.20
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
					NOT = { has_country_modifier = merfolk_detente }
				}
				country_event = {
					id = merfolk_events.28
				}
			}
			15 = {
				trigger = {
					has_country_flag = merfolk_opinion_allied
				}
				country_event = {
					id = merfolk_events.29
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
					NOT = { has_country_flag = merfolk_ocean_curve }
				}
				country_event = {
					id = merfolk_events.30
				}
			}
			15 = {
				country_event = {
					id = merfolk_events.35
				}
			}
			15 = {
				trigger = {
					OR = {
						has_country_flag = merfolk_opinion_allied
						has_country_flag = merfolk_opinion_neutral
					}
				}
				country_event = {
					id = merfolk_events.36
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
					any_owned_province = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
					province_event = {
						id = merfolk_events.37
					}
				}
			}
			15 = {
				random_owned_province = {
					limit = { has_province_flag = merfolk_settlement }
					province_event = {
						id = merfolk_events.38
					}
				}
			}
			15 = {
				trigger = {
					any_owned_province = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
					province_event = {
						id = merfolk_events.39
					}
				}
			}
			15 = {
				trigger = {
					any_owned_province = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
						OR = {
							has_shipyard_building_trigger = yes
							has_dock_building_trigger = yes
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
						OR = {
							has_shipyard_building_trigger = yes
							has_dock_building_trigger = yes
						}
					}
					province_event = {
						id = merfolk_events.40
					}
				}
			}
			15 = {
				country_event = {
					id = merfolk_events.41
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
				}
				random_owned_province = {
					limit = {
						OR = {
							has_province_modifier = offcoast_merfolk_neutral
							has_province_modifier = offcoast_merfolk_isolated
						}
					}
					province_event = {
						id = merfolk_events.42
					}
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
					any_owned_province = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
				}
				random_owned_province = {
					limit = {
						has_port = yes
						OR = {
							superregion = djinnakah_superregion
							region = bamaliwuni_region
							region = ishyamtumu_region
							region = odu_kherass_region
						}
					}
					province_event = {
						id = merfolk_events.45
					}
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
				}
				country_event = {
					id = merfolk_events.46
				}
			}
			15 = {
				trigger = {
					NOT = { has_country_flag = merfolk_opinion_allied }
				}
				country_event = {
					id = merfolk_events.47
				}
			}
			15 = {
				trigger = { NOT = { has_country_modifier = merfolk_revolutionary_thought } }
				country_event = {
					id = merfolk_events.48
				}
			}
			615 = {	
			}
		}
	}
	option = {#not has merfolk in province
		name = merfolk_events.9.b
		trigger = {
			NOT = { has_country_flag = has_merfolk_in_land }
		}
		##This is commented out until more events for no merfolk pops in country are made
		#random_list = {
			#15 = {
			#	trigger = {
			#		any_owned_province = {
			#			trade_goods = fish
			#			has_port = yes
			#			NOT = { has_province_modifier = merfolk_fishing_unmoved }
			#			NOT = { has_province_modifier = merfolk_fishing_little }
			#			NOT = { has_province_modifier = merfolk_fishing_accommodate }
			#		}
			#	}
			#	country_event = {
			#		id = merfolk_events.11
			#	}
			#}
			#5 = {
			#	country_event = {
			#		id = merfolk_events.17
			#	}
			#}
			#15 = {
			#	trigger = {
			#		current_age = age_of_absolutism
			#		any_owned_province = {
			#			OR = {
			#				area = ardimyas_path_area
			#				area = new_armanhal_area
			#				area = muudeyneen_heartlands_area
			#				area = visage_isles_area
			#			}
			#		}
			#		NOT = { has_country_flag = merfolk_witch_king }
			#	}
			#	country_event = {
			#		id = merfolk_events.20
			#	}
			#}
			#135 = {	
			#}
		#}
	}

	after = { clr_country_flag = has_merfolk_in_land }
}

####################
###FLAVOUR EVENTS###
####################
country_event = { #Fishy Love Story
	id = merfolk_events.10 
	title = merfolk_events.10.t
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { has_province_flag = merfolk_settlement }
				save_event_target_as = merfolk_settlement
			}
		}
	}

	desc = merfolk_events.10.d

	option = {
		name = merfolk_events.10.a #The guy's an idiot
		event_target:merfolk_settlement = {
			add_unrest = 10
		}
		merfolk_add_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.10.b #We lost rizz battle with merfolk
		merfolk_subtract_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.10.c #No hating today just happy
		add_treasury = -50
			merfolk_add_opinion_effect_large = yes
	}
}

country_event = {
	id = merfolk_events.11 #Merfolk get fished
	title = merfolk_events.11.t
	desc = merfolk_events.11.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes
	
	option = {
		name = merfolk_events.11.a #Get outta my way!
		every_owned_province = {
			limit = {
				continent = africa
				trade_goods = fish
				has_port = yes
			}
			add_province_modifier = {
				name = merfolk_fishing_unmoved
				duration = 3650
			}
		}
		merfolk_subtract_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.11.b #Damn you bothering me
		every_owned_province = {
			limit = {
				continent = africa
				trade_goods = fish
				has_port = yes
			}
			add_province_modifier = {
				name = merfolk_fishing_little
				duration = 3650
			}
		}
		merfolk_add_opinion_effect_small = yes
	}
	option = {
		name = merfolk_events.11.c #We cool brother
		every_owned_province = {
			limit = {
				continent = africa
				trade_goods = fish
				has_port = yes
			}
			add_province_modifier = {
				name = merfolk_fishing_accommodate
				duration = 3650
			}
		}
		merfolk_add_opinion_effect_medium = yes
	}
}

country_event = { #Curious similarity
	id = merfolk_events.12 
	title = merfolk_events.12.t
	desc = merfolk_events.12.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes

	immediate = {
		set_country_flag = merfolk_traveler
	}

	option = {
		name = merfolk_events.12.a
		define_advisor = {
			type = inquisitor
			skill = 2
			discount = yes
		}
		every_owned_province = {
			add_unrest = 2
		}
	}
	option = {
		name = merfolk_events.12.b
		add_prestige = -5
	}
	option = {
		name = merfolk_events.12.c
		trigger = {
			employed_advisor = {
				type = natural_scientist
			}
		}
		change_innovativeness = 3
		set_country_flag = merfolk_scientist_research
	}
}

country_event = { #Curious similarity electric boogaloo
	id = merfolk_events.13
	title = merfolk_events.13.t
	desc = merfolk_events.13.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes

	immediate = { set_country_flag = merfolk_scientist }

	option = {
		name = merfolk_events.13.a
		define_advisor = {
			type = natural_scientist
			skill = 3
			discount = yes
		}
	}
	option = {
		name = merfolk_events.13.b
		trigger = {
			has_country_flag = merfolk_traveler
			has_country_flag = merfolk_scientist_research
		}
		add_country_modifier = {
			name = merfolk_scientific_rennaisance
			duration = 3650
		}
	}
	option = {
		name = merfolk_events.13.c
		trigger = {
			has_country_flag = merfolk_traveler
			NOT = { has_country_flag = merfolk_scientist_research }
		}
		add_country_modifier = {
			name = merfolk_scientific_insight
			duration = 1825
		}
	}
}

country_event = {
	id = merfolk_events.14 #Beachfront Protest
	title = merfolk_events.14.t
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = merfolk_settlement
					NOT = { has_province_modifier = successful_merfolk_protest }
				}
				save_event_target_as = merfolk_settlement
			}
		}
	}

	desc = merfolk_events.14.d

	option = {
		name = merfolk_events.14.a
		event_target:merfolk_settlement = {
			add_province_modifier = {
				name = successful_merfolk_protest
				duration = 1825
			}
		}
		merfolk_add_opinion_effect_small = yes
	}
	option = {
		name = merfolk_events.14.b
		merfolk_subtract_opinion_effect_medium = yes
	}
}

country_event = {
	id = merfolk_events.15 #Returned Flotsam
	title = merfolk_events.15.t
	desc = merfolk_events.15.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.15.a #Thank you my good sir
		if = {
			limit = {
				NOT = { monthly_income = 8.34 }
			}
			add_treasury = 50
		}
		else_if = {
			limit = { 
				monthly_income = 8.34
				NOT = { monthly_income = 16.67 }
			}
			add_treasury = 100
		}
		else_if = {
			limit = { 
				monthly_income = 16.67
				NOT = { monthly_income = 41.67 }
			}
			add_treasury = 300
		}
		else = {
			add_treasury = 400
		}
	}
	option = {
		name = merfolk_events.15.b #We humbly apologize my good sir
		add_country_modifier = {
			name = merfolk_flotsam_gratitude
			duration = 1825
		}
		merfolk_add_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.15.c #Finders keepers
		if = {
			limit = {
				NOT = { monthly_income = 8.34 }
			}
			add_treasury = 100
		}
		else_if = {
			limit = { 
				monthly_income = 8.34
				NOT = { monthly_income = 16.67 }
			}
			add_treasury = 200
		}
		else_if = {
			limit = { 
				monthly_income = 16.67
				NOT = { monthly_income = 41.67 }
			}
			add_treasury = 600
		}
		else = {
			add_treasury = 800
		}
		merfolk_subtract_opinion_effect_medium = yes
	}
}
#Youth Stranding
country_event = {
	id = merfolk_events.16 
	title = merfolk_events.16.t
	picture	= FORT_eventPicture

	is_triggered_only = yes

	desc = merfolk_events.16.d

	option = {
		name = merfolk_events.16.a #It's all good
		every_owned_province = {
			limit = { has_province_flag = merfolk_settlement }
			add_province_modifier = {
				name = merfolk_youth_stranding
				duration = 3650
			}
		}
		merfolk_add_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.16.b #I hate fun
		add_prestige = 15
		merfolk_subtract_opinion_effect_small = yes
	}
}

country_event = {
	id = merfolk_events.17 #Childish curiosity
	title = merfolk_events.17.t
	desc = merfolk_events.17.d
	picture = FORT_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.17.a #What's the harm
		random_list = {
			33 = { merfolk_add_opinion_effect_medium = yes }
			33 = {}
			33 = { merfolk_subtract_opinion_effect_medium = yes }
		}
	}
	option = {
		name = merfolk_events.17.b #Take it seriously peeps
		add_dip_power = -75
		random_list = {
			50 = {
				merfolk_add_opinion_effect_large = yes
			}
			50 = {
				merfolk_add_opinion_effect_largest = yes
			}
		}
	}
}

country_event = {
	id = merfolk_events.18 #Changing Tides: A Flood Approaching
	title = merfolk_events.18.t
	desc = merfolk_events.18.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.18.a #boring
		merfolk_add_opinion_effect_medium = yes
	}
	option = {
		name = merfolk_events.18.b #lets go
		merfolk_add_opinion_effect_large = yes
	}
}

country_event = {
	id = merfolk_events.19 #Changing Tides: An Ebb
	title = merfolk_events.19.t
	desc = merfolk_events.19.d
	picture = HARBOUR_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.19.a #No intevetion
		merfolk_subtract_opinion_effect_large = yes
	}
	option = {
		name = merfolk_events.19.b #We all good right
		add_adm_power = -25
		add_dip_power = -25
		add_mil_power = -25
		merfolk_add_opinion_effect_large = yes
	}
}
#Witch King Event Chain Start
country_event = {
	id = merfolk_events.20 #Witch King Rises
	title = merfolk_events.20.t
	desc = merfolk_events.20.d
	picture = NUSANTARA_THRONE_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						area = ardimyas_path_area
						area = new_armanhal_area
						area = muudeyneen_heartlands_area
						area = visage_isles_area
					}
				}
				save_event_target_as = merfolk_events_ardimya
			}
			set_country_flag = merfolk_witch_king
		}
	}

	option = {
		name = merfolk_events.20.a
		random_list = {
			25 = { country_event = { id = merfolk_events.21 } }
			75 = { country_event = {
				id = merfolk_events.22
				days = 1825
				}
			}
		}
	}
	option = {
		name = merfolk_events.20.b
		add_years_of_income = -0.5
		country_event = {
			id = merfolk_events.23
			days = 730
		}
	}
	option = {
		name = merfolk_events.20.c
		add_years_of_income = -0.75
		add_adm_power = -50
		add_dip_power = -50
		add_mil_power = -50
		country_event = {
			id = merfolk_events.24
			days = 730
		}
	}
}

country_event = {
	id = merfolk_events.21 #Nothing happened?
	title = merfolk_events.21.t
	desc = merfolk_events.21.d
	picture = EP_ISLAND_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.21.a
	}
}

country_event = {
	id = merfolk_events.22 #Witch King Won
	title = merfolk_events.22.t
	desc = merfolk_events.22.d
	picture = VILLAGE_BURNING_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.22.a
		add_country_modifier = {
			name = merfolk_witchking_tribute
			duration = 5475
		}
	}
	option = {
		name = merfolk_events.22.b
		country_event = {
			id = merfolk_events.26
			days = 180
		}
	}
}

country_event = {
	id = merfolk_events.23 #Witch King won but good
	title = merfolk_events.23.t
	desc = merfolk_events.23.d
	picture = FEAST_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.23.a
		event_target:merfolk_events_ardimya = {
			add_province_modifier = {
				name = merfolk_witchking_benefit
				duration = 5475
			}
		}
		country_event = {
			id = merfolk_events.27
			days = 180
		}	
	}
}

country_event = {
	id = merfolk_events.24 #War is expensive
	title = merfolk_events.24.t
	desc = merfolk_events.24.d
	picture = GENERALS_DISCUSSING_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.24.a
		add_years_of_income = -0.5
		add_adm_power = -25
		add_dip_power = -25
		add_mil_power = -25
		random_list = {
			80 = {
				country_event = {
					id = merfolk_events.25
					days = 365
				}
			}
			20 = {
				country_event = {
					id = merfolk_events.26
					days = 365
				}
			}
		}
	}
	option = {
		name = merfolk_events.24.b
		random_list = {
			80 = {
				country_event = {
					id = merfolk_events.26
					days = 365
				}
			}
			20 = {
				country_event = {
					id = merfolk_events.25
					days = 365
				}
			}
		}
	}
}

country_event = {
	id = merfolk_events.25 #Witch king was killed
	title = merfolk_events.25.t
	desc = merfolk_events.25.d
	picture = HORDE_ON_HORSEBACK_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.25.a
		add_years_of_income = 1
		merfolk_add_opinion_effect_largest = yes
	}
}

country_event = {
	id = merfolk_events.26 #Witch king angy
	title = merfolk_events.26.t
	desc = merfolk_events.26.d
	picture = VILLAGE_BURNING_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.26.a
		event_target:merfolk_events_ardimya = {
			add_devastation = 25
			add_province_modifier = {
				name = merfolk_witchking_angry
				duration = 5475
			}
		}
	}
}

country_event = {
	id = merfolk_events.27 #Witch king dead
	title = merfolk_events.27.t
	desc = merfolk_events.27.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.27.a
		merfolk_subtract_opinion_effect_largest = yes
	}
}
#Witch King Event Chain Ends

country_event = {
	id = merfolk_events.28 #Undertow Raiders
	title = merfolk_events.28.t
	picture = VILLAGE_RAIDED_eventPicture

	is_triggered_only = yes


	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { 
					OR = {
						has_province_modifier = offcoast_merfolk_neutral
						# has_province_modifier = offcoast_merfolk_angered
						has_province_modifier = offcoast_merfolk_isolated
					}  
				}
				save_event_target_as = merfolk_unfriendly_province
			}
		}
	}

	desc = merfolk_events.28.d

	option = {
		name = merfolk_events.28.a
		custom_tooltip = merfolk_events.28.a.tt
		hidden_effect = {
			event_target:merfolk_unfriendly_province = {
				set_variable = {
					which = merfolkProvinceDev
					value = 0
				}
				export_to_variable = {
					variable_name = merfolkProvinceDev
					value = development
				}
				divide_variable = {
					which = merfolkProvinceDev
					value = 5
				}
				while = {
					limit = { 
						check_variable = {
							which = merfolkProvinceDev
							value = 1
						}
					}
					ROOT = {
						add_treasury = -50
						add_manpower = -2.5
						add_sailors = -2500
					}
					subtract_variable = {
						which = merfolkProvinceDev
						value = 1
					}
				}
			}
		}
		
	}
	option = {
		name = merfolk_events.28.b
		event_target:merfolk_unfriendly_province = {
			add_devastation = 20
			random = {
				chance = 33
				add_base_tax = -1
			}
			random = {
				chance = 33
				add_base_production = -1
			}
			random = {
				chance = 33
				add_base_manpower = -1
			}
		}	
	}
	option = {
		name = merfolk_events.28.c
		trigger = {
			OR = {
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = silver_tongue_personality
				ruler_has_personality = just_personality
				ruler_has_personality = calm_personality
				ruler_has_personality = kind_hearted_personality
				ruler_has_personality = benevolent_personality
			}
		}
		add_country_modifier = {
			name = merfolk_detente
			duration = 3650
		}
		merfolk_add_opinion_effect_medium = yes
	}
}

country_event = {
	id = merfolk_events.29 #Undertow Comrades
	title = merfolk_events.29.t
	picture = PEASANTS_BARTERING_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { has_province_modifier = offcoast_merfolk_allied }
				save_event_target_as = merfolk_friendly_province
			}
		}
	}

	desc = merfolk_events.29.d

	option = {
		name = merfolk_events.29.a
		custom_tooltip = merfolk_events.29.a.tt
		hidden_effect = {
			event_target:merfolk_friendly_province = {
				set_variable = {
					which = merfolkProvinceDev
					value = 0
				}
				export_to_variable = {
					variable_name = merfolkProvinceDev
					value = development
				}
				divide_variable = {
					which = merfolkProvinceDev
					value = 5
				}
				while = {
					limit = { 
						check_variable = {
							which = merfolkProvinceDev
							value = 1
						}
					}
					ROOT = {
						add_treasury = 50
						add_sailors = 2500
					}
					subtract_variable = {
						which = merfolkProvinceDev
						value = 1
					}
				}
			}
		}
	}
		
	option = {
		name = merfolk_events.29.b
		custom_tooltip = merfolk_events.29.b.tt
		hidden_effect = {
			event_target:merfolk_friendly_province = {
				set_variable = {
					which = merfolkProvinceDev
					value = 0
				}
				export_to_variable = {
					variable_name = merfolkProvinceDev
					value = development
				}
				divide_variable = {
					which = merfolkProvinceDev
					value = 5
				}
				while = {
					limit = { 
						check_variable = {
							which = merfolkProvinceDev
							value = 1
						}
					}
					ROOT = {
						add_treasury = -50
					}
					subtract_variable = {
						which = merfolkProvinceDev
						value = 1
					}
				}
			}
		}
		
	}
	option = {
		name = merfolk_events.29.c
		custom_tooltip = merfolk_events.29.c.tt
		trigger = {
			OR = {
				ruler_has_personality = babbling_buffoon_personality
				ruler_has_personality = naive_personality
				ruler_has_personality = life_planetouched_personality
			}
		}
		hidden_effect = {
			event_target:merfolk_friendly_province = {
				set_variable = {
					which = merfolkProvinceDev
					value = 0
				}
				export_to_variable = {
					variable_name = merfolkProvinceDev
					value = development
				}
				divide_variable = {
					which = merfolkProvinceDev
					value = 5
				}
				while = {
					limit = { 
						check_variable = {
							which = merfolkProvinceDev
							value = 1
						}
					}
					ROOT = {
						add_treasury = 100
					}
					subtract_variable = {
						which = merfolkProvinceDev
						value = 1
					}
				}
			}
			merfolk_subtract_opinion_effect_medium = yes
		}
	}
}

#Ocean Curve Event Chains start
country_event = {
	id = merfolk_events.30 #Seasude Serenades
	title = merfolk_events.30.t
	picture = hARBOUR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						has_province_modifier = offcoast_merfolk_neutral
						# has_province_modifier = offcoast_merfolk_angered
						has_province_modifier = offcoast_merfolk_isolated
					}
				}
				save_event_target_as = merfolk_abduction
			}
			set_country_flag = merfolk_ocean_curve
		}
	}

	desc = merfolk_events.30.d

	option = {
		name = merfolk_events.30.a
		event_target:merfolk_abduction = {
			add_province_modifier = {
				name = merfolk_seaside_serenades
				duration = -1
			}
		}
		hidden_effect = {
			country_event = {
				id = merfolk_events.31
				days = 180
			}
		}
	}
}

country_event = {
	id = merfolk_events.31 #Ocean Abduction
	title = merfolk_events.31.t
	desc = merfolk_events.31.d
	picture = LAND_MILITARY_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.31.a
		event_target:merfolk_abduction = {
			remove_province_modifier = merfolk_seaside_serenades
			every_province_in_state = {
				add_province_modifier = {
					name = merfolk_ocean_abduction
					duration = -1
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = merfolk_events.32
				days = 365
			}
			set_country_flag = not_pressure_merfolk
		}
	}
	option = {
		name = merfolk_events.31.b
		event_target:merfolk_abduction = {
			remove_province_modifier = merfolk_seaside_serenades
			every_province_in_state = {
				add_province_modifier = {
					name = merfolk_ocean_abduction
					duration = -1
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = merfolk_events.32
				days = 365
			}
			set_country_flag = pressure_merfolk
		}
		merfolk_subtract_opinion_effect_medium = yes
	}
}

country_event = {
	id = merfolk_events.32 #Search concludes
	title = merfolk_events.32.t
	picture = ANGRY_MOB_eventPicture
	desc = {
		trigger = {
			has_country_flag = not_pressure_merfolk
		}
		desc = merfolk_events.32.d.1
	}
	desc = {
		trigger = {
			has_country_flag = pressure_merfolk
		}
		desc = merfolk_events.32.d.2
	}

	is_triggered_only = yes

	option = {
		name = merfolk_events.32.a
		hidden_effect = {
			country_event = {
				id = merfolk_events.33
			}
		}
	}
	option = {
		name = merfolk_events.32.b
		hidden_effect = {
			country_event = {
				id = merfolk_events.34
			}
		}
	}
}

country_event = {
	id = merfolk_events.33 #Ocean's Curve
	title = merfolk_events.33.t
	desc = merfolk_events.33.d
	picture = CITY_VIEW_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.33.a
		every_owned_province = {
			limit = {
				has_province_modifier = merfolk_ocean_abduction
			}
			remove_province_modifier = merfolk_ocean_abduction
		}
		event_target:merfolk_abduction = {
			add_province_modifier = {
				name = merfolk_lovers_inlet
				duration = 18250
			}
		}
	}
}

country_event = {
	id = merfolk_events.34 #Love Lost
	title = merfolk_events.34.t
	desc = merfolk_events.34.d
	picture = IMPALED_SOLDIERS_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.34.a
		every_owned_province = {
			limit = {
				has_province_modifier = merfolk_ocean_abduction
			}
			remove_province_modifier = merfolk_ocean_abduction
		}
		event_target:merfolk_abduction = {
			every_province_in_state = {
				add_province_modifier = {
					name = merfolk_monster_slain
					duration = 18250
				}
			}
		}
	}
}
#Oceans Curve Event Chains ends

country_event = {
	id = merfolk_events.35 #Sea Delegation
	title = merfolk_events.35.t
	desc = merfolk_events.35.d
	picture = DIPLOMACY_SIGNING_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.35.a
		if = {
			limit = {
				NOT = { monthly_income = 8.34 }
			}
			add_treasury = -100
		}
		else_if = {
			limit = { 
				monthly_income = 8.34
				NOT = { monthly_income = 16.67 }
			}
			add_treasury = -500
		}
		else_if = {
			limit = { 
				monthly_income = 16.67
				NOT = { monthly_income = 41.67 }
			}
			add_treasury = -1000
		}
		else = {
			add_treasury = -2000
		}
		add_dip_power = 50
		add_prestige = 25
	}
	option = {
		name = merfolk_events.35.b
		if = {
			limit = {
				NOT = { monthly_income = 8.34 }
			}
			add_treasury = -50
		}
		else_if = {
			limit = { 
				monthly_income = 8.34
				NOT = { monthly_income = 16.67 }
			}
			add_treasury = -250
		}
		else_if = {
			limit = { 
				monthly_income = 16.67
				NOT = { monthly_income = 41.67 }
			}
			add_treasury = -500
		}
		else = {
			add_treasury = -1000
		}
		add_prestige = 10
	}
	option = {
		name = merfolk_events.35.c
		merfolk_subtract_opinion_effect_medium = yes
	}
}

country_event = {
	id = merfolk_events.36 #Surface Delegation
	title = merfolk_events.36.t
	desc = merfolk_events.36.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes

	option = {
		name = merfolk_events.36.a
		add_prestige = -20
		merfolk_add_opinion_effect_large = yes
	}
	option = {
		name = merfolk_events.36.b
		add_prestige = -5
	}
	option = {
		name = merfolk_events.36.c
		add_prestige = 15
		merfolk_subtract_opinion_effect_large = yes
	}
}

province_event = {
	id = merfolk_events.37 #Shore-Spying Spyglass
	title = merfolk_events.37.t
	desc = merfolk_events.37.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.37.a
		owner = {
			add_prestige = 5
			add_years_of_income = -0.1
			merfolk_add_opinion_effect_medium = yes
		}
		add_province_modifier = {
			name = merfolk_tourist
			duration = 1825
		}
	}
	
	option = {
		name = merfolk_events.37.b
		owner = {
			merfolk_add_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.37.c
		owner = {
			merfolk_subtract_opinion_effect_medium = yes
			add_country_modifier = {
				name = merfolk_spy_alert
				duration = 1825
			}
		}
	}
}

province_event = {
	id = merfolk_events.38 #Sunken Cove Booty
	title = merfolk_events.38.t
	desc = merfolk_events.38.d
	picture = CARIBBEAN_PIRATE_FORT_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.38.a
		owner = {
			add_yearly_manpower = -0.25
			add_yearly_sailors = -0.5
			merfolk_add_opinion_effect_medium = yes
		}
	}
	
	option = {
		name = merfolk_events.38.b
	}
	
	option = {
		name = merfolk_events.38.c
		owner = {
			add_years_of_income = 0.2
			add_inflation = 1
			merfolk_subtract_opinion_effect_small = yes
		}
	}
}

province_event = {
	id = merfolk_events.39 #Sea Sorcerer
	title = merfolk_events.39.t
	desc = merfolk_events.39.d
	picture = MAGES_ESTATE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.39.a
		add_province_modifier = {
			name = merfolk_sea_sorcerer
			duration = 3650
		}
		owner = {
			merfolk_add_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.39.b
	}
}

province_event = {
	id = merfolk_events.40 #Wharf Offerings
	title = merfolk_events.40.t
	desc = merfolk_events.40.d
	picture = TRADE_GOODS_FURS_FISH_AND_SALT_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.40.a
		add_province_modifier = {
			name = merfolk_wharf_gratitude
			duration = 1825
		}
		owner = {
			merfolk_add_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.40.b
		owner = {
			add_years_of_income = 1
		}
	}
	
	option = {
		name = merfolk_events.40.c
		owner = {
			add_prestige = 10
			merfolk_subtract_opinion_effect_small = yes
		}
	}
}

country_event = {
	id = merfolk_events.41 #Terminal Plea
	title = merfolk_events.41.t
	desc = merfolk_events.41.d
	picture = PIETY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.41.a
		merfolk_add_opinion_effect_medium = yes
		add_country_modifier = {
			name = merfolk_terminal_plea
			duration = 1825
		}
	}
	
	option = {
		name = merfolk_events.41.b
	}
}

province_event = {
	id = merfolk_events.42 #Stars Beneath
	title = merfolk_events.42.t
	desc = merfolk_events.42.d
	picture = BIG_STAR_IN_SKY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.42.a
		add_province_modifier = {
			name = merfolk_light_dismantled
			duration = 3650
		}
		owner = {
			add_years_of_income = 0.25
			merfolk_subtract_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.42.b
		custom_tooltip = merfolk_events.42.b.tt
		add_province_modifier = {
			name = merfolk_stars_beneath
			duration = 3650
		}
		hidden_effect = {
			random_list = {
				50 = {
					province_event = {
						id = merfolk_events.43
						days = 3650
					}
				}
				50 = {
					province_event = {
						id = merfolk_events.44
						days = 3650
					}
				}
			}
		}
	}
}

province_event = {
	id = merfolk_events.43 #Aquatic Lights
	title = merfolk_events.43.t
	desc = merfolk_events.43.d
	picture = BIG_STAR_IN_SKY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.43.a
		add_province_modifier = {
			name = merfolk_aquatic_lights
			duration = 3650
		}
		owner = {
			merfolk_add_opinion_effect_medium = yes
		}
	}
}

province_event = {
	id = merfolk_events.44 #Ocean Leyline Storm
	title = merfolk_events.44.t
	desc = merfolk_events.44.d
	picture = VILLAGE_BURNING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.44.a
		add_province_modifier = {
			name = merfolk_leyline_storms
			duration = 1825
		}
		owner = {
			merfolk_subtract_opinion_effect_small = yes
			add_prestige = 10
			add_country_modifier = {
				name = merfolk_hatred
				duration = 1825
			}
		}
	}
	
	option = {
		name = merfolk_events.44.b
		add_province_modifier = {
			name = merfolk_leyline_storms
			duration = 185
		}
		owner = {
			merfolk_add_opinion_effect_small = yes
			add_years_of_income = -0.8
		}
	}
	
	option = {
		name = merfolk_events.44.c
		highlight = yes
		trigger = {
			owner = {
				OR = {
					ruler_has_personality = water_planetouched_personality
					ruler_has_personality = wind_planetouched_personality
					is_ruler_abjuration_level_1_minimum = yes
					is_ruler_conjuration_level_1_minimum = yes
					is_ruler_transmutation_level_1_minimum = yes
				}
			}
		}
		add_province_modifier = {
			name = merfolk_storm_cleared
			duration = 3650
		}
	}
}

province_event = {
	id = merfolk_events.45 #Crabtastrophe
	title = merfolk_events.45.t
	desc = merfolk_events.45.d
	picture = GOBLINS_AND_SPIDER_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.45.a
		add_devastation = 10
		add_province_modifier = {
			name = merfolk_crabs_unadressed
			duration = 1825
		}
		owner = {
			add_mil_power = -20
			add_prestige = -10
			merfolk_add_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.45.b
		add_province_modifier = {
			name = merfolk_crabs_adressed
			duration = 1825
		}
		owner = {
			merfolk_subtract_opinion_effect_small = yes
		}
	}
	
	option = {
		name = merfolk_events.45.c
		highlight = yes
		trigger = {
			owner = {
				OR = {
					ruler_has_personality = water_planetouched_personality
					ruler_has_personality = lawgiver_personality
					ruler_has_personality = calm_personality
					ruler_has_personality = charismatic_negotiator_personality
					full_idea_group = diplomatic_ideas
					full_idea_group = court_ideas
				}
			}
		}
		add_province_modifier = {
			name = merfolk_crabs_adressed
			duration = 1825
		}
		owner = {
			merfolk_add_opinion_effect_medium = yes
			add_dip_power = 25
			add_prestige = 10
		}
	}
	
	option = {
		name = merfolk_events.45.e
		highlight = yes
		trigger = {
			owner = {
				OR = {
					full_idea_group = economic_ideas
					full_idea_group = trade_ideas
					full_idea_group = maritime_ideas
				}
			}
		}
		add_province_modifier = {
			name = merfolk_crabs_insurance
			duration = 1825
		}
		owner = {
			merfolk_add_opinion_effect_small = yes
		}
	}
}

country_event = {
	id = merfolk_events.46 #Blood in the Water
	title = merfolk_events.46.t
	desc = merfolk_events.46.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.46.a		
		merfolk_add_opinion_effect_small = yes
		add_legitimacy = -5
		add_navy_tradition = -10
	}
	
	option = {
		name = merfolk_events.46.b
	}
}

country_event = {
	id = merfolk_events.47 #Returned Messages
	title = merfolk_events.47.t
	desc = merfolk_events.47.d
	picture = DIPLOMACY_SIGNING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = merfolk_events.47.a
		add_adm_power = -15
		merfolk_add_opinion_effect_small = yes
	}
	
	option = {
		name = merfolk_events.47.b
		add_years_of_income = 0.75
		add_inflation = 1
		merfolk_subtract_opinion_effect_small = yes
	}
	
	option = {
		name = merfolk_events.47.c
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = midas_touched_personality
				ruler_has_personality = charismatic_negotiator_personality
				ruler_has_personality = entrepreneur_personality
				ruler_has_personality = greedy_personality
				ruler_has_personality = embezzler_personality
			}
		}
		add_years_of_income = 1.5
		add_inflation = 2
		merfolk_subtract_opinion_effect_small = yes
	}
}

country_event = { #An Unusual Claim To Authority
	id = merfolk_events.48
	title = merfolk_events.48.t
	desc = merfolk_events.48.d
	picture = BATTLE_VISTULA_LAGOON_eventPicture
	
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { has_province_flag = merfolk_settlement }
				save_event_target_as = merfolk_settlement_province
			}
		}
	}
	
	option = {
		name = merfolk_events.48.a
		ai_chance = { factor = 1 }
		trigger = { NOT = { stability = 3 } }

		add_adm_power = -100
		add_stability = 1
	}
	
	option = {
		name = merfolk_events.48.b
		ai_chance = { factor = 1 }
		
		add_dip_power = -50
		add_country_modifier = { name = merfolk_revolutionary_thought duration = 3650 }
		merfolk_add_opinion_effect_medium = yes
	}
	
	option = {
		name = merfolk_events.48.c
		ai_chance = { factor = 1 }
		goto = merfolk_settlement_province

		event_target:merfolk_settlement_province = {
			spawn_rebels = {
				type = pretender_rebels
				size = 2
				leader = "King Arthur"
			}
		}
		merfolk_subtract_opinion_effect_medium = yes
	}
}

country_event = { #checking flags positive - done to avoid PDX optimizations putting effects out of order
	id = merfolk_events.100
	title = merfolk_events.100.t
	desc = merfolk_events.100.d
	picture = BATTLE_VISTULA_LAGOON_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		name = merfolk_events.100.a
		ai_chance = { factor = 1 }

		if = {
			limit = {
				has_country_flag = merfolk_opinion_isolated
				check_variable = {
					which = merfolkOpinionVar
					value = 30
				}
			}
			clr_country_flag = merfolk_opinion_isolated
			set_country_flag = merfolk_opinion_neutral
			country_event = { id = merfolk_events.3 }
		}
		if = {
			limit = {
				has_country_flag = merfolk_opinion_neutral
				check_variable = {
					which = merfolkOpinionVar
					value = 60
				}
			}
			clr_country_flag = merfolk_opinion_neutral
			set_country_flag = merfolk_opinion_allied
			country_event = { id = merfolk_events.1 }
		}
	}
}

country_event = { #checking flags negative - done to avoid PDX optimizations putting effects out of order
	id = merfolk_events.101
	title = merfolk_events.101.t
	desc = merfolk_events.101.d
	picture = BATTLE_VISTULA_LAGOON_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		name = merfolk_events.101.a
		ai_chance = { factor = 1 }

		if = {
			limit = {
				has_country_flag = merfolk_opinion_allied
				NOT = {
					check_variable = {
						which = merfolkOpinionVar
						value = 60
					}
				}
			}
			clr_country_flag = merfolk_opinion_allied
			set_country_flag = merfolk_opinion_neutral
			country_event = { id = merfolk_events.4 }
		}
		if = {
			limit = {
				has_country_flag = merfolk_opinion_neutral
				NOT = {
					check_variable = {
						which = merfolkOpinionVar
						value = 30
					}
				}
			}
			clr_country_flag = merfolk_opinion_neutral
			set_country_flag = merfolk_opinion_isolated
			country_event = { id = merfolk_events.6 }
		}
	}
}