
namespace = flavor_konolkhatep

##1-99 MT
#100-199 disaster
#200-299 Gov mechanic events
#300-399 maintenance and misc

##########################
#1-99 MT events
##########################

#Tluukt
country_event = {
	id = flavor_konolkhatep.1
	title = flavor_konolkhatep.1.t
	desc = flavor_konolkhatep.1.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F28 } NOT = { tag = F28 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.1.a
		konolkhatep_rule_pack_absorb_effect = { tag = F28 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						culture = sandfang_gnoll
						AND = {
							is_core = F28
							region = bulwar_proper_region
						}
					}
				}
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_cleaver_of_realms duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.1.b
		konolkhatep_rule_pack_release_effect = { tag = F28 religion = xhazobkult culture = sandfang_gnoll }
		add_mil_power = 100
		add_country_modifier = { name = konolkhatep_cleaver_of_realms duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Zokka
country_event = {
	id = flavor_konolkhatep.2
	title = flavor_konolkhatep.2.t
	desc = {
		trigger = { NOT = { has_global_flag = jaddar_defeated_zokka } }
		desc = flavor_konolkhatep.2.d1
	}
	desc = {
		trigger = { has_global_flag = jaddar_defeated_zokka }
		desc = flavor_konolkhatep.2.d2
	}
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F29 } NOT = { tag = F29 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.2.a
		konolkhatep_rule_pack_absorb_effect = { tag = F29 }
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						culture = sandfang_gnoll
						AND = {
							is_core = F29
							region = far_bulwar_region
						}
					}
				}
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_devourer_of_suns duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.2.b
		konolkhatep_rule_pack_release_effect = { tag = F29 religion = xhazobkult culture = sandfang_gnoll }
		add_mil_power = 100
		add_country_modifier = { name = konolkhatep_devourer_of_suns duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Viakkoc
country_event = {
	id = flavor_konolkhatep.3
	title = flavor_konolkhatep.3.t
	desc = flavor_konolkhatep.3.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = U07 } NOT = { tag = U07 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.3.a
		konolkhatep_rule_pack_absorb_effect = { tag = U07 }
		hidden_effect = {
			every_owned_province = {
				limit = { culture = seascourge_gnoll }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_scourge_of_seas duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.3.b
		konolkhatep_rule_pack_release_effect = { tag = U07 religion = xhazobkult culture = seascourge_gnoll }
		add_dip_power = 100
		add_country_modifier = { name = konolkhatep_scourge_of_seas duration = -1 }
		ai_chance = { factor = 5 }
	}
}


#empire of gnolls
country_event = {
	id = flavor_konolkhatep.4
	title = flavor_konolkhatep.4.t
	desc = flavor_konolkhatep.4.d
	picture = muslimgfx_COURT_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.4.a
		change_government_to_monarchy = yes
		add_government_reform = konolkhatep_gnolls_sorrow_reform
		akasik_region = { add_claim = ROOT }
		west_salahad_region = { add_claim = ROOT }
		gol_region = { add_claim = ROOT }

		if = {
			limit = { exists = U07 NOT = { is_subject_of = ROOT } }
			add_casus_belli = { type = cb_vassalize_mission target = U07 months = 60 }
		}
		if = {
			limit = { exists = U10 NOT = { is_subject_of = ROOT } }
			add_casus_belli = { type = cb_vassalize_mission target = U10 months = 60 }
		}
		if = {
			limit = { exists = U09 NOT = { is_subject_of = ROOT } }
			add_casus_belli = { type = cb_vassalize_mission target = U09 months = 60 }
		}

		ai_chance = { factor = 5 }
	}
}


#Gnollakaz
country_event = {
	id = flavor_konolkhatep.5
	title = flavor_konolkhatep.5.t
	desc = flavor_konolkhatep.5.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = U09 } NOT = { tag = U09 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.5.a
		konolkhatep_rule_pack_absorb_effect = { tag = U09 }
		hidden_effect = {
			every_owned_province = {
				limit = { culture = pyreclaw_gnoll region = gol_region }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_emperor_gnollkind duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.5.b
		konolkhatep_rule_pack_release_effect = { tag = U09 religion = xhazobkult culture = pyreclaw_gnoll }
		add_adm_power = 100
		add_country_modifier = { name = konolkhatep_emperor_gnollkind duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Rakkaz
country_event = {
	id = flavor_konolkhatep.6
	title = flavor_konolkhatep.6.t
	desc = flavor_konolkhatep.6.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F71 } NOT = { tag = F71 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.6.a
		konolkhatep_rule_pack_absorb_effect = { tag = F71 }
		hidden_effect = {
			every_owned_province = {
				limit = { OR = { culture = fieldstalker_gnoll is_core = F71 } region = gol_region }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_slayer_slayers duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.6.b
		konolkhatep_rule_pack_release_effect = { tag = F71 religion = xhazobkult culture = fieldstalker_gnoll }
		add_mil_power = 100
		add_country_modifier = { name = konolkhatep_slayer_slayers duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Kogz
country_event = {
	id = flavor_konolkhatep.7
	title = flavor_konolkhatep.7.t
	desc = flavor_konolkhatep.7.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { OR = { is_core = F54 is_core = F55 } } NOT = { tag = F54 tag = F55 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.7.a
		konolkhatep_rule_pack_absorb_effect = { tag = F54 }
		konolkhatep_rule_pack_absorb_effect = { tag = F55 }
		hidden_effect = {
			every_owned_province = {
				limit = { OR = { culture = fieldstalker_gnoll is_core = F54 is_core = F55 } OR = { area = zallirkor_area area = dasmatus_area } }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_gifter_chains duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.7.b
		konolkhatep_rule_pack_release_effect = { tag = F54 religion = xhazobkult culture = fieldstalker_gnoll }
		konolkhatep_rule_pack_release_effect = { tag = F55 religion = xhazobkult culture = fieldstalker_gnoll }
		add_adm_power = 100
		add_country_modifier = { name = konolkhatep_gifter_chains duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Mother or the Son
country_event = {
	id = flavor_konolkhatep.8
	title = flavor_konolkhatep.8.t
	desc = flavor_konolkhatep.8.d
	picture = muslimgfx_RELIGION_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	#elikhetist
	option = {
		name = flavor_konolkhatep.8.a
		change_religion = elikhetist
		define_advisor = { type = inquisitor skill = 2 culture = hapremiti religion = elikhetist discount = yes }
		add_country_modifier = { name = konolkhatep_new_converts duration = 5475 }
		ai_chance = { factor = 5 }
	}
	
	#nirakhetist
	option = {
		name = flavor_konolkhatep.8.b
		change_religion = nirakhetist
		define_advisor = { type = inquisitor skill = 2 culture = hapremiti religion = nirakhetist discount = yes }
		add_country_modifier = { name = konolkhatep_new_converts duration = 5475 }
		ai_chance = { factor = 0 }
	}

	after = {
		every_owned_province = {
			remove_province_modifier = religious_zeal_at_conv
		}
		remove_country_modifier = conversion_zeal #shouldn't be converting heretics
	}
}

#Brrtekuh
country_event = {
	id = flavor_konolkhatep.9
	title = flavor_konolkhatep.9.t
	desc = flavor_konolkhatep.9.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = U10 } NOT = { tag = U10 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.9.a
		konolkhatep_rule_pack_absorb_effect = { tag = U10 }
		hidden_effect = {
			every_owned_province = {
				limit = { OR = { culture = windhowler_gnoll is_core = U10 } region = west_salahad_region }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_splitter_sands duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.9.b
		konolkhatep_rule_pack_release_effect = { tag = U10 religion = kvangahga culture = windhowler_gnoll }
		add_mil_power = 100
		add_country_modifier = { name = konolkhatep_splitter_sands duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Irkorzik
country_event = {
	id = flavor_konolkhatep.10
	title = flavor_konolkhatep.10.t
	desc = flavor_konolkhatep.10.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F69 } NOT = { tag = F69 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.10.a
		konolkhatep_rule_pack_absorb_effect = { tag = F69 }
		hidden_effect = {
			every_owned_province = {
				limit = { is_core = F69 }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_wind_desert duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.10.b
		konolkhatep_rule_pack_release_effect = { tag = F69 religion = kvangahga culture = windhowler_gnoll }
		add_mil_power = 100
		add_country_modifier = { name = konolkhatep_wind_desert duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Haraagtseda
country_event = {
	id = flavor_konolkhatep.11
	title = flavor_konolkhatep.11.t
	desc = flavor_konolkhatep.11.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F72 } NOT = { tag = F72 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.11.a
		konolkhatep_rule_pack_absorb_effect = { tag = F72 }
		hidden_effect = {
			every_owned_province = {
				limit = { OR = { culture = fieldstalker_gnoll is_core = F72 } region = gazraak_region }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_hammer_kvanga duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.11.b
		konolkhatep_rule_pack_release_effect = { tag = F72 religion = kvangahga culture = fieldstalker_gnoll }
		add_dip_power = 100
		add_country_modifier = { name = konolkhatep_hammer_kvanga duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Rise of sorrowmanes
country_event = {
	id = flavor_konolkhatep.12
	title = flavor_konolkhatep.12.t
	desc = flavor_konolkhatep.12.d
	picture = muslimgfx_CITY_VIEW_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.12.a
		add_meritocracy = 10
		hidden_effect = {
			clr_country_flag = locked_racial_administration
			every_subject_country = {
				limit = {
					primary_culture = ROOT
					OR = {
						is_subject_of_type = tributary_state
						is_subject_of_type = medasi_subject
					}
				}
				change_primary_culture = sorrowmane_gnoll
			}
		}
		change_primary_culture = sorrowmane_gnoll
		set_ruler_culture = sorrowmane_gnoll
		if = {
			limit = { has_heir = yes }
			set_heir_culture = sorrowmane_gnoll
		}
		kheterat_proper_area = { change_culture = sorrowmane_gnoll }
		custom_tooltip = flavor_konolkhatep.12.tooltip1
		tooltip = {
			every_subject_country = {
				limit = {
					primary_culture = ROOT
					OR = {
						is_subject_of_type = tributary_state
						is_subject_of_type = medasi_subject
					}
				}
				change_primary_culture = sorrowmane_gnoll
			}
		}
		custom_tooltip = flavor_konolkhatep.12.tooltip2
		add_country_modifier = { name = konolkhatep_new_culture duration = 9125 }
		ai_chance = { factor = 5 }
	}
}

#Tzilekal
country_event = {
	id = flavor_konolkhatep.13
	title = flavor_konolkhatep.13.t
	desc = flavor_konolkhatep.13.d
	picture = muslimgfx_CONQUEST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			every_subject_country = {
				limit = { any_owned_province = { is_core = F65 } NOT = { tag = F65 } }
				set_country_flag = konol_temp_tt_flag
			}
		}
	}
	
	#absorb
	option = {
		name = flavor_konolkhatep.13.a
		konolkhatep_rule_pack_absorb_effect = { tag = F65 }
		hidden_effect = {
			every_owned_province = {
				limit = { culture = windhowler_gnoll is_core = F65 }
				add_unrest = 10
			}
		}
		add_country_modifier = { name = konolkhatep_seeker_secrets duration = -1 }
		ai_chance = { factor = 5 }
	}
	
	#rule
	option = {
		name = flavor_konolkhatep.13.b
		konolkhatep_rule_pack_release_effect = { tag = F65 religion = xhazobkult culture = windhowler_gnoll }
		add_dip_power = 100
		add_country_modifier = { name = konolkhatep_seeker_secrets duration = -1 }
		ai_chance = { factor = 5 }
	}
}

#Gnolls in the Ahati
country_event = {
	id = flavor_konolkhatep.14
	title = flavor_konolkhatep.14.t
	desc = flavor_konolkhatep.14.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	#absorb
	option = {
		name = flavor_konolkhatep.14.a
		add_stability_or_adm_power = yes
		custom_tooltip = flavor_konolkhatep.14.tooltip
		ai_chance = { factor = 5 }
	}
	
	
}

#Voice of Elikhet
country_event = {
	id = flavor_konolkhatep.15
	title = flavor_konolkhatep.15.t
	desc = flavor_konolkhatep.15.d
	picture = muslimgfx_RELIGION_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	#TODO
	option = {
		name = flavor_konolkhatep.15.a
		if = {
			limit = { religion = elikhetist }
			add_estate_loyalty = {
				estate = all
				loyalty = 10
			}
		}
		if = {
			limit = { religion = nirakhetist }
			add_stability = 1
			custom_tooltip = konolkhatep_voice_of_elikhet_event_tt
			hidden_effect = {
				kheterata_region = {
					limit = {
						country_or_subject_holds = ROOT
					}
					add_local_autonomy = -25
				}
				gol_region = {
					limit = {
						country_or_subject_holds = ROOT
					}
					add_local_autonomy = -25
				}
			}
		}
		add_government_reform = F66_words_of_horutep
		custom_tooltip = konolkhatep_voice_of_elikhet_event_2_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = voice_elikhet }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Voice of Elikhet" } }
			set_dynasty = F67
		}
	}
}

#An Eternal Empire
country_event = {
	id = flavor_konolkhatep.16
	title = flavor_konolkhatep.16.t
	desc = flavor_konolkhatep.16.d
	picture = muslimgfx_UNIVERSITY_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.16.a
		custom_tooltip = konolkhatep_eternal_empire_tt
		add_government_reform = F66_eternal_empire
		remove_country_modifier = konolkhatep_cleaver_of_realms
		remove_country_modifier = konolkhatep_devourer_of_suns
		remove_country_modifier = konolkhatep_scourge_of_seas
		remove_country_modifier = konolkhatep_emperor_gnollkind
		remove_country_modifier = konolkhatep_slayer_slayers
		remove_country_modifier = konolkhatep_gifter_chains
		remove_country_modifier = konolkhatep_splitter_sands
		remove_country_modifier = konolkhatep_wind_desert
		remove_country_modifier = konolkhatep_hammer_kvanga
		remove_country_modifier = konolkhatep_seeker_secrets
		horashesh_region = {
			add_permanent_claim = ROOT
		}
	}
}

#Kult Ender
country_event = {
	id = flavor_konolkhatep.17
	title = flavor_konolkhatep.17.t
	desc = flavor_konolkhatep.17.d
	picture = WITCHBURNING_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.17.a
		akasik_region = { add_devastation = 25 }
		382 = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		402 = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		400 = {
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = kult_ender }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Kult Ender" } }
			set_dynasty = F67
			every_country = {
				limit = {
					religion = xhazobkult
					religious_school = {
						group = gnollish
						school = demons_of_the_sorrow_tradition
					}
				}
				change_religion = elikhetist
				every_owned_province = {
					limit = { religion = xhazobkult }
					change_religion = elikhetist
				}
			}
			every_country = {
				limit = {
					religion = xhazobkult
					religious_school = {
						group = gnollish
						school = children_of_goxma_tradition
					}
				}
				change_religion = fangaulan_pantheon
				every_owned_province = {
					limit = { religion = xhazobkult }
					change_religion = fangaulan_pantheon
				}
			}
			every_country = {
				limit = {
					religion = xhazobkult
					religious_school = {
						group = gnollish
						school = monstrous_pedigrees_tradition
					}
				}
				change_religion = old_bulwari_sun_cult
				every_owned_province = {
					limit = { religion = xhazobkult }
					change_religion = old_bulwari_sun_cult
				}
			}
			every_country = {
				limit = {
					religion = xhazobkult
				}
				change_religion = kvangahga
			}
			every_province = {
				limit = {
					religion = xhazobkult
				}
				change_religion = kvangahga
			}
		}
		custom_tooltip = konolkhatep_kult_ender_tt
		businor_region = {
			add_permanent_claim = ROOT
		}
	}
}

#The Gnoll and the Dragon
country_event = {
	id = flavor_konolkhatep.18
	title = flavor_konolkhatep.18.t
	desc = flavor_konolkhatep.18.d
	picture = AAKHET_DRAGON_SMUG_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.18.a
		466 = { change_religion = ROOT }
		add_country_modifier = { name = konolkhatep_dragon_companion duration = -1 }
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = companion_dragon }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Mighty Companion of the Bronze Dragon" } }
			set_dynasty = F67
		}
		bulwar_superregion = {
			add_permanent_claim = ROOT
		}
	}
}

#Horutep Marches
country_event = {
	id = flavor_konolkhatep.19
	title = flavor_konolkhatep.19.t
	desc = flavor_konolkhatep.19.d
	picture = GENERALS_DISCUSSING_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.19.a
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = general_legions }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- General of the Mighty Legion" } }
			set_dynasty = F67
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_ahati
			loyalty = 10
		}
		shadow_swamp_region = { add_permanent_claim = ROOT }
		add_country_modifier = { name = konolkhatep_horutep_marches duration = 7300 }
		define_ruler_to_war_wizard = yes
	}
}

#A Throne in the Hills
country_event = {
	id = flavor_konolkhatep.20
	title = flavor_konolkhatep.20.t
	desc = flavor_konolkhatep.20.d
	picture = INCA_CITY_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.20.a
		hidden_effect = {
			businor_region = {
				limit = {
					country_or_subject_holds = ROOT
				}
				add_core = A49
				cede_province = ROOT
			}
			release_with_religion_and_culture = { tag = A49 religion = ROOT culture = hill_gnoll }
			create_subject = {
				subject_type = medasi_subject
				subject = A49
			}
			add_historical_friend_mutual = { tag = A49 }
			A49 = {
				if = { 
					limit = { mission_completed = konolkhatep_expand_medasi}
					konolkhatep_new_gnoll_medasi = yes
				}
				if = {
					limit = {
						any_owned_province = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
					}
					random_owned_province = {
						limit = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
						change_culture = hill_gnoll
					}
				}
				if = {
					limit = {
						any_owned_province = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
					}
					random_owned_province = {
						limit = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
						change_culture = hill_gnoll
					}
				}
				if = {
					limit = {
						any_owned_province = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
					}
					random_owned_province = {
						limit = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
						change_culture = hill_gnoll
					}
				}
				if = {
					limit = {
						any_owned_province = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
					}
					random_owned_province = {
						limit = {
							NOT = {
								culture = sorrowmane_gnoll
								culture_group = kheteratan
							}
						}
						change_culture = hill_gnoll
					}
				}
			}
		}
		custom_tooltip = konolkhatep_throne_hills_tt
	}
	
	option = {
		name = flavor_konolkhatep.20.b
		trigger = { hidden_trigger = { NOT = { was_tag = A49 } } }
		add_stability = 1
	}
	
	option = {
		name = flavor_konolkhatep.20.c
		trigger = { was_tag = A49 }
		highlight = yes
		add_stability = 1
		add_mandate = 50
	}
}

#Divine Restorer of the Ancient Tree
country_event = {
	id = flavor_konolkhatep.21
	title = flavor_konolkhatep.21.t
	desc = flavor_konolkhatep.21.d
	picture = FEYFOREST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					any_owned_province = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = { has_troll_majority_trigger = yes }
						NOT = { has_large_troll_minority_trigger = yes }
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = { has_troll_majority_trigger = yes }
						NOT = { has_large_troll_minority_trigger = yes }
					}
					save_event_target_as = event_target_1
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
						}
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
						}
					}
					save_event_target_as = event_target_3
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
							province_id = event_target:event_target_3
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
							province_id = event_target:event_target_3
						}
					}
					save_event_target_as = event_target_4
				}
			}
			if = {
				limit = {
					any_owned_province = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
							province_id = event_target:event_target_3
							province_id = event_target:event_target_4
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							trade_goods = iron
							trade_goods = copper
						}
						NOT = {
							has_troll_majority_trigger = yes
							has_large_troll_minority_trigger = yes
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
							province_id = event_target:event_target_3
							province_id = event_target:event_target_4
						}
					}
					save_event_target_as = event_target_5
				}
			}
		}
	}
	
	option = {
		name = flavor_konolkhatep.21.a
		6690 = {
			add_great_project_tier = {
				type = shadowroot_matriarch_purified
				tier = 1
			}
		}
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = restorer_tree }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Divine Restorer of the Ancient Tree" } }
			set_dynasty = F67
		}
		if = {
			limit = { has_saved_event_target = event_target_1 }
			event_target:event_target_1 = {
				add_troll_minority_size_effect = yes
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				add_troll_minority_size_effect = yes
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				add_troll_minority_size_effect = yes
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_4 }
			event_target:event_target_4 = {
				add_troll_minority_size_effect = yes
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_5 }
			event_target:event_target_5 = {
				add_troll_minority_size_effect = yes
			}
		}
	}
}

#The Gilded Mask
country_event = {
	id = flavor_konolkhatep.22
	title = flavor_konolkhatep.22.t
	desc = flavor_konolkhatep.22.d
	picture = FORGE_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.22.a
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = divine_mask }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Wearer of the Divine Mask" } }
			set_dynasty = F67
		}
		add_meritocracy = 25
		add_country_modifier = { name = konolkhatep_gilded_mask_elikhet duration = -1 }
	}
}

#The Mother's Change
country_event = {
	id = flavor_konolkhatep.23
	title = flavor_konolkhatep.23.t
	desc = flavor_konolkhatep.23.d
	picture = ELVEN_CONSTELLATION_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.23.a
		custom_tooltip = konolkhatep_mothers_change_tt
		hidden_effect = {
			if = {
				limit = { NOT = { is_ruler_abjuration_level_1_minimum = yes } }
				magic_school_level_up = { type = ruler school = abjuration }
			}
			if = {
				limit = { NOT = { is_ruler_abjuration_level_2_minimum = yes } }
				magic_school_level_up = { type = ruler school = abjuration }
			}
			if = {
				limit = { NOT = { is_ruler_evocation_level_1_minimum = yes } }
				magic_school_level_up = { type = ruler school = evocation }
			}
			if = {
				limit = { NOT = { is_ruler_evocation_level_2_minimum = yes } }
				magic_school_level_up = { type = ruler school = evocation }
			}
		}
		add_country_modifier = { name = konolkhatep_divine_sceptre_nirat duration = -1 }
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = holds_sceptre }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- He who Holds the Sceptre" } }
			set_dynasty = F67
		}
	}
}

#The Black Chains
country_event = {
	id = flavor_konolkhatep.24
	title = flavor_konolkhatep.24.t
	desc = flavor_konolkhatep.24.d
	picture = FORGE_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.24.a
		add_country_modifier = { name = konolkhatep_black_chains_horutep duration = -1 }
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = wielder_chains }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Wielder of the Unbreaking Chains" } }
			set_dynasty = F67
		}
		create_war_wizard = yes
	}
}

#The Planewalker
country_event = {
	id = flavor_konolkhatep.25
	title = flavor_konolkhatep.25.t
	desc = flavor_konolkhatep.25.d
	picture = MYSTIC_IN_PRAYER_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.25.a
		if = {
			limit = {
				has_country_flag = konolkhatep_raw_power_tracker
			}
			custom_tooltip = konolkhatep_no_more_raw_power_tt
			hidden_effect = {
				clr_country_flag = konolkhatep_raw_power_tracker
				remove_country_modifier = konolkhatep_raw_power_modifier
			}
		}
		custom_tooltip = konolkhatep_the_planewalker_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = planewalker }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- the Planewalker" } }
			set_dynasty = F67
		}
	}
}

#Banisher of the False Gods
country_event = {
	id = flavor_konolkhatep.26
	title = flavor_konolkhatep.26.t
	desc = flavor_konolkhatep.26.d
	picture = muslimgfx_REFORM_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.26.a
		custom_tooltip = konolkhatep_banisher_false_gods_tt
		hidden_effect = {
			every_province = {
				limit = {
					religion_group = cannorian
					country_or_subject_holds = ROOT
				}
				change_religion = ROOT
			}
			if = {
				limit = { religion = elikhetist }
				every_province = {
					limit = {
						religion_group = cannorian
						NOT = { country_or_subject_holds = ROOT }
					}
					spawn_rebels = {
						type = elikhetist_rebels
						religion = elikhetist
						size = 2
						friend = FROM
					}
				}
			}
			else = {
				every_province = {
					limit = {
						religion_group = cannorian
						NOT = { country_or_subject_holds = ROOT }
					}
					spawn_rebels = {
						type = nirakhetist_rebels
						religion = nirakhetist
						size = 2
						friend = FROM
					}
				}
			}
		}
		set_papacy_active = no
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = banisher_gods }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Banisher of the False Gods" } }
			set_dynasty = F67
		}
	}
}

#Ascension
country_event = {
	id = flavor_konolkhatep.27
	title = flavor_konolkhatep.27.t
	desc = flavor_konolkhatep.27.d
	picture = SPELL_LIST_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.27.a
		#crash the game
		add_country_modifier = { name = konolkhatep_living_god duration = -1 }
		konolkhatep_unlock_horutep_title_effect = { title = living_god }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- the Living God" } }
			set_dynasty = F67
		}
		custom_tooltip = konolkhatep_ascension_tt_1
		hidden_effect = { every_province = { limit = { is_empty = no } decolonize = THIS } }
	}
	
	option = {
		name = flavor_konolkhatep.27.b
		add_country_modifier = { name = konolkhatep_living_god duration = -1 }
		konolkhatep_unlock_horutep_title_effect = { title = living_god }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- the Living God" } }
			set_dynasty = F67
		}
		custom_tooltip = konolkhatep_ascension_tt_2
	}
}

#The Starcaller (Title Event)
country_event = {
	id = flavor_konolkhatep.28
	title = flavor_konolkhatep.28.t
	desc = flavor_konolkhatep.28.d
	picture = MAGE_MOON_ALTER_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { any_owned_province = { NOT = { province_group = mothers_sorrow_group } } }
				random_owned_province = {
					limit = { NOT = { province_group = mothers_sorrow_group } }
					save_event_target_as = starcaller_target_1
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = {
							province_group = mothers_sorrow_group
							province_id = event_target:starcaller_target_1
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = {
							province_group = mothers_sorrow_group
							province_id = event_target:starcaller_target_1
						}
					}
					save_event_target_as = starcaller_target_2
				}
			}
			if = {
				limit = {
					any_owned_province = {
						NOT = {
							province_group = mothers_sorrow_group
							province_id = event_target:starcaller_target_1
							province_id = event_target:starcaller_target_2
						}
					}
				}
				random_owned_province = {
					limit = {
						NOT = {
							province_group = mothers_sorrow_group
							province_id = event_target:starcaller_target_1
							province_id = event_target:starcaller_target_2
						}
					}
					save_event_target_as = starcaller_target_3
				}
			}
		}
	}
	
	option = {
		name = flavor_konolkhatep.28.a
		if = {
			limit = { has_saved_event_target = starcaller_target_1 }
			event_target:starcaller_target_1 = {
				change_trade_goods = damestear
				set_province_flag = permanent_damestear
				add_base_tax = -2
				add_base_production = -2
				add_base_manpower = -2
			}
		}
		if = {
			limit = { has_saved_event_target = starcaller_target_2 }
			event_target:starcaller_target_2 = {
				change_trade_goods = damestear
				set_province_flag = permanent_damestear
				add_base_tax = -2
				add_base_production = -2
				add_base_manpower = -2
			}
		}
		if = {
			limit = { has_saved_event_target = starcaller_target_3 }
			event_target:starcaller_target_3 = {
				change_trade_goods = damestear
				set_province_flag = permanent_damestear
				add_base_tax = -2
				add_base_production = -2
				add_base_manpower = -2
			}
		}
		set_country_flag = no_more_comet_sighted_event
		custom_tooltip = konolkhatep_event_starcaller_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = starcaller }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- the Starcaller" } }
			set_dynasty = F67
		}
	}
}

#Lord of Light (Title Event)
country_event = {
	id = flavor_konolkhatep.29
	title = flavor_konolkhatep.29.t
	desc = flavor_konolkhatep.29.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.29.a
		hidden_effect = {
			bulwar_superregion = {
				limit = { religion_group = bulwari }
				random = {
					chance = 50
					change_religion = ROOT
				}
			}
		}
		custom_tooltip = konolkhatep_event_lord_of_light_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = lord_light }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Lord of Light" } }
			set_dynasty = F67
			country_event = { id = flavor_konolkhatep.53 days = 31 } #country conversion, doesn't work here because religious unity is not updated in real time but on month tick
		}
	}
}

#Icelord (Title Event)
country_event = {
	id = flavor_konolkhatep.30
	title = flavor_konolkhatep.30.t
	desc = flavor_konolkhatep.30.d
	picture = NORSE_TEMPLE_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.30.a
		hidden_effect = {
			every_owned_province = {
				limit = { has_winter = mild_winter }
				add_province_modifier = { name = konolkhatep_horutep_icelord_mild duration = -1 }
			}
			every_owned_province = {
				limit = { has_winter = normal_winter }
				add_province_modifier = { name = konolkhatep_horutep_icelord_normal duration = -1 }
			}
			every_owned_province = {
				limit = { has_winter = severe_winter }
				add_province_modifier = { name = konolkhatep_horutep_icelord_severe duration = -1 }
			}
			every_subject_country = {
				every_owned_province = {
					limit = { has_winter = mild_winter }
					add_province_modifier = { name = konolkhatep_horutep_icelord_mild duration = -1 }
				}
				every_owned_province = {
					limit = { has_winter = normal_winter }
					add_province_modifier = { name = konolkhatep_horutep_icelord_normal duration = -1 }
				}
				every_owned_province = {
					limit = { has_winter = severe_winter }
					add_province_modifier = { name = konolkhatep_horutep_icelord_severe duration = -1 }
				}
			}
		}
		custom_tooltip = konolkhatep_event_icelord_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = icelord }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Icelord" } }
			set_dynasty = F67
		}
	}
}

#Guider of Storms (Title Event)
country_event = {
	id = flavor_konolkhatep.31
	title = flavor_konolkhatep.31.t
	desc = flavor_konolkhatep.31.d
	picture = 19_Monsoon_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.31.a
		hidden_effect = {
			every_owned_province = {
				limit = { has_monsoon = mild_monsoon }
				add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_mild duration = -1 }
			}
			every_owned_province = {
				limit = { has_monsoon = normal_monsoon }
				add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_normal duration = -1 }
			}
			every_owned_province = {
				limit = { has_monsoon = severe_monsoon }
				add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_severe duration = -1 }
			}
			every_subject_country = {
				every_owned_province = {
					limit = { has_monsoon = mild_monsoon }
					add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_mild duration = -1 }
				}
				every_owned_province = {
					limit = { has_monsoon = normal_monsoon }
					add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_normal duration = -1 }
				}
				every_owned_province = {
					limit = { has_monsoon = severe_monsoon }
					add_province_modifier = { name = konolkhatep_horutep_guider_of_storms_severe duration = -1 }
				}
			}
		}
		custom_tooltip = konolkhatep_event_guider_of_storms_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = guider_storms }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Guider of Storms" } }
			set_dynasty = F67
		}
	}
}

#Emperor of Gnollkind (Title Event)
country_event = {
	id = flavor_konolkhatep.32
	title = flavor_konolkhatep.32.t
	desc = flavor_konolkhatep.32.d
	picture = EKLUZAGNU_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.32.a
		hidden_effect = {
			africa = {
				limit = { culture_is_gnollish = yes }
				add_devastation = -100
				add_local_autonomy = -100
				add_province_modifier = { name = konolkhatep_horutep_ruled_by_emperor_of_gnollkind duration = -1 }
			}
		}
		custom_tooltip = konolkhatep_event_emperor_of_gnollkind_tt
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = emperor_gnollkind }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Emperor of Gnollkind" } }
			set_dynasty = F67
		}
	}
}

#Destined Sovereign of Scales (Title Event)
country_event = {
	id = flavor_konolkhatep.33
	title = flavor_konolkhatep.33.t
	desc = flavor_konolkhatep.33.d
	picture = LIZARDFOLK_NAGA_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.33.a
		hidden_effect = {
			every_country = {
				limit = { ruler_is_lizardfolk = yes }
				add_historical_friend = ROOT
			}
		}
		custom_tooltip = konolkhatep_event_sovereign_of_scales_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = sovereign_scales }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Destined Sovereign of Scales" } }
			set_dynasty = F67
		}
	}
}

#High Mage of the Tower (Title Event)
country_event = {
	id = flavor_konolkhatep.34
	title = flavor_konolkhatep.34.t
	desc = flavor_konolkhatep.34.d
	picture = BIG_STAR_IN_SKY_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.34.a
		random_list = {
			1 = { trigger = { NOT = { is_ruler_abjuration_level_3 = yes } } magic_school_level_up = { type = ruler school = abjuration } }
			1 = { trigger = { NOT = { is_ruler_conjuration_level_3 = yes } } magic_school_level_up = { type = ruler school = conjuration } }
			1 = { trigger = { NOT = { is_ruler_divination_level_3 = yes } } magic_school_level_up = { type = ruler school = divination } }
			1 = { trigger = { NOT = { is_ruler_enchantment_level_3 = yes } } magic_school_level_up = { type = ruler school = enchantment } }
			1 = { trigger = { NOT = { is_ruler_evocation_level_3 = yes } } magic_school_level_up = { type = ruler school = evocation } }
			1 = { trigger = { NOT = { is_ruler_illusion_level_3 = yes } } magic_school_level_up = { type = ruler school = illusion } }
			1 = { trigger = { NOT = { is_ruler_transmutation_level_3 = yes } } magic_school_level_up = { type = ruler school = transmutation } }
		}
		magical_infrastructure_level_up = yes
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = mage_tower }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- High Mage of the Tower" } }
			set_dynasty = F67
		}
	}
}

#Warden of the Pyramid (Title Event)
country_event = {
	id = flavor_konolkhatep.35
	title = flavor_konolkhatep.35.t
	desc = flavor_konolkhatep.35.d
	picture = AZTEC_PYRAMID_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.35.a
		hidden_effect = {
			kheterata_region = {
				add_base_tax = 1
			}
		}
		custom_tooltip = konolkhatep_event_warden_of_the_pyramid_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = warden_pyramid }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Warden of the Pyramid" } }
			set_dynasty = F67
		}
	}
}

#Keeper of all Lore (Title Event)
country_event = {
	id = flavor_konolkhatep.36
	title = flavor_konolkhatep.36.t
	desc = flavor_konolkhatep.36.d
	picture = BIG_BOOK_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.36.a
		change_innovativeness = 10
		add_country_modifier = { name = konolkhatep_horutep_keeper_of_all_lore_modifier duration = -1 }
		custom_tooltip = konolkhatep_event_keeper_of_all_lore_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = keeper_lore }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Keeper of all Lore" } }
			set_dynasty = F67
		}
	}
}

#Grand Commander of the Ahati (Title Event)
country_event = {
	id = flavor_konolkhatep.37
	title = flavor_konolkhatep.37.t
	desc = flavor_konolkhatep.37.d
	picture = SCOTTISH_MERCENARIES_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.37.a
		add_estate_loyalty = {
			estate = estate_ahati
			loyalty = 20
		}
		define_general = {
			shock = 6
			fire = 6
			manuever = 3
			siege = 4
			trait = ruthless_personality
		}
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = commander_ahati }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Grand Commander of the Ahati" } }
			set_dynasty = F67
		}
	}
}

#Patriarch of the Khet (Title Event)
country_event = {
	id = flavor_konolkhatep.38
	title = flavor_konolkhatep.38.t
	desc = flavor_konolkhatep.38.d
	picture = muslimgfx_FEAST_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.38.a
		add_meritocracy = 20
		custom_tooltip = konolkhatep_event_patriarch_of_the_khet_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = patriarch_khet }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Patriarch of the Khet" } }
			set_dynasty = F67
		}
	}
}

#Grand Banisher of Darkness (Title Event)
country_event = {
	id = flavor_konolkhatep.39
	title = flavor_konolkhatep.39.t
	desc = flavor_konolkhatep.39.d
	picture = DARK_FOREST_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.39.a
		if = {
			limit = { exists = A59 }
			A59 = { set_country_flag = konolkhatep_disable_vampires }
		}
		if = {
			limit = { exists = A60 }
			A60 = { set_country_flag = konolkhatep_disable_vampires }
		}
		hidden_effect = {
			every_owned_province = {
				remove_province_modifier = aw_vampires_1
				remove_province_modifier = aw_vampires_2
				remove_province_modifier = aw_vampires_3
			}
			every_subject_country = {
				every_owned_province = {
					remove_province_modifier = aw_vampires_1
					remove_province_modifier = aw_vampires_2
					remove_province_modifier = aw_vampires_3
				}
			}
		}
		custom_tooltip = konolkhatep_event_grand_banisher_of_darkness_tt
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = banisher_darkness }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Great Banisher of Darkness" } }
			set_dynasty = F67
		}
	}
}

#Master of Rivers (Title Event)
country_event = {
	id = flavor_konolkhatep.40
	title = flavor_konolkhatep.40.t
	desc = flavor_konolkhatep.40.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.40.a
		hidden_effect = {
			every_owned_province = {
				limit = { has_river_estuary_trigger = yes }
				add_province_modifier = { name = konolkhatep_horutep_master_of_rivers_modifier duration = -1 }
			}
			every_subject_country = {
				every_owned_province = {
					limit = { has_river_estuary_trigger = yes }
					add_province_modifier = { name = konolkhatep_horutep_master_of_rivers_modifier duration = -1 }
				}
			}
		}
		custom_tooltip = konolkhatep_event_grand_master_of_rivers_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = master_rivers }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Master of Rivers" } }
			set_dynasty = F67
		}
	}
}

#King of Kings (Title Event)
country_event = {
	id = flavor_konolkhatep.41
	title = flavor_konolkhatep.41.t
	desc = flavor_konolkhatep.41.d
	picture = muslimgfx_COURT_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	major = yes
	major_trigger = {
		government = monarchy
		NOT = { is_emperor_of_china = yes }
	}
	
	option = {
		name = flavor_konolkhatep.41.a
		add_prestige = 100
		hidden_effect = {
			every_country = {
				limit = {
					capital_scope = { continent = africa }
					government = monarchy
					NOT = { is_emperor_of_china = yes }
				}
				add_legitimacy = -100
			}
			if = {
				limit = {
					europe = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = europe }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
			if = {
				limit = {
					asia = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = asia }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
			if = {
				limit = {
					serpentspine = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = serpentspine }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
			if = {
				limit = {
					north_america = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = north_america }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
			if = {
				limit = {
					south_america = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = south_america }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
			if = {
				limit = {
					oceania = {
						country_or_subject_holds = ROOT
					}
				}
				every_country = {
					limit = {
						capital_scope = { continent = oceania }
						government = monarchy
						NOT = { is_emperor_of_china = yes }
						NOT = { is_subject_of = ROOT }
					}
					add_legitimacy = -100
				}
			}
		}
		custom_tooltip = konolkhatep_event_king_of_kings_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = king_of_kings }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- King of Kings" } }
			set_dynasty = F67
		}
	}
}

#The King of Games (Title Event)
country_event = {
	id = flavor_konolkhatep.42
	title = flavor_konolkhatep.42.t
	desc = flavor_konolkhatep.42.d
	picture = INVENTION_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.42.a
		hidden_effect = {
			if = {
				limit = {
					has_estate_privilege = artifice_invention_game_of_khet
				}
				artifice_remove_20 = yes #refund invention upkeep
			}
		}
		custom_tooltip = konolkhatep_event_king_of_games_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = king_games }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- the King of Games" } }
			set_dynasty = F67
		}
	}
}

#Undisputed Monarch of the Seas (Title Event)
country_event = {
	id = flavor_konolkhatep.43
	title = flavor_konolkhatep.43.t
	desc = flavor_konolkhatep.43.d
	picture = DHOW_AT_SEA_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.43.a
		add_country_modifier = {
			name = konolkhatep_horutep_undisputed_monarch_of_the_seas_modifier
			duration = -1
		}
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = monarch_seas }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Undisputed Monarch of the Seas" } }
			set_dynasty = F67
		}
	}
}

#Master of all Warfare (Title Event)
country_event = {
	id = flavor_konolkhatep.44
	title = flavor_konolkhatep.44.t
	desc = flavor_konolkhatep.44.d
	picture = muslimgfx_BATTLE_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.44.a
		add_country_modifier = {
			name = konolkhatep_horutep_master_of_all_warfare_modifier
			duration = -1
		}
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = master_warfare }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Master of all Warfare" } }
			set_dynasty = F67
		}
	}
}

#Renowned Architect of the Dunes (Title Event)
country_event = {
	id = flavor_konolkhatep.45
	title = flavor_konolkhatep.45.t
	desc = flavor_konolkhatep.45.d
	picture = muslimgfx_GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.45.a
		custom_tooltip = konolkhatep_event_renowned_architect_of_the_dunes_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = architect_dunes }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Renowned Architect of the Dunes" } }
			set_dynasty = F67
		}
	}
}

#Carver of Ways (Title Event)
country_event = {
	id = flavor_konolkhatep.46
	title = flavor_konolkhatep.46.t
	desc = flavor_konolkhatep.46.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.46.a
		hidden_effect = {
			konolkhatep_road_rrammoton = { add_permanent_province_modifier = { name = konolkhatep_rrammoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_rrammoton }
			konolkhatep_road_udzalmmoton = { add_permanent_province_modifier = { name = konolkhatep_udzalmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_udzalmmoton }
			konolkhatep_road_igraxmmoton = { add_permanent_province_modifier = { name = konolkhatep_igraxmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_igraxmmoton }
			konolkhatep_road_izermmoton = { add_permanent_province_modifier = { name = konolkhatep_izermmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_izermmoton }
			konolkhatep_road_manmmoton = { add_permanent_province_modifier = { name = konolkhatep_manmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_manmmoton }
			konolkhatep_road_agtmmoton = { add_permanent_province_modifier = { name = konolkhatep_agtmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_agtmmoton }
			konolkhatep_road_ozhxummoton = { add_permanent_province_modifier = { name = konolkhatep_ozhxummoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_ozhxummoton }
			konolkhatep_road_tzazikmmoton = { add_permanent_province_modifier = { name = konolkhatep_tzazikmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_tzazikmmoton }
			konolkhatep_road_yaikmmoton = { add_permanent_province_modifier = { name = konolkhatep_yaikmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_yaikmmoton }
			konolkhatep_road_xhurmmoton = { add_permanent_province_modifier = { name = konolkhatep_xhurmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_xhurmmoton }
			konolkhatep_road_zuraxhmmoton = {
				limit = { NOT = { province_id = 5650 province_id = 5908 } }
				add_permanent_province_modifier = { name = konolkhatep_zuraxhmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_zuraxhmmoton
			}
			5650 = { add_permanent_province_modifier = { name = konolkhatep_ahaadmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_ahaadmmoton }
			5908 = { add_permanent_province_modifier = { name = konolkhatep_ahaadmmoton_upgraded duration = -1 } remove_province_modifier = konolkhatep_ahaadmmoton }
		}
		custom_tooltip = konolkhatep_event_renowned_carver_of_ways_tt
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = carver_ways }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Carver of Ways" } }
			set_dynasty = F67
		}
	}
}

#Holy Deacon of the Sands (Title Event)
country_event = {
	id = flavor_konolkhatep.47
	title = flavor_konolkhatep.47.t
	desc = flavor_konolkhatep.47.d
	picture = SARHEL_MENGI_TEMPLE_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.47.a
		set_defender_of_the_faith = { who = ROOT }
		increase_ruler_adm_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = deacon_sands }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Holy Deacon of the Sands" } }
			set_dynasty = F67
		}
	}
}

#Breaker of Giants (Title Event)
country_event = {
	id = flavor_konolkhatep.48
	title = flavor_konolkhatep.48.t
	desc = flavor_konolkhatep.48.d
	picture = LILAC_WARS_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	major = yes
	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.48.a
		if = {
			limit = { hre_size = 1 }
			hidden_effect = {
				every_known_country = {
					limit = {
						is_part_of_hre = yes
						NOT = { is_subject_of = ROOT }
					}
					set_country_flag = konolkhatep_horutep_hre_satrapies
				}
			}
			dismantle_hre = yes
			hidden_effect = {
				set_country_flag = has_dismantled_the_hre
				every_known_country = {
					limit = { has_country_flag = konolkhatep_horutep_hre_satrapies }
					clr_country_flag = konolkhatep_horutep_hre_satrapies
					ROOT = {
						create_subject = {
							subject_type = tributary_state
							subject = PREV
						}
					}
				}
			}
			custom_tooltip = konolkhatep_event_breaker_of_giants_1_tt
		}
		else = {
			hidden_effect = {
				every_known_country = {
					limit = {
						capital_scope = {
							OR = {
								region = esmaria_region
								region = west_dameshead_region
								region = east_dameshead_region
								region = the_borders_region
								region = damescrown_region
							}
						}
						NOT = { is_subject_of = ROOT }
					}
					ROOT = {
						create_subject = {
							subject_type = tributary_state
							subject = PREV
						}
					}
				}
			}
			custom_tooltip = konolkhatep_event_breaker_of_giants_2_tt
		}
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = breaker_giants }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Breaker of Giants" } }
			set_dynasty = F67
		}
	}
}

#Scourge of the Faithless (Title Event)
country_event = {
	id = flavor_konolkhatep.49
	title = flavor_konolkhatep.49.t
	desc = flavor_konolkhatep.49.d
	picture = HIGH_TEMPLE_CITY_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.49.a
		hidden_effect = {
			asia = {
				limit = { culture_is_wuhyun = yes }
				change_religion = ROOT
				random_list = {
					1 = {
						change_culture = hapremiti
					}
					1 = {
						change_culture = irsmahapan
					}
					1 = {
						change_culture = shasouran
					}
					1 = {
						change_culture = korosheshi
					}
					1 = {
						change_culture = tijarikheti
					}
					1 = {
						change_culture = tijarikheti
					}
				}
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
			random_owned_province = {
				limit = {
					region = kheterata_region
					NOT = { has_hobgoblin_majority_trigger = yes }
					NOT = { has_large_hobgoblin_minority_trigger = yes }
				}
				add_hobgoblin_minority_size_effect = yes
			}
		}
		custom_tooltip = konolkhatep_event_scourge_of_the_faithless_tt
		increase_ruler_mil_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = scourge_faithless }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Scourge of the Faithless" } }
			set_dynasty = F67
		}
	}
}

#Seneschal of the Ruined Lands (Title Event)
country_event = {
	id = flavor_konolkhatep.50
	title = flavor_konolkhatep.50.t
	desc = flavor_konolkhatep.50.d
	picture = muslimgfx_COLONIZATION_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.50.a
		custom_tooltip = konolkhatep_event_seneschal_of_the_ruined_lands_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = seneschal_lands }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Seneschal of the Ruined Lands" } }
			set_dynasty = F67
		}
	}
}

#Eternal Master of the Arcane (Title Event)
country_event = {
	id = flavor_konolkhatep.51
	title = flavor_konolkhatep.51.t
	desc = flavor_konolkhatep.51.d
	picture = MAGE_MOON_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.51.a
		hidden_effect = {
			every_country = {
				limit = {
					NOT = {
						tag = F66
						is_subject_of = F66
					}
				}
				set_country_flag = banned_magic
				remove_ruler_personality = mage_personality

				if = {
					limit = { ruler_is_lich = yes }
					kill_a_lich_effect = yes
				}
			}
		}
		custom_tooltip = konolkhatep_event_eternal_master_of_the_arcane_lands_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = master_arcane }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Eternal Master of Arcane" } }
			set_dynasty = F67
		}
	}
}

#Arch Lord of the Abyssal Depths (Title Event)
country_event = {
	id = flavor_konolkhatep.52
	title = flavor_konolkhatep.52.t
	desc = flavor_konolkhatep.52.d
	picture = ANB_GLOBAL_TRADE_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.52.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_province_flag = merfolk_settlement
				}
				add_base_tax = 2
				add_base_production = 2
				add_base_manpower = 2
			}
			every_subject_country = {
				every_owned_province = {
					limit = {
						has_province_flag = merfolk_settlement
					}
					add_base_tax = 2
					add_base_production = 2
					add_base_manpower = 2
				}
			}
		}
		custom_tooltip = konolkhatep_event_arch_lord_of_the_abyssal_depths_lands_tt
		increase_ruler_dip_effect = yes
		konolkhatep_unlock_horutep_title_effect = { title = lord_depths }
		hidden_effect = {
			F67 = { define_ruler = { dynasty = "- Arch Lord of the Abyssal Depths" } }
			set_dynasty = F67
		}
	}
}

country_event = { #Lord of Light country conversion, doesn't work in the 1st event because religious unity is not updated in real time but on month tick
	id = flavor_konolkhatep.53
	title = flavor_konolkhatep.53.t
	desc = flavor_konolkhatep.53.d
	picture = SURAKES_SUN_GARDEN_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.29.a
		every_subject_country = {
			limit = {
				any_owned_province = { superregion = bulwar_superregion }
				NOT = { religious_unity = 0.5 }
			}
			change_religion = ROOT
			if = {
				limit = { is_subject_of_type = tributary_state }
				remove_opinion = {
					who = ROOT
					modifier = khet_forced_religion
				}
			}
		}
	}
}


##########################
#100-199 disaster events
##########################

#4 missions completed
country_event = {
	id = flavor_konolkhatep.100
	title = flavor_konolkhatep.100.t
	desc = flavor_konolkhatep.100.d
	picture = BATTLE_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.100.a
		add_prestige_excess_to_splendour_effect = { VAL = 15 }
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { religion_group = khetist } }
			add_unrest = 3
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { religion_group = khetist } }
			add_unrest = 3
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { religion_group = khetist } }
			add_unrest = 3
		}
		ai_chance = { factor = 5 }
	}
}

#7 missions completed
country_event = {
	id = flavor_konolkhatep.101
	title = flavor_konolkhatep.101.t
	desc = flavor_konolkhatep.101.d
	picture = WOUNDED_SOLDIERS_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.101.a
		add_country_modifier = { name = konolkhatep_dark_whispers duration = 9125 }

		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no }
			add_local_autonomy = 30
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no }
			add_local_autonomy = 30
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no }
			add_local_autonomy = 30
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no }
			add_local_autonomy = 30
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no }
			add_local_autonomy = 30
		}
		ai_chance = { factor = 5 }
	}
}

#10 missions completed
country_event = {
	id = flavor_konolkhatep.102
	title = flavor_konolkhatep.102.t
	desc = flavor_konolkhatep.102.d
	picture = APOSTLE_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.102.a
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no NOT = { province_id = 466 } superregion = north_salahad_superregion }
			spawn_rebels = { type = xhazobkult_rebels size = 1 friend = F67 }
			change_religion = xhazobkult
		}

		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no OR = { superregion = south_salahad_superregion superregion = fangaula_superregion } }
			spawn_rebels = { type = kvangahga_rebels size = 1.5 }
			change_religion = kvangahga
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no OR = { superregion = south_salahad_superregion superregion = fangaula_superregion } }
			spawn_rebels = { type = kvangahga_rebels size = 1.5 }
			change_religion = kvangahga
		}
		random_owned_province = {
			limit = { culture_group = gnollish is_capital = no OR = { superregion = south_salahad_superregion superregion = fangaula_superregion } }
			spawn_rebels = { type = kvangahga_rebels size = 1.5 }
			change_religion = kvangahga
		}

		hidden_effect = { set_country_flag = konolkhatep_disaster_can_start }
		ai_chance = { factor = 5 }
	}
}




#25 progress
country_event = {
	id = flavor_konolkhatep.103
	title = flavor_konolkhatep.103.t
	desc = flavor_konolkhatep.103.d
	picture = DARK_FOREST_eventPicture

	mean_time_to_happen = {
		months = 1
	}

	fire_only_once = yes

	trigger = {
		tag = F66
		has_disaster_progress = { disaster = konolkhatep_xhaz_disaster value = 25 }
	}
	
	option = {
        name = flavor_konolkhatep.103.a
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { culture = sorrowmane_gnoll } }
			add_unrest = 10
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { culture = sorrowmane_gnoll } }
			add_unrest = 10
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { culture = sorrowmane_gnoll } }
			add_unrest = 10
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { culture = sorrowmane_gnoll } }
			add_unrest = 10
		}
		random_owned_province = {
			limit = { culture_group = gnollish NOT = { culture = sorrowmane_gnoll } }
			add_unrest = 10
		}
	}
}

#50 progress
country_event = {
	id = flavor_konolkhatep.104
	title = flavor_konolkhatep.104.t
	desc = flavor_konolkhatep.104.d
	picture = FAMINE_eventPicture

	mean_time_to_happen = {
		months = 1
	}

	fire_only_once = yes

	trigger = {
		tag = F66
		has_disaster_progress = { disaster = konolkhatep_xhaz_disaster value = 50 }
	}
	
	option = {
        name = flavor_konolkhatep.104.a
		382 = {
			add_base_tax = -2
			add_base_production = -2
			add_base_manpower = -2
			change_religion = xhazobkult
			change_culture = seascourge_gnoll
		}
		random_owned_province = {
			limit = { region = akasik_region NOT = { culture_group = gnollish } }
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		random_owned_province = {
			limit = { region = akasik_region NOT = { culture_group = gnollish } }
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
		random_owned_province = {
			limit = { region = akasik_region NOT = { culture_group = gnollish } }
			add_base_tax = -1
			add_base_production = -1
			add_base_manpower = -1
		}
	}
}

#75 progress
country_event = {
	id = flavor_konolkhatep.105
	title = flavor_konolkhatep.105.t
	desc = flavor_konolkhatep.105.d
	picture = WITCHBURNING_eventPicture

	mean_time_to_happen = {
		months = 1
	}

	fire_only_once = yes

	trigger = {
		tag = F66
		has_disaster_progress = { disaster = konolkhatep_xhaz_disaster value = 75 }
	}
	
	option = {
        name = flavor_konolkhatep.105.a
		deshak_area = {
			change_religion = xhazobkult
			add_devastation = 30
			add_core = F67
		}
		oris_area = {
			change_religion = xhazobkult
			add_devastation = 30
			add_core = F67
		}
	}
}


#disaster start
country_event = {
	id = flavor_konolkhatep.106
	title = flavor_konolkhatep.106.t
	desc = flavor_konolkhatep.106.d
	picture = muslimgfx_DEATH_OF_HEIR_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 }

	immediate = {
		hidden_effect = { 
			set_global_flag = konolkhatep_disaster_active
			if = {
				limit = {
					land_forcelimit = 200
				}
				set_global_flag = konolkhatep_boss_music
			}
		}
	}
	
	option = {
        name = flavor_konolkhatep.106.a
		add_stability = -3
		release_with_religion_and_culture = { tag = F67 religion = xhazobkult culture = seascourge_gnoll }
		hidden_effect = {
			deshak_area = { cede_province = F67 }
			oris_area = { cede_province = F67 }
			F67 = {
				set_capital = 382
			}
			while = {
				limit = { mil_tech_is_inferior = { tag = F67 } }
				F67 = { add_mil_tech = 1 }
			}
			while = {
				limit = { adm_tech_is_inferior = { tag = F67 } }
				F67 = { add_adm_tech = 1 }
			}
			while = {
				limit = { dip_tech_is_inferior = { tag = F67 } }
				F67 = { add_dip_tech = 1 }
			}
		}
	}
		

	after = {
		country_event = { id = flavor_konolkhatep.108 days = 90 } #main chain
		F67 = { country_event = { id = flavor_konolkhatep.107 } } #zinhakan setup
		country_event = { id = flavor_konolkhatep.130 days = 30 } #gnoll culture rebels
		add_opinion = {
			who = F67
			modifier = opinion_last_conflagration
		}
		add_historical_rival = F67
		F67 = {
			add_opinion = {
				who = F66
				modifier = opinion_last_conflagration
			}
			add_historical_rival = F66
		}
	}
}

#zinhakan setup
country_event = {
	id = flavor_konolkhatep.107
	title = flavor_konolkhatep.hidden.t
	desc = flavor_konolkhatep.hidden.d
	picture = FORT_eventPicture

	is_triggered_only = yes
	hidden = yes

	trigger = { tag = F67 }
	
	option = {
        name = flavor_konolkhatep.hidden.a
		# if = {
		# 	limit = { NOT = { primary_culture = seascourge_gnoll } }
		# 	change_primary_culture = seascourge_gnoll
		# }
		# if = {
		# 	limit = { NOT = { religion = xhazobkult } }
		# 	change_religion = xhazobkult
		# }
		if = {
			limit = { NOT = { government = monarchy } }
			change_government = monarchy
		}
		add_government_reform = gnoll_gnollish_monarchy
		add_government_reform = xhazobkult_sacrifices
		define_ruler = {
			name = "Zinhakan"
			dynasty = "Bane-of-Kings"
			adm = 3
			dip = 0
			mil = 6
			age = 37
			claim = 100
			female = yes
			culture = seascourge_gnoll
			religion = xhazobkult
		}
		add_ruler_personality = xhazobs_chosen_personality
		add_ruler_personality = sinner_personality
		set_ruler_flag = is_zinhakan
		set_ruler_flag = immortal_ruler
		define_powerful_mage = {
			type = ruler
			abjuration = 1
			conjuration = 2
			evocation = 2
			war_wizard = yes
		}
		force_ai_convert = yes #prevent them to convert to Kvangahga as long as they are the Xhaz
		
		if = {
			limit = { has_global_flag = konolkhatep_boss_music }
			add_country_modifier = {
				name = konolkhatep_zinhakan_boss
				duration = -1
			}
			add_army_tradition = 80
			add_navy_tradition = 50
			add_manpower = 80
		}
		else = {
			add_country_modifier = {
				name = konolkhatep_zinhakan_revolt
				duration = -1
			}
			add_army_tradition = 50
			add_navy_tradition = 30
			add_manpower = 20
		}	
		capital_scope = {
			konolkhatep_spawn_zinhakan_reinforcements = yes
			spawn_units_for = {
				amount = 16
				type = galley
				who = F67
			}
		}
		382 = {
			remove_fortifications = yes
			add_latest_building = { builder = ROOT fort = yes }
		}
		399 = {
			remove_fortifications = yes
			add_latest_building = { builder = ROOT fort = yes }
			add_building = ramparts
		}
	}
}

#zinhakan takes akasik and viakkoc
country_event = {
	id = flavor_konolkhatep.108
	title = flavor_konolkhatep.108.t
	desc = flavor_konolkhatep.108.d
	picture = REVOLUTION_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.108.a
		if = {
			limit = { exists = U07 }
			F67 = { inherit = U07 }
		}
		akasik_region = {
			limit = { NOT = { province_id = 407 } }
			hidden_effect = { add_core = F67 }
			cede_province = F67
		}
		F67 = { add_manpower = 20 }
		hidden_effect = {
			390 = {
				remove_fortifications = yes
				add_latest_building = { builder = ROOT fort = yes }
				konolkhatep_spawn_zinhakan_reinforcements = yes
			}
			392 = {
				if = {
					limit = { NOT = { has_fort_building_trigger = yes } }
					add_building = fort_15th
				}
				spawn_units_for = {
					amount = 16
					type = galley
					who = F67
				}
			}
		}
	}
	after = {
		country_event = { id = flavor_konolkhatep.109 days = 180 }
	}
}

#naval raids
country_event = {
	id = flavor_konolkhatep.109
	title = flavor_konolkhatep.109.t
	desc = flavor_konolkhatep.109.d
	picture = BARBARY_PIRATES_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.109.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					has_port = yes
					sea_zone = {
						OR = {
							region = divenhal_sea_region
							region = west_salahad_coast_region
						}
					}
				}
				add_base_tax = -1
				add_base_production = -1
				add_base_manpower = -1
				add_devastation = 50
			}
		}
		custom_tooltip = konol_waters_unsafe_tt
	}
	after = {
		country_event = { id = flavor_konolkhatep.110 days = 120 }
	}
}

#zinhakan takes west salahad and brrtekuh
country_event = {
	id = flavor_konolkhatep.110
	title = flavor_konolkhatep.110.t
	desc = flavor_konolkhatep.110.d
	picture = REVOLT_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.110.a
		west_salahad_region = {
			limit = { NOT = { area = salahad_islands_area  } }
			hidden_effect = { add_core = F67 }
			cede_province = F67
		}
		if = {
			limit = { exists = U10 }
			F67 = { inherit = U10 }
		}
		F67 = { add_manpower = 20 }
	}
	after = {
		country_event = { id = flavor_konolkhatep.111 days = 120 }
	}
}

#kvangahga revolts
country_event = {
	id = flavor_konolkhatep.111
	title = flavor_konolkhatep.111.t
	desc = flavor_konolkhatep.111.d
	picture = VILLAGE_BURNING_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.111.a
		if = {
			limit = { any_subject_country = { religion = kvangahga } }
			every_subject_country = {
				limit = { religion = kvangahga }
				add_liberty_desire = 100
			}
		}
		ohitsopot_area = { spawn_rebels = { type = kvangahga_rebels size = 1 } }
		golkora_stretch_area = { spawn_rebels = { type = kvangahga_rebels size = 1 } }
		zeewix_area = { spawn_rebels = { type = kvangahga_rebels size = 1 } }
		
	}
	after = {
		country_event = { id = flavor_konolkhatep.112 days = 365 }
		hidden_effect = {
			397 = {
				remove_fortifications = yes
				add_latest_building = { builder = ROOT fort = yes }
				add_building = ramparts
			}
		}
	}
}

#zinhakan attacks
country_event = {
	id = flavor_konolkhatep.112
	title = flavor_konolkhatep.112.t
	desc = flavor_konolkhatep.112.d
	picture = LOOMING_DEATH_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }

	immediate = {
		hidden_effect = {
			F67 = {
				if = {
					limit = {
						NOT = { army_size = F66 }
					}
					capital_scope = {
						konolkhatep_spawn_zinhakan_reinforcements = yes
						konolkhatep_spawn_zinhakan_reinforcements = yes
					}
					add_manpower = 40
				}
				capital_scope = {
					konolkhatep_spawn_zinhakan_reinforcements = yes
				}
				add_manpower = 20
			}
		}
	}
	
	option = {
        name = flavor_konolkhatep.112.a
		F67 = {
			override_country_name = GUNPOWDER_XHAZ
			declare_war_with_cb = { who = ROOT casus_belli = cb_war_shadowflame }
		}
		custom_tooltip = flavor_konolkhatep.112.tooltip
	}

	#play as zinhakan
	option = {
        name = flavor_konolkhatep.112.b
		F67 = {
			override_country_name = GUNPOWDER_XHAZ
			declare_war_with_cb = { who = ROOT casus_belli = cb_war_shadowflame }
		}
		switch_tag = F67
	}

	after = {
		country_event = { id = flavor_konolkhatep.113 days = 120 }
		country_event = { id = flavor_konolkhatep.114 days = 90 }
		F67 = {
			change_country_color = { color = { 181 230 29 } }
		}
	}
}

#zinhakan invades shasoura
country_event = {
	id = flavor_konolkhatep.113
	title = flavor_konolkhatep.113.t
	desc = flavor_konolkhatep.113.d
	picture = CARIBBEAN_PIRATE_FORT_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.113.a
		masusopot_area = {
			limit = { owned_by = ROOT }
			change_controller = F67
		}
		497 = { konolkhatep_spawn_zinhakan_reinforcements = yes }
	}
}


#ruler rallies forces
country_event = {
	id = flavor_konolkhatep.114
	title = flavor_konolkhatep.114.t
	desc = flavor_konolkhatep.114.d
	picture = GENERALS_DISCUSSING_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.114.a
		if = {
			limit = { ruler_is_powerful_mage = yes }
			define_ruler_to_war_wizard = yes
		}
		else = {
			convert_ruler_to_general = yes
		}
		if = {
			limit = { NOT = { has_country_modifier = slackening_modifier } }
			add_yearly_manpower = 8
		}
		else = { add_manpower = 5 }
		define_general = {
			fire = 5
			shock = 5
			manuever = 2
			siege = 1
			name = "Khorec 'the Defiant'"
			trait = defensive_planner_personality
		}
	}
	after = {
		country_event = { id = flavor_konolkhatep.115 days = 90 }
	}
}

#zinhakan kills your ruler
country_event = {
	id = flavor_konolkhatep.115
	title = flavor_konolkhatep.115.t
	desc = flavor_konolkhatep.115.d
	picture = muslimgfx_COUNTRY_COLLAPSE_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }

	immediate = {
		hidden_effect = {
			F67 = {
				capital_scope = {
					konolkhatep_spawn_zinhakan_reinforcements = yes
					konolkhatep_spawn_zinhakan_reinforcements = yes
				}
				add_manpower = 40
			}
		}
	}
	
	option = {
        name = flavor_konolkhatep.115.a
		tooltip = { kill_ruler = yes }
		if = {
			limit = { has_heir = yes }
			kill_heir = { allow_new_heir = no }
		}
		hidden_effect = {
			kill_a_lich_effect = yes
		}
		define_ruler = {
			name = Neverkaar
			dynasty = "the Weak"
			age = 21
			culture = sorrowmane_gnoll
			religion = ROOT
			adm = 2
			dip = 2
			mil = 1
		}
		add_ruler_personality = zealot_personality
		add_ruler_personality = craven_personality
		set_ruler_flag = immortal_ruler
	}
	after = {
		country_event = { id = flavor_konolkhatep.116 days = 180 }
	}
}

#Neverkaar decides to go into the tomb
country_event = {
	id = flavor_konolkhatep.116
	title = flavor_konolkhatep.116.t
	desc = flavor_konolkhatep.116.d
	picture = GOLDEN_CITY_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.116.a
		add_stability = -2
		set_ruler_flag = konol_neverkaar
	}
	after = {
		country_event = { id = flavor_konolkhatep.117 days = 365 }
		country_event = { id = flavor_konolkhatep.118 days = 120 }
	}
}

#meanwhile zinhakan devastates land
country_event = {
	id = flavor_konolkhatep.117
	title = flavor_konolkhatep.117.t
	desc = flavor_konolkhatep.117.d
	picture = VILLAGE_RAIDED_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.117.a
		kheterata_region = { add_devastation = 50 }
		if = {
			limit = { 466 = { controlled_by = ROOT } } #aakheta
			466 = { change_controller = F67 }
		}
		if = {
			limit = { 469 = { controlled_by = ROOT } } #anarat
			469 = { change_controller = F67 }
		}
		if = {
			limit = { 473 = { controlled_by = ROOT } } #nirat
			473 = { change_controller = F67 }
		}
	}
}

#Neverkaar navigates traps, badly
country_event = {
	id = flavor_konolkhatep.118
	title = flavor_konolkhatep.118.t
	desc = flavor_konolkhatep.118.d
	picture = DARK_EXPEDITION_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.118.a
		change_adm = -1
		change_dip = -1
		change_mil = -1
	}
	after = {
		country_event = { id = flavor_konolkhatep.119 days = 60 }
	}
}

#reached the tomb, elikhet snoozing
country_event = {
	id = flavor_konolkhatep.119
	title = flavor_konolkhatep.119.t
	desc = flavor_konolkhatep.119.d
	picture = EKLUZAGNU_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.119.a
		trigger = { religion = elikhetist }		
	}
	option = {
        name = flavor_konolkhatep.119.b
		trigger = { religion = nirakhetist }		
	}
	option = {
		name = flavor_konolkhatep.119.c
		trigger = {
			NOT = {
				religion = nirakhetist
				religion = elikhetist
			}
		}
		change_religion = elikhetist
	}
	after = {
		country_event = { id = flavor_konolkhatep.120 days = 60 }
	}
}

#elikhet is awake
country_event = {
	id = flavor_konolkhatep.120
	title = flavor_konolkhatep.120.t
	desc = flavor_konolkhatep.120.d
	picture = PRIEST_PHANTOM_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.120.a
		trigger = { religion = elikhetist }
		
	}
	option = {
        name = flavor_konolkhatep.120.b
		trigger = { religion = nirakhetist }
		
	}
	after = {
		country_event = { id = flavor_konolkhatep.121 days = 60 }
	}
}

#elikhet gives you power
country_event = {
	id = flavor_konolkhatep.121
	title = flavor_konolkhatep.121.t
	desc = flavor_konolkhatep.121.d
	picture = BIG_STAR_IN_SKY_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.121.a
		trigger = { religion = elikhetist }
		
	}
	option = {
        name = flavor_konolkhatep.121.b
		trigger = { religion = nirakhetist }
		
	}
	after = {
		country_event = { id = flavor_konolkhatep.122 days = 120 }
	}
}

#its horutep time
country_event = {
	id = flavor_konolkhatep.122
	title = flavor_konolkhatep.122.t
	desc = flavor_konolkhatep.122.d
	picture = MAGE_MOON_ALTER_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.122.a
		define_ruler = {
			name = "Horutep"
			dynasty = "the Reborn"
			age = 22 #20 months after neverkaar appears
			culture = sorrowmane_gnoll
			religion = ROOT
			adm = 6
			dip = 6
			mil = 6
		}
		add_ruler_personality = zealot_personality
		define_powerful_mage = {
			type = ruler
			evocation = 3
			enchantment = 3
			save_levels = immortal
		}
		set_ruler_flag = immortal_ruler
		set_country_flag = horutep_arrived
		hidden_effect = { add_government_reform = konolkhatep_gnolls_sorrow_reform_horutep } #true immortality setup
	}
	after = {
		save_ruler_stats = yes
		country_event = { id = flavor_konolkhatep.123 days = 60 }
	}
}

#and he horutepped all over
country_event = {
	id = flavor_konolkhatep.123
	title = flavor_konolkhatep.123.t
	desc = flavor_konolkhatep.123.d
	picture = LAND_MILITARY_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.123.a
		kheterata_region = {
			limit = { owned_by = ROOT }
			change_controller = ROOT
			add_devastation = -100
		}
	}
	after = {
		country_event = { id = flavor_konolkhatep.124 days = 30 }
	}
}

#horutep stops zinhakan reinforcements and nerfs the armies
country_event = {
	id = flavor_konolkhatep.124
	title = flavor_konolkhatep.124.t
	desc = flavor_konolkhatep.124.d
	picture = LOOMING_DEATH_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.124.a
		custom_tooltip = flavor_konolkhatep.124.tooltip
		hidden_effect = { set_country_flag = stop_zinhakan_reinforcements }
		F67 = { add_country_modifier = { name = konolkhatep_zinhakan_nerf duration = -1 } }
	}
	after = {
		country_event = { id = flavor_konolkhatep.125 days = 60 }
	}
}

#horutep converts xhaz provinces and buffs you
country_event = {
	id = flavor_konolkhatep.125
	title = flavor_konolkhatep.125.t
	desc = flavor_konolkhatep.125.d
	picture = RELIGIOUS_CONVERSION_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.125.a
		kheterata_region = { limit = { religion = xhazobkult } change_religion = ROOT }
		hidden_effect = { 466 = { change_religion = aakhetist } }
		add_disaster_modifier = { name = konolkhatep_horutep_buff duration = -1 disaster = konolkhatep_xhaz_disaster }
		set_country_flag = konol_horutep_shadowflame_allow
		custom_tooltip = konolkhatep_shadowflame_war_peace_treaty_unlock
	}
}

country_event = {
	id = flavor_konolkhatep.126
	title = flavor_konolkhatep.126.t
	desc = flavor_konolkhatep.126.d
	picture = muslimgfx_BATTLE_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }

	immediate = {
		hidden_effect = {
			F67 = { 
				remove_country_modifier = konolkhatep_zinhakan_revolt
				remove_country_modifier = konolkhatep_zinhakan_boss
			}
		}
	}
	
	option = {
        name = flavor_konolkhatep.126.a
		hidden_effect = {
			clear_all_spell_levels_for_type = { type = ruler }
			clear_saved_spell_levels_for_name = { name = immortal }
			F67 = { disband_all_units = yes }
			set_country_flag = konol_disaster_finished
			clr_global_flag = konolkhatep_disaster_active
		}
		end_disaster = konolkhatep_xhaz_disaster
		
		inherit = F67
		change_adm = -6
		change_dip = -6
		change_mil = -6
		custom_tooltip = konolkhatep_horutep_loses_his_powers
		add_stability = 2
		add_mandate = 20
		add_country_modifier = {
			name = konolkhatep_peace_after_revolt
			duration = 3650
		}
		custom_tooltip = flavor_konolkhatep.126_tt
		hidden_effect = {
			every_owned_province = {
				limit = {
					religion = xhazobkult
				}
				remove_province_modifier = religious_zeal_at_conv
			}
		}
	}
	after = { #setup for dynasty change + make sure the tag can't be released
		every_province = { remove_core = F67 }
		save_ruler_stats = yes
	}
}


#Gnoll culture revolts
country_event = {
	id = flavor_konolkhatep.130
	title = flavor_konolkhatep.hidden.t
	desc = flavor_konolkhatep.hidden.d
	picture = FORT_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	hidden = yes
	
	option = {
        name = flavor_konolkhatep.hidden.a
		random_list = {
			1 = {}

			#seascourge
			500 = { 
				trigger = { any_owned_province = { culture = seascourge_gnoll } }
				country_event = { id = flavor_konolkhatep.131 }
			}
			#windhowler
			100 = { 
				trigger = {
					OR = {
						exists = F65 #tzilekal
						exists = F69 #irkorzik
						any_owned_province = { culture = windhowler_gnoll } 
					}
				}
				country_event = { id = flavor_konolkhatep.132 }
			}
		}
	}
}

#seascourge revolts(only provinces because viakkoc is handled in the main chain)
country_event = {
	id = flavor_konolkhatep.131
	title = flavor_konolkhatep.131.t
	desc = flavor_konolkhatep.131.d
	picture = BARBARY_PIRATES_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.131.a
		konolkhatep_culture_revolt_provinces_effect = { culture = seascourge_gnoll }
	}
	after = {
		country_event = { id = flavor_konolkhatep.130 days = 115 random = 10 }
	}
}

#windhowler revolts(brrtekuh is handled in the main chain)
country_event = {
	id = flavor_konolkhatep.132
	title = flavor_konolkhatep.132.t
	desc = flavor_konolkhatep.132.d
	picture = VILLAGE_RAIDED_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	
	option = {
        name = flavor_konolkhatep.132.a
		if = {
			limit = {
				NOT = { AND = { exists = F65 exists = F69 } }
			}
			konolkhatep_culture_revolt_provinces_effect = { culture = windhowler_gnoll }
		}
		if = {
			limit = { exists = F65 } #tzilekal
			F65 = { konolkhatep_culture_revolt_tag_effect = yes }
		}
		if = {
			limit = { exists = F69 } #irkorzik
			F69 = { konolkhatep_culture_revolt_tag_effect = yes }
		}
	}
	after = {
		country_event = { id = flavor_konolkhatep.130 days = 115 random = 10 }
	}
}

#Konol lost control of Kheterat to disaster tag
country_event = {
	id = flavor_konolkhatep.133
	title = flavor_konolkhatep.133.t
	desc = flavor_konolkhatep.133.d
	picture = VILLAGE_RAIDED_eventPicture

	is_triggered_only = yes

	trigger = { tag = F66 has_disaster = konolkhatep_xhaz_disaster }
	major = yes
	major_trigger = { tag = F67 }
	
	option = {
        name = flavor_konolkhatep.133.a
		custom_tooltip = konol_lost_kheterat_warning_tt
		hidden_effect = { country_event = { id = flavor_konolkhatep.134 days = 365 } }
	}
}

#Game over
country_event = {
	id = flavor_konolkhatep.134
	title = flavor_konolkhatep.134.t
	desc = flavor_konolkhatep.134.d
	picture = VILLAGE_RAIDED_eventPicture

	is_triggered_only = yes

	trigger = {
		tag = F66
		has_disaster = konolkhatep_xhaz_disaster
		475 = { controlled_by = F67 }
	}
	major = yes
	major_trigger = { tag = F67 }
	
	option = {
        name = flavor_konolkhatep.134.a
		custom_tooltip = konol_disaster_game_over_tt
		475 = {
			add_devastation = 100
			add_base_tax = -100
			add_base_production = -100
			add_base_manpower = -100
		}
		hidden_effect = {
			F66 = { disband_all_units = yes }
			clr_global_flag = konolkhatep_disaster_active
		}
		F67 = { inherit = F66 }
	}
}

##########################
#200-299 Goverment mechanics events
##########################

country_event = {  #Slave building Menu
	id = flavor_konolkhatep.200
	title = flavor_konolkhatep.200.t
	desc = flavor_konolkhatep.200.desc
	picture = LOADING_SHIP_eventPicture

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = konolkhatep_slave_menu_opened
			if = { #set target for event loc
				limit = { has_country_flag = konolkhatep_slave_road_project_ongoing }
				if = {
					limit = { any_owned_province = { has_province_modifier = konolkhatep_road_under_construction } }
					random_owned_province = {
						limit = { has_province_modifier = konolkhatep_road_under_construction }
						save_event_target_as = konol_road_event_target
					}
				}
				else = {
					random_known_country = {
						limit = { any_owned_province = { has_province_modifier = konolkhatep_road_under_construction } }
						random_owned_province = {
							limit = { has_province_modifier = konolkhatep_road_under_construction }
							save_event_target_as = konol_road_event_target
						}
					}
				}
			}
			konolkhatep_get_road_highlight_effect = { project = holy_road road = rrammoton prov = 503 }
			konolkhatep_get_road_highlight_effect = { project = chain_road road = yaikmmoton prov = 5480 }
			konolkhatep_get_road_highlight_effect = { project = sun_road road = xhurmmoton prov = 470 }
			konolkhatep_get_road_highlight_effect = { project = iron_road road = udzalmmoton prov = 5674 }
			konolkhatep_get_road_highlight_effect = { project = mountain_road road = igraxmmoton prov = 5482 }
			konolkhatep_get_road_highlight_effect = { project = storm_road road = tzazikmmoton prov = 462 }
			konolkhatep_get_road_highlight_effect = { project = song_road road = izermmoton prov = 5680 }
			konolkhatep_get_road_highlight_effect = { project = rain_road road = ozhxummoton prov = 5435 }
			konolkhatep_get_road_highlight_effect = { project = jungle_road road = zuraxhmmoton prov = 5860 }
			konolkhatep_get_road_highlight_effect = { project = far_road road = agtmmoton prov = 5687 }
			konolkhatep_get_road_highlight_effect = { project = water_road road = manmmoton prov = 5652 }
			if = {
				limit = { NOT = { has_country_flag = konolkhatep_exploitation_of_akasik_flag } }
				if = {
					limit = {
						OR = {
							akasik_region = {
								type = all
								country_or_subject_holds = ROOT
							}
							akasik_region = {
								type = all
								NOT = { country_or_subject_holds = ROOT }
							}
						}
					}
					382 = { save_event_target_as = konol_akasik_target }
				}
				else = {
					random_province = {
						limit = {
							region = akasik_region
							NOT = { country_or_subject_holds = ROOT }
							any_neighbor_province = {
								region = akasik_region
								country_or_subject_holds = ROOT
							}
						}
						save_event_target_as = konol_akasik_target
					}
				}
			}
		}
	}

	
	option = {
		name = flavor_konolkhatep.200.a #Close
		highlight = yes
	}
	#########
	option = {
		name = flavor_konolkhatep.200.b #Golden Chains YES
		goto = 475
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 250 project = golden_chain province = 475 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 250 project = golden_chain event = 201 }
		custom_tooltip = konolkhatep_unlock_slave_government.tt
		tooltip = {
			475 = {
				add_permanent_province_modifier = {
					name = konolkhatep_house_of_golden_chains
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	option = {
		name = flavor_konolkhatep.200.b #Golden Chains NO
		goto = 475
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 250 project = golden_chain province = 475 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 250 province = 475 }
		custom_tooltip = konolkhatep_unlock_slave_government.tt
		tooltip = {
			475 = {
				add_permanent_province_modifier = {
					name = konolkhatep_house_of_golden_chains
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.c #The Great Granary YES
		goto = 466
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 300 project = great_granary province = 466 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 300 project = great_granary event = 202 }
		tooltip = {
			466 = {
				add_permanent_province_modifier = {
					name = konolkhatep_grand_granary
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	option = {
		name = flavor_konolkhatep.200.c #The Great Granary NO
		goto = 466
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 300 project = great_granary province = 466 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 300 province = 466 }
		tooltip = {
			466 = {
				add_permanent_province_modifier = {
					name = konolkhatep_grand_granary
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.d #Exploitation of Akasik YES
		goto = konol_akasik_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 400 project = exploitation_of_akasik province = 382 }
				akasik_region = {
					type = all
					country_or_subject_holds = ROOT
				}
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 400 project = exploitation_of_akasik event = 203 }
		custom_tooltip = konolkhatep_akasik_change_trade_goods.tt
		tooltip = {
			akasik_region = {
				add_permanent_province_modifier = {
					name = konol_akasik_exploitation_modifier
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
	}
	option = {
		name = flavor_konolkhatep.200.d #Exploitation of Akasik NO
		goto = konol_akasik_target
		trigger = {
			hidden_trigger = { #can't use the scripted trigger here since the requirement is a region, not a prov
				OR = {
					NOT = {
						has_government_power = {
							mechanic_type = konolkhatep_mechanic
							power_type = konolkhatep_slaves
							value = 400
						}
					}
					has_country_flag = konolkhatep_slave_project_ongoing
					NOT = {
						akasik_region = {
							type = all
							country_or_subject_holds = ROOT
						}
					}
				}
				NOT = { has_country_flag = konolkhatep_exploitation_of_akasik_flag }
			}
		}
		if = {
			limit = {
				NOT = {
					akasik_region = {
						type = all
						country_or_subject_holds = ROOT
					}
				}
			}
			custom_tooltip = konolkhatep_own_akasik_region_tt
		}
		konolkhatep_slave_project_effect_no = { slaves = 400 province = 382 }
		custom_tooltip = konolkhatep_akasik_change_trade_goods.tt
		tooltip = {
			akasik_region = {
				add_permanent_province_modifier = {
					name = konol_akasik_exploitation_modifier
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.e #Expand Eastern Port YES
		goto = 5434
		highlight = yes
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_project_trigger_yes = { slaves = 400 project = expand_eastern_port province = 5434 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 400 project = expand_eastern_port event = 204 }
		custom_tooltip = konolkhatep_eastern_slave_port_expanded.tt
		set_global_flag = abolitionism_blocked
		tooltip = {
			5434 = {
				change_trade_goods = slaves
				add_permanent_province_modifier = {
					name = konolkhatep_eastern_slave_port_expanded
					duration = -1
				}
			}
		}
	}
	option = {
		name = flavor_konolkhatep.200.e #Expand Eastern Port 400 4
		goto = 5434
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_project_trigger_no = { slaves = 400 project = expand_eastern_port province = 5434 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 400 province = 5434 }
		custom_tooltip = konolkhatep_eastern_slave_port_expanded.tt
		tooltip = {
			set_global_flag = abolitionism_blocked
			5434 = {
				change_trade_goods = slaves
				add_permanent_province_modifier = {
					name = konolkhatep_eastern_slave_port_expanded
					duration = -1
				}
			}
		}
	}
	#########
	option = {
		name = flavor_konolkhatep.200.f #Temple of the Two YES
		goto = 473
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 600 project = temple_of_the_two province = 473 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 600 project = temple_of_the_two event = 205 }
		custom_tooltip = konolkhatep_temple_of_the_two.tt
		tooltip = {
			473 = {
				add_permanent_province_modifier = {
					name = konolkhatep_high_temple_of_the_two
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	option = {
		name = flavor_konolkhatep.200.f #Temple of the Two NO
		goto = 473
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 600 project = temple_of_the_two province = 473 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 600 province = 473 }
		custom_tooltip = konolkhatep_temple_of_the_two.tt
		tooltip = {
			473 = {
				add_permanent_province_modifier = {
					name = konolkhatep_high_temple_of_the_two
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.g #Abyssal gold mine YES
		goto = 479
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 600 project = abyssal_gold_mine province = 479 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 600 project = abyssal_gold_mine event = 206 }
		custom_tooltip = konolkhatep_abyssal_golden_mine.tt
		tooltip = {
			479 = {
				add_permanent_province_modifier = {
					name = konolkhatep_abyssal_golden_mine
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	option = {
		name = flavor_konolkhatep.200.g #Abyssal gold mine NO
		goto = 479
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 600 project = abyssal_gold_mine province = 479 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 600 province = 479 }
		custom_tooltip = konolkhatep_abyssal_golden_mine.tt
		tooltip = {
			479 = {
				add_permanent_province_modifier = {
					name = konolkhatep_abyssal_golden_mine
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.h #Hall of Kingdoms YES
		goto = 463
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 600 project = hall_of_kingdoms province = 463 }
				mission_completed = konolkhatep_carry_legacy
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 600 project = hall_of_kingdoms event = 207 }
		custom_tooltip = konolkhatep_hall_of_kingdoms.tt
		tooltip = {
			463 = {
				add_permanent_province_modifier = {
					name = konolkhatep_hall_of_kingdoms
					duration = -1
				}
			}
			add_country_modifier = {
				name = konolkhatep_hall_of_kingdoms_country
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	option = {
		name = flavor_konolkhatep.200.h #Hall of Kingdoms NO
		goto = 463
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 600 project = hall_of_kingdoms province = 463 }
				mission_completed = konolkhatep_carry_legacy
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 600 province = 463 }
		custom_tooltip = konolkhatep_hall_of_kingdoms.tt
		tooltip = {
			463 = {
				add_permanent_province_modifier = {
					name = konolkhatep_hall_of_kingdoms
					duration = -1
				}
			}
			add_country_modifier = {
				name = konolkhatep_hall_of_kingdoms_country
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
	}
	#########
	option = {
		name = flavor_konolkhatep.200.i #Great Pyramid of Horutep YES
		goto = 475
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_yes = { slaves = 900 project = pyramid_of_horutep province = 475 }
			}
		}
		konolkhatep_slave_project_effect_yes = { slaves = 900 project = pyramid_of_horutep event = 208 }
		custom_tooltip = konolkhatep_great_pyramid_of_horutep.tt
		tooltip = {
			475 = {
				add_permanent_province_modifier = {
					name = konolkhatep_great_pyramid_of_horutep
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
	}
	option = {
		name = flavor_konolkhatep.200.i #Great Pyramid of Horutep NO
		goto = 475
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_project_trigger_no = { slaves = 900 project = pyramid_of_horutep province = 475 }
			}
		}
		konolkhatep_slave_project_effect_no = { slaves = 900 province = 475 }
		custom_tooltip = konolkhatep_great_pyramid_of_horutep.tt
		tooltip = {
			475 = {
				add_permanent_province_modifier = {
					name = konolkhatep_great_pyramid_of_horutep
					duration = -1
				}
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
	}
	######### Holy Road
	option = {
		name = flavor_konolkhatep.200.j
		goto = konol_rrammoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = holy_road
					road = rrammoton
				}
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = holy_road
			road = rrammoton
			province = 503
		}
	}
	option = {
		name = flavor_konolkhatep.200.j
		goto = konol_rrammoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = holy_road
					road = rrammoton
				}
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = holy_road
			road = rrammoton
			province = 503
		}
	}
	######### Chain Road
	option = {
		name = flavor_konolkhatep.200.k
		goto = konol_yaikmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = chain_road
					road = yaikmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = chain_road
			road = yaikmmoton
			province = 5480
		}
	}
	option = {
		name = flavor_konolkhatep.200.k
		goto = konol_yaikmmoton_target
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = chain_road
					road = yaikmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = chain_road
			road = yaikmmoton
			province = 5480
		}
	}
	######### Sun Road
	option = {
		name = flavor_konolkhatep.200.l
		goto = konol_xhurmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = sun_road
					road = xhurmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_carry_legacy
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = sun_road
			road = xhurmmoton
			province = 470
		}
	}
	option = {
		name = flavor_konolkhatep.200.l
		goto = konol_xhurmmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = sun_road
					road = xhurmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_carry_legacy
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = sun_road
			road = xhurmmoton
			province = 470
		}
	}
	######### Iron Road
	option = {
		name = flavor_konolkhatep.200.m
		goto = konol_udzalmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = iron_road
					road = udzalmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_picking_remains
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = iron_road
			road = udzalmmoton
			province = 5674
		}
	}
	option = {
		name = flavor_konolkhatep.200.m
		goto = konol_udzalmmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = iron_road
					road = udzalmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_picking_remains
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = iron_road
			road = udzalmmoton
			province = 5674
		}
	}
	######### Mountain Road
	option = {
		name = flavor_konolkhatep.200.n
		goto = konol_igraxmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = mountain_road
					road = igraxmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = mountain_road
			road = igraxmmoton
			province = 5482
		}
	}
	option = {
		name = flavor_konolkhatep.200.n
		goto = konol_igraxmmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = mountain_road
					road = igraxmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = mountain_road
			road = igraxmmoton
			province = 5482
		}
	}
	######### Storm Road
	option = {
		name = flavor_konolkhatep.200.o
		goto = konol_tzazikmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = storm_road
					road = tzazikmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = storm_road
			road = tzazikmmoton
			province = 462
		}
	}
	option = {
		name = flavor_konolkhatep.200.o
		goto = konol_tzazikmmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = storm_road
					road = tzazikmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = storm_road
			road = tzazikmmoton
			province = 462
		}
	}
	######### Song Road
	option = {
		name = flavor_konolkhatep.200.p
		goto = konol_izermmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = song_road
					road = izermmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_kneel_break
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = song_road
			road = izermmoton
			province = 5680
		}
	}
	option = {
		name = flavor_konolkhatep.200.p
		goto = konol_izermmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = song_road
					road = izermmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_kneel_break
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = song_road
			road = izermmoton
			province = 5680
		}
	}
	######### Rain Road
	option = {
		name = flavor_konolkhatep.200.q
		goto = konol_ozhxummoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = rain_road
					road = ozhxummoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = rain_road
			road = ozhxummoton
			province = 5435
		}
	}
	option = {
		name = flavor_konolkhatep.200.q
		goto = konol_ozhxummoton_target
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_gulf_slaves
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = rain_road
					road = ozhxummoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = rain_road
			road = ozhxummoton
			province = 5435
		}
	}
	######### Jungle Road
	option = {
		name = flavor_konolkhatep.200.r
		goto = konol_zuraxhmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 700
					project = jungle_road
					road = zuraxhmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_only_empire
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 700
			project = jungle_road
			road = zuraxhmmoton
			province = 5860
		}
	}
	option = {
		name = flavor_konolkhatep.200.r
		goto = konol_zuraxhmmoton_target
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 700
					project = jungle_road
					road = zuraxhmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_only_empire
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 700
			project = jungle_road
			road = zuraxhmmoton
			province = 5860
		}
	}
	######### Far Road
	option = {
		name = flavor_konolkhatep.200.s
		goto = konol_agtmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_other_end
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = far_road
					road = agtmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = far_road
			road = agtmmoton
			province = 5687
		}
	}
	option = {
		name = flavor_konolkhatep.200.s
		goto = konol_agtmmoton_target
		trigger = {
			hidden_trigger = {
				mission_completed = konolkhatep_other_end
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = far_road
					road = agtmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = far_road
			road = agtmmoton
			province = 5687
		}
	}
	######### Water Road
	option = {
		name = flavor_konolkhatep.200.u
		goto = konol_manmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_yes = {
					slaves = 500
					project = water_road
					road = manmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_men_fish
			}
		}
		konolkhatep_slave_road_project_effect_yes = {
			slaves = 500
			project = water_road
			road = manmmoton
			province = 5652
		}
	}
	option = {
		name = flavor_konolkhatep.200.u
		goto = konol_manmmoton_target
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_slave_road_project_trigger_no = {
					slaves = 500
					project = water_road
					road = manmmoton
				}
				has_country_flag = konolkhatep_holy_road_flag
				mission_completed = konolkhatep_men_fish
			}
		}
		konolkhatep_slave_road_project_effect_no = {
			slaves = 500
			project = water_road
			road = manmmoton
			province = 5652
		}
	}
	######### After end regular
	option = {
		name = flavor_konolkhatep.200.enda #Just place where you can spend your slaves YES
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_num_of_finished_slave_projects = { amount = 19 }
				has_government_power = {
					mechanic_type = konolkhatep_mechanic
					power_type = konolkhatep_slaves
					value = 600
				}
				NOT = {
					has_country_modifier = konolkhatep_focus_regular
				}
			}
		}
		konolkhatep_add_slaves = { slaves = -600 }
		add_country_modifier = {
			name = konolkhatep_focus_regular
			duration = 1825
		}
	}
	option = {
		name = flavor_konolkhatep.200.enda #Just place where you can spend your slaves NO
		trigger = {
			hidden_trigger = {
				konolkhatep_num_of_finished_slave_projects = { amount = 19 }
				NOT = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 600
					}
					has_country_modifier = konolkhatep_focus_regular
				}
			}
		}
		custom_tooltip = konolkhatep_need_600_slaves.tt
		tooltip = {
			add_country_modifier = {
				name = konolkhatep_focus_regular
				duration = 1825
			}
		}
		hidden_effect = { #Open event again as you cant pick that
			country_event = {
				id = flavor_konolkhatep.303
			}
		}
	}
	######### After end great
	option = {
		name = flavor_konolkhatep.200.endb #Just place where you can spend your slaves YES
		highlight = yes
		trigger = {
			hidden_trigger = {
				konolkhatep_num_of_finished_slave_projects = { amount = 19 }
				has_government_power = {
					mechanic_type = konolkhatep_mechanic
					power_type = konolkhatep_slaves
					value = 600
				}
				NOT = {
					has_country_modifier = konolkhatep_focus_great
				}
			}
		}
		konolkhatep_add_slaves = { slaves = -600 }
		add_country_modifier = {
			name = konolkhatep_focus_great
			duration = 1825
		}
	}
	option = {
		name = flavor_konolkhatep.200.endb #Just place where you can spend your slaves NO
		trigger = {
			hidden_trigger = {
				konolkhatep_num_of_finished_slave_projects = { amount = 19 }
				NOT = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 600
					}
					has_country_modifier = konolkhatep_focus_great
				}
			}
		}
		custom_tooltip = konolkhatep_need_600_slaves.tt
		tooltip = {
			add_country_modifier = {
				name = konolkhatep_focus_great
				duration = 1825
			}
		}
		hidden_effect = { #Open event again as you cant pick that
			country_event = {
				id = flavor_konolkhatep.303
			}
		}
	}
	##########
	option = {
		name = flavor_konolkhatep.200.a #Close
		trigger = {
			hidden_trigger = {
				NOT = {
					konolkhatep_num_of_finished_slave_projects = { amount = 15 }
				}
			}
		}
		highlight = yes
	}
	after = {
		clr_country_flag = konolkhatep_slave_menu_opened
	}
}
#Events of Projects
country_event = {  #Golden Chains
	id = flavor_konolkhatep.201
	title = flavor_konolkhatep.201.t
	desc = flavor_konolkhatep.201.desc
	picture = HEIR_AND_FOREIGN_ADVISOR_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	immediate = {
		hidden_effect = {
			konolkhatep_random_payback = yes
		}
	}

	option = {
		name = flavor_konolkhatep.201.a
		475 = {
			add_permanent_province_modifier = {
				name = konolkhatep_house_of_golden_chains
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 21 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 33 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 67 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 89 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = golden_chain }
	}
}
country_event = {  #Grand Granary
	id = flavor_konolkhatep.202
	title = flavor_konolkhatep.202.t
	desc = flavor_konolkhatep.202.desc
	picture = TRADE_GOODS_FURS_FISH_AND_SALT_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.202.a
		466 = {
			add_permanent_province_modifier = {
				name = konolkhatep_grand_granary
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 32 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 67 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 81 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 98 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = great_granary }
	}
}
country_event = {  #Exploitation of Akasik
	id = flavor_konolkhatep.203
	title = flavor_konolkhatep.203.t
	desc = flavor_konolkhatep.203.desc
	picture = ENCOMIENDA_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.203.a
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = grain
			}
			change_trade_goods = slaves
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = grain
			}
			change_trade_goods = slaves
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = grain
			}
			change_trade_goods = slaves
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = grain
			}
			change_trade_goods = sugar
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = grain
			}
			change_trade_goods = sugar
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = wool
			}
			change_trade_goods = iron
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = wool
			}
			change_trade_goods = iron
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = wool
			}
			change_trade_goods = iron
			add_base_production = 3
		}
		random_owned_province = {
			limit = {
				region = akasik_region
				trade_goods = wool
			}
			change_trade_goods = gems
			add_base_production = 3
		}
		akasik_region = {
			add_permanent_province_modifier = {
				name = konol_akasik_exploitation_modifier
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
		konol_increase_project_upkeep = yes
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 36 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 58 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 81 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 109 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = exploitation_of_akasik }
	}
}
country_event = {  #Eastern Port
	id = flavor_konolkhatep.204
	title = flavor_konolkhatep.204.t
	desc = flavor_konolkhatep.204.desc
	picture = LOADING_SHIP_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.204.a
		5434 = {
			hidden_effect = {
				remove_province_modifier = konolkhatep_eastern_slave_port
			}
			change_trade_goods = slaves
			add_permanent_province_modifier = {
				name = konolkhatep_eastern_slave_port_expanded
				duration = -1
			}
		}
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 52 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 89 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 124 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 161 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = expand_eastern_port }
	}
}
country_event = {  #Temple of the two
	id = flavor_konolkhatep.205
	title = flavor_konolkhatep.205.t
	desc = flavor_konolkhatep.205.desc
	picture = HIGH_TEMPLE_CITY_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.205.a
		hidden_effect = {
			every_owned_province = {
				limit = {
					religion = nirakhetist
				}
				add_province_modifier = {
					name = konolkhatep_high_temple_of_the_two_nirakhetist
					duration = -1
				}
			}
			every_owned_province = {
				limit = {
					religion = elikhetist
				}
				add_province_modifier = {
					name = konolkhatep_high_temple_of_the_two_elikhetist
					duration = -1
					hidden = yes
				}
			}
		}
		custom_tooltip = konolkhatep_temple_of_the_two.tt
		473 = {
			add_permanent_province_modifier = {
				name = konolkhatep_high_temple_of_the_two
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 59 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 87 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 126 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 167 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = temple_of_the_two }
	}
}
country_event = {  #Abysal Gold Mine
	id = flavor_konolkhatep.206
	title = flavor_konolkhatep.206.t
	desc = flavor_konolkhatep.206.desc
	picture = FALUN_COPPER_MINE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.206.a
		479 = {
			if = {
				limit = {
					479 = {
						NOT = {
							trade_goods = gold
						}
					}
				}
				change_trade_goods = gold
			}
			add_permanent_province_modifier = {
				name = konolkhatep_abyssal_golden_mine
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 3 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 38 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 75 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 131 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = abyssal_gold_mine }
	}
}
country_event = {  #Hall of Kingdoms
	id = flavor_konolkhatep.207
	title = flavor_konolkhatep.207.t
	desc = flavor_konolkhatep.207.desc
	picture = NUSANTARA_THRONE_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.207.a
		463 = {
			add_permanent_province_modifier = {
				name = konolkhatep_hall_of_kingdoms
				duration = -1
			}
		}
		add_country_modifier = {
			name = konolkhatep_hall_of_kingdoms_country
			duration = -1
		}
		custom_tooltip = konolkhatep_project_upkeep_1_tt
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 12 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 82 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 129 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 146 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = hall_of_kingdoms }
	}
}
country_event = {  #Great Pyramid
	id = flavor_konolkhatep.208
	title = flavor_konolkhatep.208.t
	desc = flavor_konolkhatep.208.desc
	picture = AZTEC_PYRAMID_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_konolkhatep.208.a
		475 = {
			add_permanent_province_modifier = {
				name = konolkhatep_great_pyramid_of_horutep
				duration = -1
			}
		}
		custom_tooltip = konolkhatep_great_pyramid_of_horutep_tt2
		hidden_effect = {
			change_variable = { which = num_china_reform value = 2 }
		}
		if = {
			limit = { has_had_golden_age = yes } 
			reset_golden_age = yes 
		}
		else_if = {
			limit = { in_golden_age = yes } 
			extend_golden_age = 600
		}
		custom_tooltip = konolkhatep_project_upkeep_2_tt
		konol_increase_project_upkeep = yes
		konol_increase_project_upkeep = yes
		trigger_switch = {
			on_trigger = has_country_flag
			konolkhatep_slave_pay_back1 = { konolkhatep_add_slaves = { slaves = 34 } }
			konolkhatep_slave_pay_back2 = { konolkhatep_add_slaves = { slaves = 76 } }
			konolkhatep_slave_pay_back3 = { konolkhatep_add_slaves = { slaves = 158 } }
			konolkhatep_slave_pay_back4 = { konolkhatep_add_slaves = { slaves = 254 } }
		}
	}
	
	after = {
		konolkhatep_slave_project_end_effect = { project = pyramid_of_horutep }
	}
}
province_event = {  #Road build
	id = flavor_konolkhatep.209
	title = flavor_konolkhatep.209.t
	desc = flavor_konolkhatep.209.desc
	picture = CROSSROAD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		hidden_effect = {
			konolkhatep_road_construction = yes
		}
	}
	
	goto = ROOT

	option = {
		name = flavor_konolkhatep.209.a
		goto = konolkhatep_road_next_province
		owner = { add_prestige_excess_to_splendour_effect = { VAL = 5 } }
		
		event_target:konolkhatep_road_next_province = {
			if = { #this "if" keeps the event from looping forever on the end provinces, because event targets get saved between events in an event chain.
				limit = {
					NOT = {
						has_province_modifier = konolkhatep_rrammoton
						has_province_modifier = konolkhatep_udzalmmoton
						has_province_modifier = konolkhatep_igraxmmoton
						has_province_modifier = konolkhatep_izermmoton
						has_province_modifier = konolkhatep_zuraxhmmoton
						has_province_modifier = konolkhatep_manmmoton
						has_province_modifier = konolkhatep_agtmmoton
						has_province_modifier = konolkhatep_ozhxummoton
						has_province_modifier = konolkhatep_tzazikmmoton
						has_province_modifier = konolkhatep_yaikmmoton
						has_province_modifier = konolkhatep_xhurmmoton
						has_province_modifier = konolkhatep_ahaadmmoton
				
					}
				}
				hidden_effect = {
					province_event = {
						id = flavor_konolkhatep.209
						days = 75
						random = 150
					}
				}
				add_province_modifier = {
					name = konolkhatep_road_under_construction
					duration = -1
				}
			}
			else = {
				trigger_switch = {
					on_trigger = province_group
					konolkhatep_road_rrammoton = { F66 = { country_event = { id = flavor_konolkhatep.210 } } }
					konolkhatep_road_udzalmmoton = { F66 = { country_event = { id = flavor_konolkhatep.213 } } }
					konolkhatep_road_igraxmmoton = { F66 = { country_event = { id = flavor_konolkhatep.214 } } }
					konolkhatep_road_izermmoton = { F66 = { country_event = { id = flavor_konolkhatep.216 } } }
					konolkhatep_road_zuraxhmmoton = { F66 = { country_event = { id = flavor_konolkhatep.218 } } }
					konolkhatep_road_manmmoton = { F66 = { country_event = { id = flavor_konolkhatep.220 } } }
					konolkhatep_road_agtmmoton = { F66 = { country_event = { id = flavor_konolkhatep.219 } } }
					konolkhatep_road_ozhxummoton = { F66 = { country_event = { id = flavor_konolkhatep.217 } } }
					konolkhatep_road_tzazikmmoton = { F66 = { country_event = { id = flavor_konolkhatep.215 } } }
					konolkhatep_road_yaikmmoton = { F66 = { country_event = { id = flavor_konolkhatep.211 } } }
					konolkhatep_road_xhurmmoton = { F66 = { country_event = { id = flavor_konolkhatep.212 } } }
				}
			}
		}
	}
}

#Rrammoton Finished
country_event = {
	id = flavor_konolkhatep.210
	title = flavor_konolkhatep.210.t
	desc = flavor_konolkhatep.210.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.210.a
		custom_tooltip = konolkhatep_finished_road_project_rrammoton
		konolkhatep_road_slave_project_end_effect = { project = holy_road }
	}
}

#Yaikmmoton Finished
country_event = {
	id = flavor_konolkhatep.211
	title = flavor_konolkhatep.211.t
	desc = flavor_konolkhatep.211.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.211.a
		custom_tooltip = konolkhatep_finished_road_project_yaikmmoton
		konolkhatep_road_slave_project_end_effect = { project = chain_road }
	}
}

#Xhurmmoton Finished
country_event = {
	id = flavor_konolkhatep.212
	title = flavor_konolkhatep.212.t
	desc = flavor_konolkhatep.212.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.212.a
		custom_tooltip = konolkhatep_finished_road_project_xhurmmoton
		konolkhatep_road_slave_project_end_effect = { project = sun_road }
	}
}

#Udzalmmoton Finished
country_event = {
	id = flavor_konolkhatep.213
	title = flavor_konolkhatep.213.t
	desc = flavor_konolkhatep.213.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.213.a
		custom_tooltip = konolkhatep_finished_road_project_udzalmmoton
		konolkhatep_road_slave_project_end_effect = { project = iron_road }
	}
}

#Igraxmmoton Finished
country_event = {
	id = flavor_konolkhatep.214
	title = flavor_konolkhatep.214.t
	desc = flavor_konolkhatep.214.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.214.a
		custom_tooltip = konolkhatep_finished_road_project_igraxmmoton
		konolkhatep_road_slave_project_end_effect = { project = mountain_road }
	}
}

#Tzazikmmoton Finished
country_event = {
	id = flavor_konolkhatep.215
	title = flavor_konolkhatep.215.t
	desc = flavor_konolkhatep.215.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.215.a
		custom_tooltip = konolkhatep_finished_road_project_tzazikmmoton
		konolkhatep_road_slave_project_end_effect = { project = storm_road }
	}
}

#Izermmoton Finished
country_event = {
	id = flavor_konolkhatep.216
	title = flavor_konolkhatep.216.t
	desc = flavor_konolkhatep.216.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.216.a
		custom_tooltip = konolkhatep_finished_road_project_izermmoton
		konolkhatep_road_slave_project_end_effect = { project = song_road }
	}
}

#Ozhxummoton Finished
country_event = {
	id = flavor_konolkhatep.217
	title = flavor_konolkhatep.217.t
	desc = flavor_konolkhatep.217.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.217.a
		custom_tooltip = konolkhatep_finished_road_project_ozhxummoton
		konolkhatep_road_slave_project_end_effect = { project = rain_road }
	}
}

#Zuraxhmmoton Finished
country_event = {
	id = flavor_konolkhatep.218
	title = flavor_konolkhatep.218.t
	desc = flavor_konolkhatep.218.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.218.a
		custom_tooltip = konolkhatep_finished_road_project_zuraxhmmoton
		konolkhatep_road_slave_project_end_effect = { project = jungle_road }
	}
}

#Agtmmoton Finished
country_event = {
	id = flavor_konolkhatep.219
	title = flavor_konolkhatep.219.t
	desc = flavor_konolkhatep.219.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.219.a
		custom_tooltip = konolkhatep_finished_road_project_agtmmoton
		konolkhatep_road_slave_project_end_effect = { project = far_road }
	}
}

#Manmmoton Finished
country_event = {
	id = flavor_konolkhatep.220
	title = flavor_konolkhatep.220.t
	desc = flavor_konolkhatep.220.d
	picture = CROSSROAD_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	
	option = {
		name = flavor_konolkhatep.220.a
		custom_tooltip = konolkhatep_finished_road_project_manmmoton
		konolkhatep_road_slave_project_end_effect = { project = water_road }
	}
}

#Planetouch trait change at will
country_event = {
	id = flavor_konolkhatep.230
	title = flavor_konolkhatep.230.t
	desc = flavor_konolkhatep.230.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes

	trigger = { tag = F66 }
	immediate = {
		hidden_effect = { set_country_flag = konolkhatep_planetouched_menu_opened }
	}
	option = {
		name = flavor_konolkhatep.230.a
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_fire } } }
		horutep_switch_planetouched_personality_effect = { type = fire }
	}
	option = {
		name = flavor_konolkhatep.230.b
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_water } } }
		horutep_switch_planetouched_personality_effect = { type = water }
	}
	option = {
		name = flavor_konolkhatep.230.c
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_earth } } }
		horutep_switch_planetouched_personality_effect = { type = earth }
	}
	option = {
		name = flavor_konolkhatep.230.e
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_wind } } }
		horutep_switch_planetouched_personality_effect = { type = wind }
	}
	option = {
		name = flavor_konolkhatep.230.f
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_shadow } } }
		horutep_switch_planetouched_personality_effect = { type = shadow }
	}
	option = {
		name = flavor_konolkhatep.230.g
		trigger = { hidden_trigger = { NOT = { has_country_flag = F66_saved_life } } }
		horutep_switch_planetouched_personality_effect = { type = life }
	}
	option = { #exit
		name = flavor_konolkhatep.230.h
	}
	after = { clr_country_flag = konolkhatep_planetouched_menu_opened }
}

#Planetouch trait change random
country_event = {
	id = flavor_konolkhatep.231
	title = flavor_konolkhatep.231.t
	desc = flavor_konolkhatep.231.d
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes

	trigger = {
		tag = F66
		has_country_flag = konolkhatep_raw_power_tracker
	}
	
	option = {
		name = flavor_konolkhatep.231.a
		random_list = {
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_fire } }
				horutep_switch_planetouched_personality_effect = { type = fire }
			}
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_water } }
				horutep_switch_planetouched_personality_effect = { type = water }
			}
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_earth } }
				horutep_switch_planetouched_personality_effect = { type = earth }
			}
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_wind } }
				horutep_switch_planetouched_personality_effect = { type = wind }
			}
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_shadow } }
				horutep_switch_planetouched_personality_effect = { type = shadow }
			}
			1 = {
				trigger = { NOT = { has_country_flag = F66_saved_life } }
				horutep_switch_planetouched_personality_effect = { type = life }
			}
		}
		add_stability = -1
		if = {
			limit = {
				had_country_flag = {
					flag = konolkhatep_raw_power_tracker
					days = 9125
				}
			}
			custom_tooltip = konolkhatep_no_more_raw_power_tt
			hidden_effect = {
				clr_country_flag = konolkhatep_raw_power_tracker
				remove_country_modifier = konolkhatep_raw_power_modifier
			}
		}
	}
}

## Governors event menus
country_event = {  
	id = flavor_konolkhatep.250
	title = flavor_konolkhatep.250.t
	desc = flavor_konolkhatep.250.d
	picture = COASTLINE_MAP_eventPicture

	is_triggered_only = yes

	immediate = { set_country_flag = konol_gov_menu_open }

	option = {	#close
		name = flavor_konolkhatep.250.a
		clr_country_flag = konol_gov_menu_open
	}
	option = {
		name = flavor_konolkhatep.250.b
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = fangaula_superregion
			}
		}
		konol_slave_edict_selector = { target = fangaula }
	}
	option = {
		name = flavor_konolkhatep.250.c
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = tanib_dajek_superregion
			}
		}
		konol_slave_edict_selector = { target = tanib_dajek }
	}
	option = {
		name = flavor_konolkhatep.250.dd
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = taneyas_superregion
			}
		}
		konol_slave_edict_selector = { target = taneyas }
	}
	option = {
		name = flavor_konolkhatep.250.e
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = djinnakah_superregion
			}
		}
		konol_slave_edict_selector = { target = djinnakah }
	}
	option = {
		name = flavor_konolkhatep.250.f
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = east_sarhal_superregion
			}
		}
		konol_slave_edict_selector = { target = east_sarhal }
	}
	option = {
		name = flavor_konolkhatep.250.g
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = bulwar_superregion
			}
		}
		konol_slave_edict_selector = { target = bulwar }
	}
	option = {
		name = flavor_konolkhatep.250.h
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = western_cannor_superregion
			}
		}
		konol_slave_edict_selector = { target = western_cannor }
	}
	option = {
		name = flavor_konolkhatep.250.i
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = escann_superregion
			}
		}
		konol_slave_edict_selector = { target = escann }
	}
	option = {
		name = flavor_konolkhatep.250.l
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = gerudia_superregion
			}
		}
		konol_slave_edict_selector = { target = gerudia }
	}
	option = {
		name = flavor_konolkhatep.250.m
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = deepwoods_superregion
			}
		}
		konol_slave_edict_selector = { target = deepwoods }
	}
	option = {
		name = flavor_konolkhatep.250.n
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = east_serpentspine_superregion
			}
		}
		konol_slave_edict_selector = { target = east_serpentspine }
	}
	option = {
		name = flavor_konolkhatep.250.o
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = west_serpentspine_superregion
			}
		}
		konol_slave_edict_selector = { target = west_serpentspine }
	}
	option = {
		name = flavor_konolkhatep.250.p
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = rahen_superregion
			}
		}
		konol_slave_edict_selector = { target = rahen }
	}
	option = {
		name = flavor_konolkhatep.250.q
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = vimdatrong_superregion
			}
		}
		konol_slave_edict_selector = { target = vimdatrong }
	}
	option = {
		name = flavor_konolkhatep.250.r
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = yanshen_superregion
			}
		}
		konol_slave_edict_selector = { target = yanshen }
	}
	option = {
		name = flavor_konolkhatep.250.s
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = gozengun_superregion
			}
		}
		konol_slave_edict_selector = { target = gozengun }
	}
	option = {
		name = flavor_konolkhatep.250.tt
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 30
				superregion = forbidden_lands_superregion
			}
		}
		konol_slave_edict_selector = { target = forbidden_lands }
	}
	option = {	#another close one
		name = flavor_konolkhatep.250.a
		clr_country_flag = konol_gov_menu_open
	}
}

country_event = {  
	id = flavor_konolkhatep.251
	title = flavor_konolkhatep.251.t
	desc = flavor_konolkhatep.251.d
	picture = COASTLINE_MAP_eventPicture

	is_triggered_only = yes

	option = {	#back
		name = flavor_konolkhatep.250.a
	}
	option = {
		name = flavor_konolkhatep.251.b
		if = { limit = { has_country_flag = selector_flag_fangaula }
			konol_enslavement_edict_effect = { target = fangaula }
		}
		else_if = { limit = { has_country_flag = selector_flag_tanib_dajek }
			konol_enslavement_edict_effect = { target = tanib_dajek }
		}
		else_if = { limit = { has_country_flag = selector_flag_taneyas }
			konol_enslavement_edict_effect = { target = taneyas }
		}
		else_if = { limit = { has_country_flag = selector_flag_djinnakah }
			konol_enslavement_edict_effect = { target = djinnakah }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_sarhal }
			konol_enslavement_edict_effect = { target = east_sarhal }
		}
		else_if = { limit = { has_country_flag = selector_flag_bulwar }
			konol_enslavement_edict_effect = { target = bulwar }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_serpentspine }
			konol_enslavement_edict_effect = { target = east_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_west_serpentspine }
			konol_enslavement_edict_effect = { target = west_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_western_cannor }
			konol_enslavement_edict_effect = { target = western_cannor }
		}
		else_if = { limit = { has_country_flag = selector_flag_escann }
			konol_enslavement_edict_effect = { target = escann }
		}
		else_if = { limit = { has_country_flag = selector_flag_gerudia }
			konol_enslavement_edict_effect = { target = gerudia }
		}
		else_if = { limit = { has_country_flag = selector_flag_deepwoods }
			konol_enslavement_edict_effect = { target = deepwoods }
		}
		else_if = { limit = { has_country_flag = selector_flag_forbidden_lands }
			konol_enslavement_edict_effect = { target = forbidden_lands }
		}
		else_if = { limit = { has_country_flag = selector_flag_rahen }
			konol_enslavement_edict_effect = { target = rahen }
		}
		else_if = { limit = { has_country_flag = selector_flag_vimdatrong }
			konol_enslavement_edict_effect = { target = vimdatrong }
		}
		else_if = { limit = { has_country_flag = selector_flag_yanshen }
			konol_enslavement_edict_effect = { target = yanshen }
		}
		else_if = { limit = { has_country_flag = selector_flag_gozengun }
			konol_enslavement_edict_effect = { target = gozengun }
		}
	}

	option = {
		name = flavor_konolkhatep.251.c
		if = { limit = { has_country_flag = selector_flag_fangaula }
			konol_assimilation_edict_effect = { target = fangaula }
		}
		else_if = { limit = { has_country_flag = selector_flag_tanib_dajek }
			konol_assimilation_edict_effect = { target = tanib_dajek }
		}
		else_if = { limit = { has_country_flag = selector_flag_taneyas }
			konol_assimilation_edict_effect = { target = taneyas }
		}
		else_if = { limit = { has_country_flag = selector_flag_djinnakah }
			konol_assimilation_edict_effect = { target = djinnakah }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_sarhal }
			konol_assimilation_edict_effect = { target = east_sarhal }
		}
		else_if = { limit = { has_country_flag = selector_flag_bulwar }
			konol_assimilation_edict_effect = { target = bulwar }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_serpentspine }
			konol_assimilation_edict_effect = { target = east_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_west_serpentspine }
			konol_assimilation_edict_effect = { target = west_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_western_cannor }
			konol_assimilation_edict_effect = { target = western_cannor }
		}
		else_if = { limit = { has_country_flag = selector_flag_escann }
			konol_assimilation_edict_effect = { target = escann }
		}
		else_if = { limit = { has_country_flag = selector_flag_gerudia }
			konol_assimilation_edict_effect = { target = gerudia }
		}
		else_if = { limit = { has_country_flag = selector_flag_deepwoods }
			konol_assimilation_edict_effect = { target = deepwoods }
		}
		else_if = { limit = { has_country_flag = selector_flag_forbidden_lands }
			konol_assimilation_edict_effect = { target = forbidden_lands }
		}
		else_if = { limit = { has_country_flag = selector_flag_rahen }
			konol_assimilation_edict_effect = { target = rahen }
		}
		else_if = { limit = { has_country_flag = selector_flag_vimdatrong }
			konol_assimilation_edict_effect = { target = vimdatrong }
		}
		else_if = { limit = { has_country_flag = selector_flag_yanshen }
			konol_assimilation_edict_effect = { target = yanshen }
		}
		else_if = { limit = { has_country_flag = selector_flag_gozengun }
			konol_assimilation_edict_effect = { target = gozengun }
		}
	}

	option = {
		name = flavor_konolkhatep.251.dd
		if = { limit = { has_country_flag = selector_flag_fangaula }
			konol_integration_edict_effect = { target = fangaula }
		}
		else_if = { limit = { has_country_flag = selector_flag_tanib_dajek }
			konol_integration_edict_effect = { target = tanib_dajek }
		}
		else_if = { limit = { has_country_flag = selector_flag_taneyas }
			konol_integration_edict_effect = { target = taneyas }
		}
		else_if = { limit = { has_country_flag = selector_flag_djinnakah }
			konol_integration_edict_effect = { target = djinnakah }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_sarhal }
			konol_integration_edict_effect = { target = east_sarhal }
		}
		else_if = { limit = { has_country_flag = selector_flag_bulwar }
			konol_integration_edict_effect = { target = bulwar }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_serpentspine }
			konol_integration_edict_effect = { target = east_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_west_serpentspine }
			konol_integration_edict_effect = { target = west_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_western_cannor }
			konol_integration_edict_effect = { target = western_cannor }
		}
		else_if = { limit = { has_country_flag = selector_flag_escann }
			konol_integration_edict_effect = { target = escann }
		}
		else_if = { limit = { has_country_flag = selector_flag_gerudia }
			konol_integration_edict_effect = { target = gerudia }
		}
		else_if = { limit = { has_country_flag = selector_flag_deepwoods }
			konol_integration_edict_effect = { target = deepwoods }
		}
		else_if = { limit = { has_country_flag = selector_flag_forbidden_lands }
			konol_integration_edict_effect = { target = forbidden_lands }
		}
		else_if = { limit = { has_country_flag = selector_flag_rahen }
			konol_integration_edict_effect = { target = rahen }
		}
		else_if = { limit = { has_country_flag = selector_flag_vimdatrong }
			konol_integration_edict_effect = { target = vimdatrong }
		}
		else_if = { limit = { has_country_flag = selector_flag_yanshen }
			konol_integration_edict_effect = { target = yanshen }
		}
		else_if = { limit = { has_country_flag = selector_flag_gozengun }
			konol_integration_edict_effect = { target = gozengun }
		}
	}

	option = {
		name = flavor_konolkhatep.251.e
		if = { limit = { has_country_flag = selector_flag_fangaula }
			konol_service_edict_effect = { target = fangaula }
		}
		else_if = { limit = { has_country_flag = selector_flag_tanib_dajek }
			konol_service_edict_effect = { target = tanib_dajek }
		}
		else_if = { limit = { has_country_flag = selector_flag_taneyas }
			konol_service_edict_effect = { target = taneyas }
		}
		else_if = { limit = { has_country_flag = selector_flag_djinnakah }
			konol_service_edict_effect = { target = djinnakah }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_sarhal }
			konol_service_edict_effect = { target = east_sarhal }
		}
		else_if = { limit = { has_country_flag = selector_flag_bulwar }
			konol_service_edict_effect = { target = bulwar }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_serpentspine }
			konol_service_edict_effect = { target = east_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_west_serpentspine }
			konol_service_edict_effect = { target = west_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_western_cannor }
			konol_service_edict_effect = { target = western_cannor }
		}
		else_if = { limit = { has_country_flag = selector_flag_escann }
			konol_service_edict_effect = { target = escann }
		}
		else_if = { limit = { has_country_flag = selector_flag_gerudia }
			konol_service_edict_effect = { target = gerudia }
		}
		else_if = { limit = { has_country_flag = selector_flag_deepwoods }
			konol_service_edict_effect = { target = deepwoods }
		}
		else_if = { limit = { has_country_flag = selector_flag_forbidden_lands }
			konol_service_edict_effect = { target = forbidden_lands }
		}
		else_if = { limit = { has_country_flag = selector_flag_rahen }
			konol_service_edict_effect = { target = rahen }
		}
		else_if = { limit = { has_country_flag = selector_flag_vimdatrong }
			konol_service_edict_effect = { target = vimdatrong }
		}
		else_if = { limit = { has_country_flag = selector_flag_yanshen }
			konol_service_edict_effect = { target = yanshen }
		}
		else_if = { limit = { has_country_flag = selector_flag_gozengun }
			konol_service_edict_effect = { target = gozengun }
		}
	}
	option = {
		name = flavor_konolkhatep.251.f
		if = { limit = { has_country_flag = selector_flag_fangaula }
			konol_appeasement_edict_effect = { target = fangaula }
		}
		else_if = { limit = { has_country_flag = selector_flag_tanib_dajek }
			konol_appeasement_edict_effect = { target = tanib_dajek }
		}
		else_if = { limit = { has_country_flag = selector_flag_taneyas }
			konol_appeasement_edict_effect = { target = taneyas }
		}
		else_if = { limit = { has_country_flag = selector_flag_djinnakah }
			konol_appeasement_edict_effect = { target = djinnakah }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_sarhal }
			konol_appeasement_edict_effect = { target = east_sarhal }
		}
		else_if = { limit = { has_country_flag = selector_flag_bulwar }
			konol_appeasement_edict_effect = { target = bulwar }
		}
		else_if = { limit = { has_country_flag = selector_flag_east_serpentspine }
			konol_appeasement_edict_effect = { target = east_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_west_serpentspine }
			konol_appeasement_edict_effect = { target = west_serpentspine }
		}
		else_if = { limit = { has_country_flag = selector_flag_western_cannor }
			konol_appeasement_edict_effect = { target = western_cannor }
		}
		else_if = { limit = { has_country_flag = selector_flag_escann }
			konol_appeasement_edict_effect = { target = escann }
		}
		else_if = { limit = { has_country_flag = selector_flag_gerudia }
			konol_appeasement_edict_effect = { target = gerudia }
		}
		else_if = { limit = { has_country_flag = selector_flag_deepwoods }
			konol_appeasement_edict_effect = { target = deepwoods }
		}
		else_if = { limit = { has_country_flag = selector_flag_forbidden_lands }
			konol_appeasement_edict_effect = { target = forbidden_lands }
		}
		else_if = { limit = { has_country_flag = selector_flag_rahen }
			konol_appeasement_edict_effect = { target = rahen }
		}
		else_if = { limit = { has_country_flag = selector_flag_vimdatrong }
			konol_appeasement_edict_effect = { target = vimdatrong }
		}
		else_if = { limit = { has_country_flag = selector_flag_yanshen }
			konol_appeasement_edict_effect = { target = yanshen }
		}
		else_if = { limit = { has_country_flag = selector_flag_gozengun }
			konol_appeasement_edict_effect = { target = gozengun }
		}
	}
	after = {
		clr_country_flag = selector_flag_fangaula
		clr_country_flag = selector_flag_tanib_dajek
		clr_country_flag = selector_flag_taneyas
		clr_country_flag = selector_flag_djinnakah
		clr_country_flag = selector_flag_east_sarhal
		clr_country_flag = selector_flag_bulwar
		clr_country_flag = selector_flag_east_serpentspine
		clr_country_flag = selector_flag_west_serpentspine
		clr_country_flag = selector_flag_western_cannor
		clr_country_flag = selector_flag_escann
		clr_country_flag = selector_flag_gerudia
		clr_country_flag = selector_flag_deepwoods
		clr_country_flag = selector_flag_forbidden_lands
		clr_country_flag = selector_flag_rahen
		clr_country_flag = selector_flag_vimdatrong
		clr_country_flag = selector_flag_yanshen
		clr_country_flag = selector_flag_gozengun
		country_event = { id = flavor_konolkhatep.250 }
	}
}
#Legions
country_event = {  
	id = flavor_konolkhatep.252
	title = flavor_konolkhatep.252.t
	desc = flavor_konolkhatep.252.d
	picture = AFRICAN_BATTLE_eventPicture

	is_triggered_only = yes

	immediate = { set_country_flag = konol_legion_menu_open }

	option = {	#back
		name = flavor_konolkhatep.250.a
	}
	option = {
		name = flavor_konolkhatep.252.b
		trigger = {
			NOT = {
				has_country_flag = unlocked_merc_konol_hawk_legion
				AND = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 100
					}
					manpower = 50
					treasury = 1000
				}
			}
		}
		konol_no_unlock_legions_effect = { legion = hawk }
	}
	option = {
		name = flavor_konolkhatep.252.b
		trigger = {
			NOT = { has_country_flag = unlocked_merc_konol_hawk_legion }
			has_government_power = {
				mechanic_type = konolkhatep_mechanic
				power_type = konolkhatep_slaves
				value = 100
			}
			manpower = 50
			treasury = 1000
		}
		konol_unlock_legions_effect = { legion = hawk }
	}
	option = {
		name = flavor_konolkhatep.252.c
		trigger = {
			NOT = {
				has_country_flag = unlocked_merc_konol_carrion_legion
				AND = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 100
					}
					manpower = 50
					treasury = 1000
				}
			}
		}
		konol_no_unlock_legions_effect = { legion = carrion }
	}
	option = {
		name = flavor_konolkhatep.252.c
		trigger = {
			NOT = { has_country_flag = unlocked_merc_konol_carrion_legion }
			has_government_power = {
				mechanic_type = konolkhatep_mechanic
				power_type = konolkhatep_slaves
				value = 100
			}
			manpower = 50
			treasury = 1000
		}
		konol_unlock_legions_effect = { legion = carrion }
	}
	option = {
		name = flavor_konolkhatep.252.dd
		trigger = {
			NOT = {
				has_country_flag = unlocked_merc_konol_venom_legion
				AND = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 100
					}
					manpower = 50
					treasury = 1000
				}
			}
		}
		konol_no_unlock_legions_effect = { legion = venom }
	}
	option = {
		name = flavor_konolkhatep.252.dd
		trigger = {
			NOT = { has_country_flag = unlocked_merc_konol_venom_legion }
			has_government_power = {
				mechanic_type = konolkhatep_mechanic
				power_type = konolkhatep_slaves
				value = 100
			}
			manpower = 50
			treasury = 1000
		}
		konol_unlock_legions_effect = { legion = venom }
	}
	option = {
		name = flavor_konolkhatep.252.e
		trigger = {
			NOT = {
				has_country_flag = unlocked_merc_konol_sandstorm_legion
				AND = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 100
					}
					manpower = 50
					treasury = 1000
				}
			}
		}
		konol_no_unlock_legions_effect = { legion = sandstorm }
	}
	option = {
		name = flavor_konolkhatep.252.e
		trigger = {
			NOT = { has_country_flag = unlocked_merc_konol_sandstorm_legion }
			has_government_power = {
				mechanic_type = konolkhatep_mechanic
				power_type = konolkhatep_slaves
				value = 100
			}
			manpower = 50
			treasury = 1000
		}
		konol_unlock_legions_effect = { legion = sandstorm }
	}
	option = {
		name = flavor_konolkhatep.252.f
		trigger = {
			NOT = {
				has_country_flag = unlocked_merc_konol_scourge_legion
				AND = {
					has_government_power = {
						mechanic_type = konolkhatep_mechanic
						power_type = konolkhatep_slaves
						value = 100
					}
					manpower = 50
					treasury = 1000
				}
			}
		}
		konol_no_unlock_legions_effect = { legion = scourge }
	}
	option = {
		name = flavor_konolkhatep.252.f
		trigger = {
			NOT = { has_country_flag = unlocked_merc_konol_scourge_legion }
			has_government_power = {
				mechanic_type = konolkhatep_mechanic
				power_type = konolkhatep_slaves
				value = 100
			}
			manpower = 50
			treasury = 1000
		}
		konol_unlock_legions_effect = { legion = scourge }
	}
	after = { clr_country_flag = konol_legion_menu_open }
}

##########################
#300-399 Maintenance and misc events
##########################

country_event = {
	id = flavor_konolkhatep.300
	title = flavor_konolkhatep.300.t
	desc = flavor_konolkhatep.300.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes

	option = {
		name = flavor_konolkhatep.300.a
		if = {
			limit = {
				overlord = { 
					empire_of_china_reform_passed = medasi_enlightening_halann_reform
				}
			}
			add_country_modifier = {
				name = medasi_enlightening_halann_reform_modifier
				duration = -1
			}
			anb_add_accepted_culture_or_dip_power = { culture = hapremiti free = yes }
			anb_add_accepted_culture_or_dip_power = { culture = irsmahapan free = yes }
			anb_add_accepted_culture_or_dip_power = { culture = shasouran free = yes }
			anb_add_accepted_culture_or_dip_power = { culture = korosheshi free = yes }
			anb_add_accepted_culture_or_dip_power = { culture = tijarikheti free = yes }
			anb_add_accepted_culture_or_dip_power = { culture = horakheti free = yes }
		}
		if = {
			limit = {
				overlord = { 
					empire_of_china_reform_passed = medasi_disciples_horutep_reform
				}
			}
			add_country_modifier = {
				name = medasi_disciples_horutep_reform_modifier
				duration = -1
			}
			define_powerful_mage = { type = ruler }
		}
		if = {
			limit = {
				overlord = { 
					empire_of_china_reform_passed = luxuries_depths_reform
				}
			}
			every_owned_province = {
				limit = {
					continent = africa
					has_port = yes
				}
				add_province_modifier = {
					name = konolkhatep_luxuries_depths_modifier
					duration = -1
					hidden = yes
				}
			}
		}
	}	
}

country_event = {  #Decree of Annihilation effect on war declared
	id = flavor_konolkhatep.301
	title = flavor_konolkhatep.301.t
	desc = flavor_konolkhatep.301.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = flavor_konolkhatep.301.b
		add_country_modifier = { name = konolkhatep_annihilation_decree_debuff duration = 30 }
		if = {
			limit = { has_heir = yes }
			kill_heir = { allow_new_heir = no }
		}
		kill_ruler = yes
	}
}

country_event = {  #One Pack passive culture conversion
	id = flavor_konolkhatep.302
	title = flavor_konolkhatep.302.t
	desc = flavor_konolkhatep.302.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = F66
		empire_of_china_reform_passed = one_pack_reform
		any_owned_province = {
			religion_group = khetist
			culture_group = gnollish
			NOT = { culture = sorrowmane_gnoll }
		}
	}
	
	
	option = {
		name = flavor_konolkhatep.302.b
		random = {
			chance = 60
			random_owned_province = {
				limit = {
					religion_group = khetist
					culture_group = gnollish
					NOT = { culture = sorrowmane_gnoll }
				}
				change_culture = sorrowmane_gnoll
			}
		}
	}
}

country_event = {  #Hidden event to reopen the project menu
	id = flavor_konolkhatep.303
	title = flavor_konolkhatep.303.t
	desc = flavor_konolkhatep.303.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = F66
	}
	
	
	option = {
		name = flavor_konolkhatep.303.b
		country_event = {
			id = flavor_konolkhatep.200
		}
	}
}

country_event = {  #Effect for slave raid peace deal
	id = flavor_konolkhatep.304
	title = flavor_konolkhatep.304.t
	desc = flavor_konolkhatep.304.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = flavor_konolkhatep.304.b
		export_to_variable = {
			which = FoeDev
			value = total_development
			who = ROOT
		}
		divide_variable = {
			which = FoeDev
			value = 4
		}
		if = {
			limit = { check_variable = { which = FoeDev value = 100 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 100 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 95 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 95 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 90 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 90 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 85 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 85 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 80 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 80 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 75 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 75 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 70 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 70 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 65 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 65 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 60 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 60 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 55 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 55 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 50 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 50 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 45 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 45 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 40 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 40 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 35 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 35 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 30 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 30 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 25 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 25 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 20 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 20 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 15 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 15 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 10 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 10 }
			}
		}
		else_if = {
			limit = { check_variable = { which = FoeDev value = 5 } }
			F66 = {
				konolkhatep_add_slaves = { slaves = 5 }
			}
		}
		random_list = {
			1 = { 
				capital_scope = {
					konolkhatep_slave_raid_effect = yes
				}
			}
			1 = { 
				capital_scope = {
					konolkhatep_slave_raid_effect = yes
					konolkhatep_slave_raid_effect = yes
				}
			}
			1 = { 
				capital_scope = {
					konolkhatep_slave_raid_effect = yes
					konolkhatep_slave_raid_effect = yes
					konolkhatep_slave_raid_effect = yes
				}
			}
		}
	}
}

country_event = {  #Organizer event on_monthly_pulse
	id = flavor_konolkhatep.305
	title = flavor_konolkhatep.305.t
	desc = flavor_konolkhatep.305.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = F66
		mission_completed = konolkhatep_blazing_sun
	}
	
	option = {
		if = {
			limit = { 
				has_reform = F66_eternal_empire
			}
			if = {
				limit = {
					trading_bonus = {
						trade_goods = slaves
						value = yes
					}
					NOT = { has_country_modifier = konolkhatep_slaves_trading_bonus }
				}
				add_country_modifier = {
					name = konolkhatep_slaves_trading_bonus
					duration = -1
					hidden = yes
				}
			}
			if = {
				limit = {
					has_country_modifier = konolkhatep_slaves_trading_bonus
					NOT = {
						trading_bonus = {
							trade_goods = slaves
							value = yes
						}
					}
				}
				remove_country_modifier = konolkhatep_slaves_trading_bonus
			}
		}
		if = {
			limit = { has_country_flag = horutep_title_flag_patriarch_khet }
			if = {
				limit = {
					is_year = 1498
					NOT = { is_year = 1499 }
					is_month = 3
					NOT = { is_month = 4 }
				}
				add_meritocracy = 30
			}
			else_if = {
				limit = {
					is_year = 1532
					NOT = { is_year = 1533 }
					is_month = 5
					NOT = { is_month = 6 }
				}
				add_meritocracy = 30
			}
			else_if = {
				limit = {
					is_year = 1586
					NOT = { is_year = 1587 }
					is_month = 5
					NOT = { is_month = 6 }
				}
				add_meritocracy = 30
			}
			else_if = {
				limit = {
					is_year = 1637
					NOT = { is_year = 1638 }
					is_month = 11
					NOT = { is_month = 11 }
				}
				add_meritocracy = 30
			}
			else_if = {
				limit = {
					is_year = 1683
					NOT = { is_year = 1684 }
					is_month = 4
					NOT = { is_month = 5 }
				}
				add_meritocracy = 30
			}
			else_if = {
				limit = {
					is_year = 1752
					NOT = { is_year = 1753 }
					is_month = 7
					NOT = { is_month = 8 }
				}
				add_meritocracy = 30
			}
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_starcaller }
				is_ruler_conjuration_level_3 = yes
				has_estate = estate_artificers
			}
			country_event = { id = flavor_konolkhatep.28 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_lord_light }
				bulwar_superregion = {
					type = all
					country_or_subject_holds = ROOT
				}
			}
			country_event = { id = flavor_konolkhatep.29 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_icelord }
				is_ruler_transmutation_level_2_minimum = yes
				num_of_provinces_owned_or_owned_by_subjects_with = {
					value = 50
					OR = {
						has_winter = mild_winter
						has_winter = normal_winter
						has_winter = severe_winter
					}
				}
			}
			country_event = { id = flavor_konolkhatep.30 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_guider_storms }
				is_ruler_transmutation_level_2_minimum = yes
				num_of_provinces_owned_or_owned_by_subjects_with = {
					value = 20
					has_monsoon = mild_monsoon
				}
				num_of_provinces_owned_or_owned_by_subjects_with = {
					value = 10
					has_monsoon = normal_monsoon
				}
				num_of_provinces_owned_or_owned_by_subjects_with = {
					value = 5
					has_monsoon = severe_monsoon
				}
			}
			country_event = { id = flavor_konolkhatep.31 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_emperor_gnollkind }
				africa = {
					type = all
					OR = {
						AND = {
							culture_is_gnollish = yes
							country_or_subject_holds = ROOT
						}
						NOT = { culture_is_gnollish = yes }
					}
				}
			}
			country_event = { id = flavor_konolkhatep.32 }
		}
		if = { #Get back after magic rework because it will probably break (Mastellor, 29th of June 2025)
			limit = {
				NOT = { has_country_flag = horutep_title_flag_sovereign_scales }
				calc_true_if = {
					amount = 4
					is_ruler_abjuration_level_2_minimum = yes
					is_ruler_conjuration_level_2_minimum = yes
					is_ruler_divination_level_2_minimum = yes
					is_ruler_enchantment_level_2_minimum = yes
					is_ruler_evocation_level_2_minimum = yes
					is_ruler_illusion_level_2_minimum = yes
					is_ruler_necromancy_level_2_minimum = yes
					is_ruler_transmutation_level_2_minimum = yes
				}
				owns_or_subject_of = 5921
				owns_or_subject_of = 5971
				owns_or_subject_of = 5650
				owns_or_subject_of = 5763
				owns_or_subject_of = 5863
				owns_or_subject_of = 6009
			}
			country_event = { id = flavor_konolkhatep.33 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_mage_tower }
				5483 = {
					country_or_subject_holds = ROOT
					has_great_project = {
						type = tower_of_muhaqaar
						tier = 3
					}
				}
			}
			country_event = { id = flavor_konolkhatep.34 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_warden_pyramid }
				475 = {
					country_or_subject_holds = ROOT
					has_great_project = {
						type = elikhet_pyramid
						tier = 3
					}
				}
			}
			country_event = { id = flavor_konolkhatep.35 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_keeper_lore }
				463 = {
					country_or_subject_holds = ROOT
					has_great_project = {
						type = koroshesh_library
						tier = 3
					}
				}
			}
			country_event = { id = flavor_konolkhatep.36 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_commander_ahati }
				466 = {
					country_or_subject_holds = ROOT
					has_great_project = {
						type = bronze_dragon_academy
						tier = 3
					}
				}
			}
			country_event = { id = flavor_konolkhatep.37 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_patriarch_khet }
				5481 = {
					country_or_subject_holds = ROOT
					has_great_project = {
						type = decadence_statues
						tier = 3
					}
				}
			}
			country_event = { id = flavor_konolkhatep.38 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_banisher_darkness }
				OR = {
					AND = {
						A59 = { is_subject_of = ROOT } #Corvuria
						A60 = { is_subject_of = ROOT } #Asheniande
					}
					dostanor_region = {
						type = all
						country_or_subject_holds = ROOT
					}
				}
			}
			country_event = { id = flavor_konolkhatep.39 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_master_rivers }
				num_of_provinces_owned_or_owned_by_subjects_with = {
					value = 20
					has_river_estuary_trigger = yes
				}
			}
			country_event = { id = flavor_konolkhatep.40 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_king_of_kings }
				calc_true_if = {
					all_subject_country = {
						government = monarchy
					}
					amount = 20
				}
			}
			country_event = { id = flavor_konolkhatep.41 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_king_games }
				mission_completed = konolkhatep_call_dragon
				has_country_flag = unlocked_artifice_invention_game_of_khet
			}
			country_event = { id = flavor_konolkhatep.42 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_monarch_seas }
				navy_size = 200
				NOT = {
					any_other_great_power = {
						navy_size = ROOT
					}
				}
			}
			country_event = { id = flavor_konolkhatep.43 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_master_warfare }
				army_size = 300
				has_country_flag = unlocked_merc_konol_hawk_legion
				has_country_flag = unlocked_merc_konol_carrion_legion
				has_country_flag = unlocked_merc_konol_sandstorm_legion
				has_country_flag = unlocked_merc_konol_venom_legion
				has_country_flag = unlocked_merc_konol_scourge_legion
			}
			country_event = { id = flavor_konolkhatep.44 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_architect_dunes }
				konolkhatep_num_of_finished_slave_projects = { amount = 5 }
			}
			country_event = { id = flavor_konolkhatep.45 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_carver_ways }
				NOT = { has_country_flag = konolkhatep_slave_road_project_ongoing }
				has_country_flag = konolkhatep_holy_road_flag
				has_country_flag = konolkhatep_chain_road_flag
				has_country_flag = konolkhatep_sun_road_flag
				has_country_flag = konolkhatep_iron_road_flag
				has_country_flag = konolkhatep_mountain_road_flag
				has_country_flag = konolkhatep_storm_road_flag
				has_country_flag = konolkhatep_song_road_flag
				has_country_flag = konolkhatep_rain_road_flag
				has_country_flag = konolkhatep_jungle_road_flag
				has_country_flag = konolkhatep_far_road_flag
				has_country_flag = konolkhatep_water_road_flag
			}
			country_event = { id = flavor_konolkhatep.46 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_deacon_sands }
				calc_true_if = {
					africa = {
						type = all
						religion_group = khetist
					}
					amount = 1000
				}
			}
			country_event = { id = flavor_konolkhatep.47 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_breaker_giants }
				OR = {
					A01 = { is_subject_of = ROOT } #Lorent
					AND = {
						NOT = { exists = A01 }
						owns_or_subject_of = 67
					}
				}
				OR = {
					A13 = { is_subject_of = ROOT } #Gawed
					AND = {
						NOT = { exists = A13 }
						owns_or_subject_of = 221
					}
				}
				OR = {
					A30 = { is_subject_of = ROOT } #Wex
					AND = {
						NOT = { exists = A30 }
						owns_or_subject_of = 306
					}
				}
				OR = {
					A38 = { is_subject_of = ROOT } #Anbenncost
					AND = {
						NOT = { exists = A38 }
						owns_or_subject_of = 8
					}
				}
			}
			country_event = { id = flavor_konolkhatep.48 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_scourge_faithless }
				OR = {
					R62 = { is_subject_of = ROOT }
					NOT = { exists = R62 }
				}
				OR = {
					R68 = { is_subject_of = ROOT }
					NOT = { exists = R68 }
				}
				OR = {
					R69 = { is_subject_of = ROOT }
					NOT = { exists = R69 }
				}
				OR = {
					R67 = { is_subject_of = ROOT }
					NOT = { exists = R67 }
				}
				OR = {
					R94 = { is_subject_of = ROOT }
					NOT = { exists = R94 }
				}
				OR = {
					R95 = { is_subject_of = ROOT }
					NOT = { exists = R95 }
				}
				OR = {
					R96 = { is_subject_of = ROOT }
					NOT = { exists = R96 }
				}
				if = {
					limit = {
						NOT = { exists = R62 }
						NOT = { exists = R68 }
						NOT = { exists = R69 }
						NOT = { exists = R67 }
						NOT = { exists = R94 }
						NOT = { exists = R95 }
						NOT = { exists = R96 }
					}
					rahen_superregion = {
						type = all
						OR = {
							AND = {
								culture_is_hobgoblin = yes
								country_or_subject_holds = ROOT
							}
							is_empty = yes #in case of region deletion
							NOT = { culture_is_hobgoblin = yes }
						}
					}
					yanshen_superregion = {
						type = all
						OR = {
							AND = {
								culture_is_hobgoblin = yes
								country_or_subject_holds = ROOT
							}
							is_empty = yes #in case of region deletion
							NOT = { culture_is_hobgoblin = yes }
						}
					}
					vimdatrong_superregion = {
						type = all
						OR = {
							AND = {
								culture_is_hobgoblin = yes
								country_or_subject_holds = ROOT
							}
							is_empty = yes #in case of region deletion
							NOT = { culture_is_hobgoblin = yes }
						}
					}
				}
			}
			country_event = { id = flavor_konolkhatep.49 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_seneschal_lands }
				calc_true_if = {
					all_subject_country = {
						is_colonial_nation = yes
					}
					amount = 4
				}
			}
			country_event = { id = flavor_konolkhatep.50 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_master_arcane }
				is_ruler_all_schools_level_3 = yes
				adm = 6
				dip = 6
				mil = 6
				empire_of_china_num_reforms_passed = 20
				at_least_magical_infrastructure_level_4 = yes
			}
			country_event = { id = flavor_konolkhatep.51 }
		}
		if = {
			limit = {
				NOT = { has_country_flag = horutep_title_flag_lord_depths }
				empire_of_china_reform_passed = luxuries_depths_reform
				check_variable = {
					which = merfolkOpinionVar
					value = 60
				}
				dynamic_merfolk_region = {
					type = all
					OR = {
						NOT = { has_province_flag = merfolk_settlement }
						country_or_subject_holds = ROOT
					}
				}
			}
			country_event = { id = flavor_konolkhatep.52 }
		}
	}
}

country_event = {  #Effect for medasi_disciples_horutep_reform (doesn's work and throws tons of error if done directly there)
	id = flavor_konolkhatep.306
	title = flavor_konolkhatep.306.t
	desc = flavor_konolkhatep.306.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = flavor_konolkhatep.306.b
		every_subject_country = {
			limit = {
				is_subject_of_type = medasi_subject
			}
			define_powerful_mage = { type = ruler }
		}
	}
}

country_event = {  #Effect for mission entice_halflings
	id = flavor_konolkhatep.307
	title = flavor_konolkhatep.307.t
	desc = flavor_konolkhatep.307.desc
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	immediate = {
		hidden_effect = {
			F66 = { save_event_target_as = target_konol }
		}
	}
	
	option = {
		name = flavor_konolkhatep.307.a
		fahvanosy_region = {
			limit = { is_empty = yes }
			add_siberian_construction = 5
			cede_province = ROOT
			change_culture = ROOT
		}
		change_religion = event_target:target_konol
		change_primary_culture = event_target:target_konol
		F66 = {
			create_subject = {
				subject_type = medasi_subject
				subject = ROOT
			}
		}
		konolkhatep_new_gnoll_medasi = yes
		fahvanosy_region = { add_permanent_claim = ROOT }
	}
}

country_event = {  #Recalculate Medasi/Mandate variables + culture convert high-dev satrapies
	id = flavor_konolkhatep.308
	title = flavor_konolkhatep.308.t
	desc = flavor_konolkhatep.308.desc
	picture = ADVISOR_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = konol_satrapy_convert_menu_open
			
			#Recalculate Medasi/Mandate variables
			export_to_variable = { which = num_china_reform value = trigger_value:empire_of_china_num_reforms_passed }
			if = {
				limit = {
					has_country_flag = konolkhatep_pyramid_of_horutep_flag
					NOT = { has_country_flag = konolkhatep_pyramid_of_horutep_ongoing_flag }
				}
				change_variable = { which = num_china_reform value = 2 }
			}
			set_variable = { num_medasi = 0 }
			every_subject_country = {
				limit = { is_subject_of_type = medasi_subject }
				F66 = { change_variable = { which = num_medasi value = 1 } }
			}
			
			#Select Satrapies for culture conversion
			konolkhatep_select_satrapy_target = { target = 1 }
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_1 }
				konolkhatep_select_satrapy_target = { target = 2 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_2 }
				konolkhatep_select_satrapy_target = { target = 3 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_3 }
				konolkhatep_select_satrapy_target = { target = 4 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_4 }
				konolkhatep_select_satrapy_target = { target = 5 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_5 }
				konolkhatep_select_satrapy_target = { target = 6 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_6 }
				konolkhatep_select_satrapy_target = { target = 7 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_7 }
				konolkhatep_select_satrapy_target = { target = 8 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_8 }
				konolkhatep_select_satrapy_target = { target = 9 }
			}
			if = {
				limit = { has_saved_event_target = konol_satrapy_target_9 }
				konolkhatep_select_satrapy_target = { target = 10 }
			}
			#setup for those targets
			konolkhatep_satrapy_setup_effect = { target = 1 }
			konolkhatep_satrapy_setup_effect = { target = 2 }
			konolkhatep_satrapy_setup_effect = { target = 3 }
			konolkhatep_satrapy_setup_effect = { target = 4 }
			konolkhatep_satrapy_setup_effect = { target = 5 }
			konolkhatep_satrapy_setup_effect = { target = 6 }
			konolkhatep_satrapy_setup_effect = { target = 7 }
			konolkhatep_satrapy_setup_effect = { target = 8 }
			konolkhatep_satrapy_setup_effect = { target = 9 }
			konolkhatep_satrapy_setup_effect = { target = 10 }
			export_to_variable = { which = konol_available_dip value = trigger_value:dip_power }
		}
	}
	
	#Exit
	option = {
		name = flavor_konolkhatep.308.a
		highlight = yes
	}
	
	#Target 1
	option = {
		name = flavor_konolkhatep.308.b
		highlight = yes
		goto = konol_satrapy_capital_target_1
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 1 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 1 }
	}
	option = {
		name = flavor_konolkhatep.308.b
		goto = konol_satrapy_capital_target_1
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 1 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 1 }
	}
	
	#Target 2
	option = {
		name = flavor_konolkhatep.308.c
		highlight = yes
		goto = konol_satrapy_capital_target_2
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 2 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 2 }
	}
	option = {
		name = flavor_konolkhatep.308.c
		goto = konol_satrapy_capital_target_2
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 2 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 2 }
	}
	
	#Target 3
	option = {
		name = flavor_konolkhatep.308.d
		highlight = yes
		goto = konol_satrapy_capital_target_3
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 3 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 3 }
	}
	option = {
		name = flavor_konolkhatep.308.d
		goto = konol_satrapy_capital_target_3
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 3 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 3 }
	}
	
	#Target 4
	option = {
		name = flavor_konolkhatep.308.e
		highlight = yes
		goto = konol_satrapy_capital_target_4
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 4 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 4 }
	}
	option = {
		name = flavor_konolkhatep.308.e
		goto = konol_satrapy_capital_target_4
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 4 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 4 }
	}
	
	#Target 5
	option = {
		name = flavor_konolkhatep.308.f
		highlight = yes
		goto = konol_satrapy_capital_target_5
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 5 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 5 }
	}
	option = {
		name = flavor_konolkhatep.308.f
		goto = konol_satrapy_capital_target_5
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 5 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 5 }
	}
	
	#Target 6
	option = {
		name = flavor_konolkhatep.308.g
		highlight = yes
		goto = konol_satrapy_capital_target_6
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 6 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 6 }
	}
	option = {
		name = flavor_konolkhatep.308.g
		goto = konol_satrapy_capital_target_6
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 6 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 6 }
	}
	
	#Target 7
	option = {
		name = flavor_konolkhatep.308.h
		highlight = yes
		goto = konol_satrapy_capital_target_7
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 7 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 7 }
	}
	option = {
		name = flavor_konolkhatep.308.h
		goto = konol_satrapy_capital_target_7
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 7 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 7 }
	}
	
	#Target 8
	option = {
		name = flavor_konolkhatep.308.i
		highlight = yes
		goto = konol_satrapy_capital_target_8
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 8 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 8 }
	}
	option = {
		name = flavor_konolkhatep.308.i
		goto = konol_satrapy_capital_target_8
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 8 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 8 }
	}
	
	#Target 9
	option = {
		name = flavor_konolkhatep.308.j
		highlight = yes
		goto = konol_satrapy_capital_target_9
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 9 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 9 }
	}
	option = {
		name = flavor_konolkhatep.308.j
		goto = konol_satrapy_capital_target_1
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 9 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 9 }
	}
	
	#Target 10
	option = {
		name = flavor_konolkhatep.308.k
		highlight = yes
		goto = konol_satrapy_capital_target_10
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_yes = { target = 10 }
			}
		}
		konol_convert_satrapy_effect_yes = { target = 10 }
	}
	option = {
		name = flavor_konolkhatep.308.k
		goto = konol_satrapy_capital_target_10
		trigger = {
			hidden_trigger = {
				konolkhatep_convert_satrapy_trigger_no = { target = 10 }
			}
		}
		konol_convert_satrapy_effect_no = { target = 10 }
	}
	
	#Exit, only visible if you have lots of options
	option = {
		name = flavor_konolkhatep.308.a
		highlight = yes
		trigger = { hidden_trigger = { has_saved_event_target = konol_satrapy_target_6 } }
	}
	
	after = {
		clr_country_flag = konol_satrapy_convert_menu_open
		every_subject_country = { every_owned_province = { clr_province_flag = konol_satrapy_save_rebel_prov } }
	}
}
country_event = { #5 year pulse event for Edict of Appeasement
	id = flavor_konolkhatep.310
	title = flavor_konolkhatep.310.t
	desc = flavor_konolkhatep.310.d
	picture = KOBOLD_HOARD_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = F66
		any_subject_country = {
			has_country_flag = konol_appeasement_target
		}
	}
	
	option = {
		name = flavor_konolkhatep.310.a
		every_subject_country = {
			limit = { has_country_flag = konol_appeasement_target }
			add_aggressive_expansion = {
				who = ROOT
				value = -25
				apply_calc = yes
			}
		}
	}
}
