# Added a list of all the races for future use
# races = ["centaur", "dwarven", "elven", "gnollish", "gnomish", "goblin", "half_elven", "half_orcish", "halfling", "harimari", "harpy", "hobgoblin", "human", "kobold", "ogre", "orcish", "ruinborn", "troll"]


namespace = racial_modifiers

#Change Military
# deleted racial_modifiers.1
# deleted racial_modifiers.2


#Military Force Switch if Oppressed - Civilized races
country_event = {
	id = racial_modifiers.3
	title = racial_modifiers.3.t
	desc = racial_modifiers.3.d
	picture = LAND_MILITARY_eventPicture
	
	trigger = {
		OR = {
			# AND = {
				# has_country_modifier = orcish_military
				# low_tolerance_orcish_race_trigger = yes
			# }
			AND = {
				has_country_modifier = human_military
				low_tolerance_human_race_trigger = yes
			}
			AND = {
				has_country_modifier = elven_military
				low_tolerance_elven_race_trigger = yes
			}
			AND = {
				has_country_modifier = half_elven_military
				low_tolerance_half_elven_race_trigger = yes
			}
			AND = {
				has_country_modifier = half_orcish_military
				low_tolerance_half_orcish_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = troll_military
				# low_tolerance_troll_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = gnollish_military
				# low_tolerance_gnollish_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = goblin_military
				# low_tolerance_goblin_race_trigger = yes
			# }
			AND = {
				has_country_modifier = gnomish_military
				low_tolerance_gnomish_race_trigger = yes
			}
			AND = {
				has_country_modifier = dwarven_military
				low_tolerance_dwarven_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = kobold_military
				# low_tolerance_kobold_race_trigger = yes
			# }
			AND = {
				has_country_modifier = ruinborn_military
				low_tolerance_ruinborn_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = harpy_military
				# low_tolerance_harpy_race_trigger = yes
			# }
			AND = {
				has_country_modifier = halfling_military
				low_tolerance_halfling_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = ogre_military
				# low_tolerance_ogre_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = centaur_military
				# low_tolerance_centaur_race_trigger = yes
			# }
			AND = {
				has_country_modifier = harimari_military
				low_tolerance_harimari_race_trigger = yes
			}
			# AND = {
				# has_country_modifier = hobgoblin_military
				# low_tolerance_hobgoblin_race_trigger = yes
			# }
			# AND = {
				# has_country_modifier = lizardfolk_military
				# low_tolerance_lizardfolk_race_trigger = yes
			# }
		}
				# has_country_modifier = dwarven_administration
				# has_country_modifier = dwarven_military
				# low_tolerance_dwarven_race_trigger = yes
				NOT = { has_country_flag = disable_racial_mil_swap_flag }
	}
	
	is_triggered_only = yes #on_action
	
	option = {
		name = racial_modifiers.3.a
		
		clear_racial_military = yes
		reset_racial_military_via_administration = yes
		
		if = {
			limit = {
				has_country_modifier = orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = human_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_human_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = troll_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_troll_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnollish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnollish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = goblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_goblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnomish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnomish_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = dwarven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_dwarven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = kobold_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_kobold_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ruinborn_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ruinborn_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harpy_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harpy_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = halfling_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_halfling_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ogre_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ogre_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = centaur_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_centaur_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harimari_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harimari_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = hobgoblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_hobgoblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = lizardfolk_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_lizardfolk_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = mechanim_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_mechanim_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
	}
}


#Military Force Switch if Oppressed - Monstrous races
country_event = {
	id = racial_modifiers.4
	title = racial_modifiers.3.t
	desc = racial_modifiers.3.d
	picture = LAND_MILITARY_eventPicture
	
	trigger = {
		OR = {
			AND = {
				has_country_modifier = orcish_military
				low_tolerance_orcish_race_trigger = yes
			}
			AND = {
				has_country_modifier = troll_military
				low_tolerance_troll_race_trigger = yes
			}
			AND = {
				has_country_modifier = gnollish_military
				low_tolerance_gnollish_race_trigger = yes
			}
			AND = {
				has_country_modifier = goblin_military
				low_tolerance_goblin_race_trigger = yes
			}
			AND = {
				has_country_modifier = kobold_military
				low_tolerance_kobold_race_trigger = yes
			}
			AND = {
				has_country_modifier = harpy_military
				low_tolerance_harpy_race_trigger = yes
			}
			AND = {
				has_country_modifier = ogre_military
				low_tolerance_ogre_race_trigger = yes
			}
			AND = {
				has_country_modifier = centaur_military
				low_tolerance_centaur_race_trigger = yes
			}
			AND = {
				has_country_modifier = hobgoblin_military
				low_tolerance_hobgoblin_race_trigger = yes
			}
			AND = {
				has_country_modifier = lizardfolk_military
				low_tolerance_lizardfolk_race_trigger = yes
			}
			AND = {
				has_country_modifier = mechanim_military
				low_tolerance_mechanim_race_trigger = yes
			}
		}
		NOT = { has_country_flag = disable_racial_mil_swap_flag }
	}
	
	
	is_triggered_only = yes #on_action
	
	option = {
		name = racial_modifiers.3.a
		
		clear_racial_military = yes
		reset_racial_military_via_administration = yes
		
		if = {
			limit = {
				has_country_modifier = orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = human_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_human_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_elven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_elven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = half_orcish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_half_orcish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = troll_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_troll_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnollish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnollish_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = goblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_goblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = gnomish_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_gnomish_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = dwarven_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_dwarven_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = kobold_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_kobold_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ruinborn_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ruinborn_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harpy_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harpy_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = halfling_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_halfling_majority_trigger = yes
						}
						add_unrest = 5
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest5.tt
		}
		else_if = {
			limit = {
				has_country_modifier = ogre_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_ogre_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = centaur_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_centaur_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = harimari_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_harimari_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = hobgoblin_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_hobgoblin_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = lizardfolk_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_lizardfolk_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
		else_if = {
			limit = {
				has_country_modifier = mechanim_administration
			}
			hidden_effect = {
				every_owned_province = {
					if = {
						limit = {
							has_mechanim_majority_trigger = yes
						}
						add_unrest = 10
					}
				}
			}
			custom_tooltip = racial_modifiers_majority_unrest10.tt
		}
	}
}

#Racial Admin - on primary culture change
country_event = {
	id =  racial_modifiers.5
	title =  racial_modifiers.5.t
	desc =  racial_modifiers.5.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_unmatching_administration_to_primary_culture = yes
		NOT = { has_country_flag = locked_racial_administration }
	}
	
	immediate = {
		hidden_effect = {
			
		if = {
			limit = { has_any_racial_administration = yes }
			trigger_switch = {
				on_trigger = has_country_modifier
				elven_administration = { set_country_flag = old_elven_administration }
				dwarven_administration = { set_country_flag = old_dwarven_administration }
				gnollish_administration = { set_country_flag = old_gnollish_administration }
				gnomish_administration = { set_country_flag = old_gnomish_administration }
				goblin_administration = { set_country_flag = old_goblin_administration }
				half_elven_administration = { set_country_flag = old_half_elven_administration }
				half_orcish_administration = { set_country_flag = old_half_orcish_administration }
				halfling_administration = { set_country_flag = old_halfling_administration }
				harpy_administration = { set_country_flag = old_harpy_administration }
				human_administration = { set_country_flag = old_human_administration }
				kobold_administration = { set_country_flag = old_kobold_administration }
				orcish_administration = { set_country_flag = old_orcish_administration }
				ruinborn_administration = { set_country_flag = old_ruinborn_administration }
				troll_administration = { set_country_flag = old_troll_administration }
				harimari_administration = { set_country_flag = old_harimari_administration }
				hobgoblin_administration = { set_country_flag = old_hobgoblin_administration }
				centaur_administration = { set_country_flag = old_centaur_administration }
				ogre_administration = { set_country_flag = old_ogre_administration }
				lizardfolk_administration = { set_country_flag = old_lizardfolk_administration }
				mechanim_administration = { set_country_flag = old_mechanim_administration }
			}
			clear_racial_administration = yes
		}
		
		#Elven
		if = {
			limit = {
				culture_is_elven = yes
				NOT = { has_country_modifier = elven_administration }
			}
			add_country_modifier = { 
				name = elven_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = elven } }
		}
		
		#Dwarven
		else_if = {
			limit = {
				culture_is_dwarven = yes
				NOT = { has_country_modifier = dwarven_administration }
			}
			add_country_modifier = { 
				name = dwarven_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = dwarven } }
		}
		
		#Gnollish
		else_if = {
			limit = {
				culture_is_gnollish = yes
				NOT = { has_country_modifier = gnollish_administration }
			}
			add_country_modifier = { 
				name = gnollish_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = gnollish } }
		}
		
		#gnomish
		else_if = {
			limit = {
				culture_is_gnomish = yes
				NOT = { has_country_modifier = gnomish_administration }
			}
			add_country_modifier = { 
				name = gnomish_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = gnomish } }
		}
		
		#goblin
		else_if = {
			limit = {
				culture_is_goblin = yes
				NOT = { has_country_modifier = goblin_administration }
			}
			add_country_modifier = { 
				name = goblin_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = goblin } }
		}
		
		
		#half_elven
		else_if = {
			limit = {
				culture_is_half_elven = yes
				NOT = { has_country_modifier = half_elven_administration }
			}
			add_country_modifier = { 
				name = half_elven_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = half_elven } }
		}
		
		#half_orcish
		else_if = {
			limit = {
				culture_is_half_orcish = yes
				NOT = { has_country_modifier = half_orcish_administration }
			}
			add_country_modifier = { 
				name = half_orcish_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = half_orcish } }
		}
		
		#halfling
		else_if = {
			limit = {
				culture_is_halfling = yes
				NOT = { has_country_modifier = halfling_administration }
			}
			add_country_modifier = { 
				name = halfling_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = elven } }
		}
		
		#harpy
		else_if = {
			limit = {
				culture_is_harpy = yes
				NOT = { has_country_modifier = harpy_administration }
			}
			add_country_modifier = { 
				name = harpy_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = harpy } }
		}
		
		#Human
		else_if = {
			limit = {
				culture_is_human = yes
				NOT = { has_country_modifier = human_administration }
			}
			add_country_modifier = { 
				name = human_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = human } }
		}
		
		#kobold
		else_if = {
			limit = {
				culture_is_kobold = yes
				NOT = { has_country_modifier = kobold_administration }
			}
			add_country_modifier = { 
				name = kobold_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = kobold } }
		}
		
		#orcish
		else_if = {
			limit = {
				culture_is_orcish = yes
				NOT = { has_country_modifier = orcish_administration }
			}
			add_country_modifier = { 
				name = orcish_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = orcish } }
		}
		
		#ruinborn
		else_if = {
			limit = {
				culture_is_ruinborn = yes
				NOT = { has_country_modifier = ruinborn_administration }
			}
			add_country_modifier = { 
				name = ruinborn_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = ruinborn } }
		}
		
		#troll
		else_if = {
			limit = {
				culture_is_troll = yes
				NOT = { has_country_modifier = troll_administration }
			}
			add_country_modifier = { 
				name = troll_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = troll } }
		}
		
		#harimari
		else_if = {
			limit = {
				culture_is_harimari = yes
				NOT = { has_country_modifier = harimari_administration }
			}
			add_country_modifier = { 
				name = harimari_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = harimari } }
		}
		
		#hobgoblin
		else_if = {
			limit = {
				culture_is_hobgoblin = yes
				NOT = { has_country_modifier = hobgoblin_administration }
			}
			add_country_modifier = { 
				name = hobgoblin_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = hobgoblin } }
		}
		
		#Centaur
		else_if = {
			limit = {
				culture_is_centaur = yes
				NOT = { has_country_modifier = centaur_administration }
			}
			add_country_modifier = {
				name = centaur_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = centaur } }
		}
		
		#Ogre
		else_if = {
			limit = {
				culture_is_ogre = yes
				NOT = { has_country_modifier = ogre_administration }
			}
			add_country_modifier = {
				name = ogre_administration
				duration = -1
				hidden = yes
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = ogre } }
		}
		
		#Lizardfolk
		else_if = {
			limit = {
				culture_is_lizardfolk = yes
				NOT = { has_country_modifier = lizardfolk_administration }
			}
			add_country_modifier = {
				name = lizardfolk_administration
				duration = -1
				hidden = yes 
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = lizardfolk } }
		}

		#Mechanim
		else_if = {
			limit = {
				culture_is_mechanim = yes
				NOT = { has_country_modifier = mechanim_administration }
			}
			add_country_modifier = {
				name = mechanim_administration
				duration = -1
				hidden = yes 
			}
			every_country = { generic_purge_expel_opinion_setup_reverse = { race = mechanim } }
		}
		add_country_modifier = { 
			name = restructuring_administration
			duration = 3650
		}
		#Ideally, this should be done cleaner, by making each remove_province_modifier thingy in their own if, but someone else will do that. Or me when i recover my sanity -The Pure
		every_owned_province = {
			update_racial_province_modifier_tolerance = yes
		}
		update_unit_sprites_for_racial_mil = yes 
		}
	}
	option = {
		name = racial_modifiers.5.a
		
		custom_tooltip = old_racial_administration_tt

		tooltip = {	
			if = { limit = { has_country_modifier = elven_administration } add_country_modifier = { name = elven_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = dwarven_administration } add_country_modifier = { name = dwarven_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = gnollish_administration } add_country_modifier = { name = gnollish_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = gnomish_administration } add_country_modifier = { name = gnomish_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = goblin_administration } add_country_modifier = { name = goblin_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = half_elven_administration } add_country_modifier = { name = half_elven_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = half_orcish_administration } add_country_modifier = { name = half_orcish_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = halfling_administration } add_country_modifier = { name = halfling_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = harpy_administration } add_country_modifier = { name = harpy_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = human_administration } add_country_modifier = { name = human_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = kobold_administration } add_country_modifier = { name = kobold_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = orcish_administration } add_country_modifier = { name = orcish_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = ruinborn_administration } add_country_modifier = { name = ruinborn_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = troll_administration } add_country_modifier = { name = troll_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = harimari_administration } add_country_modifier = { name = harimari_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = hobgoblin_administration } add_country_modifier = { name = hobgoblin_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = centaur_administration } add_country_modifier = { name = centaur_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = ogre_administration } add_country_modifier = { name = ogre_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = lizardfolk_administration } add_country_modifier = { name = lizardfolk_administration duration = -1 hidden = yes } }
			else_if = { limit = { has_country_modifier = mechanim_administration } add_country_modifier = { name = mechanim_administration duration = -1 hidden = yes } }
			add_country_modifier = { name = restructuring_administration duration = 3650 }
		}
		hidden_effect = {
			trigger_switch = {
				on_trigger = has_country_flag
				old_elven_administration = { clr_country_flag = old_elven_administration }
				old_dwarven_administration = { clr_country_flag = old_dwarven_administration }
				old_gnollish_administration = { clr_country_flag = old_gnollish_administration }
				old_gnomish_administration = { clr_country_flag = old_gnomish_administration }
				old_goblin_administration = { clr_country_flag = old_goblin_administration }
				old_half_elven_administration = { clr_country_flag = old_half_elven_administration }
				old_half_orcish_administration = { clr_country_flag = old_half_orcish_administration }
				old_halfling_administration = { clr_country_flag = old_halfling_administration }
				old_harpy_administration = { clr_country_flag = old_harpy_administration }
				old_human_administration = { clr_country_flag = old_human_administration }
				old_kobold_administration = { clr_country_flag = old_kobold_administration }
				old_orcish_administration = { clr_country_flag = old_orcish_administration }
				old_ruinborn_administration = { clr_country_flag = old_ruinborn_administration }
				old_troll_administration = { clr_country_flag = old_troll_administration }
				old_harimari_administration = { clr_country_flag = old_harimari_administration }
				old_hobgoblin_administration = { clr_country_flag = old_hobgoblin_administration }
				old_centaur_administration = { clr_country_flag = old_centaur_administration }
				old_ogre_administration = { clr_country_flag = old_ogre_administration }
				old_lizardfolk_administration = { clr_country_flag = old_lizardfolk_administration }
				old_mechanim_administration = { clr_country_flag = old_mechanim_administration }
			}
		}
	}
}


#Debug - Has unmatching military? fix that shit (has the mil but no the unit)
# If you make changes here, please make similar changes to the following scipted_effects/triggers:
## racial_mil_military_change_tech
## reset_racial_military_via_administration
## racial_modifiers.6
## has_unmatching_military_to_unit
country_event = {
	id =  racial_modifiers.6
	title =  racial_modifiers.6.t
	desc =  racial_modifiers.6.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_unmatching_military_to_unit = yes
	}
	
	#Orcish Option
	option = {
        name = racial_modifiers.6.a
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = orcish_military
			NOT = { unit_type = tech_orcish }
			NOT = { unit_type = tech_east_orcish }
			NOT = { unit_type = tech_black_orcish }
		}
		if = {
			limit = {
				OR = {
					capital_scope = {
						continent = serpentspine
					}
					dwarovar_orc_culture_primary = yes
					AND = {
						dwarovar_orc_culture_accepted = yes
						NOT = { culture_group = orcish }
					}
				}
			}
			change_unit_type = tech_black_orcish
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = {
						continent = asia
						NOT = { superregion = forbidden_lands_superregion }
					}
					primary_culture = brown_orc
					AND = {
						accepted_culture = brown_orc
						NOT = { culture_group = orcish }
					}
				}
			}
			change_unit_type = tech_east_orcish
		}
		else = {
			change_unit_type = tech_orcish
		}
	}
	
	
	#Human Option
	option = {
        name = racial_modifiers.6.b
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = human_military
			NOT = { unit_type = tech_bulwari }
			NOT = { unit_type = tech_salahadesi }
			NOT = { unit_type = tech_inyaswarosa }
			NOT = { unit_type = tech_cannorian }
			NOT = { unit_type = tech_gerudian }
			NOT = { unit_type = tech_raheni }
			NOT = { unit_type = tech_halessi }
			NOT = { unit_type = tech_triunic }
			NOT = { unit_type = tech_ynnsmen }
			NOT = { unit_type = tech_east_sarhaly }
			NOT = { unit_type = tech_west_sarhaly }
			NOT = { unit_type = tech_south_sarhaly }
			NOT = { unit_type = tech_baashidi }
			NOT = { unit_type = tech_shuvuush }
		}
		if = { limit = { capital_scope = { superregion = bulwar_superregion } }
			change_unit_type = tech_bulwari
		}
		else_if = { limit = { capital_scope = { superregion = north_salahad_superregion } }
			change_unit_type = tech_salahadesi
		}
		else_if = { limit = { capital_scope = { superregion = south_salahad_superregion } }
			change_unit_type = tech_salahadesi
		}
		### Not sure if this or the other, there's two versions
		else_if = {
			limit = { capital_scope = { superregion = tanib_dajek_superregion } }
			if = {
				limit = {
					OR = {
						accepted_culture = tanizu
						accepted_culture = antmvura
						accepted_culture = kombedak
						accepted_culture = umsozidak
						accepted_culture = wakoodak
					}
					NOT = { culture_group = inyaswarosa }
				}
				change_unit_type = tech_inyaswarosa
			}
			else = { change_unit_type = tech_west_sarhaly }
		}

		### The other
		# else_if = {
		# 	limit = { capital_scope = { superregion = tanib_dajek_superregion } }
		# 	change_unit_type = tech_west_sarhaly
		# }
		# else_if = {
		# 	limit = {
		# 		capital_scope = { superregion = east_sarhal_superregion }
		# 	}
		# 	if = {
		# 		limit = { 
		# 			OR = {
		# 				accepted_culture = tanizu
		# 				accepted_culture = antmvura
		# 				accepted_culture = kombedak
		# 				accepted_culture = umsozidak
		# 				accepted_culture = wakoodak
		# 			}
		# 			NOT = { culture_group = inyaswarosa }
		# 		}
		# 		change_unit_type = tech_inyaswarosa
		# 	}
		# 	else = { change_unit_type = tech_east_sarhaly }
		# }


		else_if = {
			limit = {
				capital_scope = {
					OR = {
						superregion = djinnakah_superregion
						superregion = taneyas_superregion
					}
				}
			}
			if = {
				limit = {
					OR = {
						accepted_culture = suhratbi
						accepted_culture = dhebiji
						accepted_culture = guryadagga
						accepted_culture = ashamadi
					}
					NOT = { culture_group = baashidi }
				}
				change_unit_type = tech_baashidi
			}
			else = { change_unit_type = tech_south_sarhaly }
		}
		else_if = { limit = { capital_scope = { superregion = east_sarhal_superregion } }	#wingren again
			change_unit_type = tech_east_sarhaly
		}
		else_if = { limit = { capital_scope = { superregion = rahen_superregion } }
			change_unit_type = tech_raheni
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
				}
			}
			change_unit_type = tech_halessi
		}
		else_if = { limit = { capital_scope = { superregion = gozengun_superregion } }
			if = { limit = { primary_culture = shuvuush }
				change_unit_type = tech_shuvuush
			}
			else = {
				change_unit_type = tech_wastelander
			}
		}
		else_if = { limit = { capital_scope = { superregion = forbidden_lands_superregion } }
			change_unit_type = tech_triunic
		}
		else_if = { limit = { capital_scope = { superregion = gerudia_superregion } }
			change_unit_type = tech_gerudian
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = broken_lands_superregion }
					capital_scope = { superregion = eordand_superregion }
					capital_scope = { superregion = ynn_superregion }
				}
			}
			change_unit_type = tech_ynnsmen
		}
		else = {
			change_unit_type = tech_cannorian
		}
	}
	
	#Elven Option
	option = {
        name = racial_modifiers.6.c
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = elven_military
			NOT = { unit_type = tech_wood_elf }
			NOT = { unit_type = tech_elven }
			NOT = { unit_type = tech_east_elven }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = deepwoods_superregion }
					primary_culture = wood_elf
					AND = {
						accepted_culture = wood_elf
						NOT = { culture_group = elven }
					}
				}
			}
			change_unit_type = tech_wood_elf
		}
		else_if = {
			limit = {
				OR = {
					primary_culture = sun_elf
					primary_culture = dawn_elf
					primary_culture = desert_elf
					primary_culture = sunrise_elf
					primary_culture = sunset_elf
					capital_scope = { continent = asia }
					capital_scope = { continent = africa }
					AND = {
						religion_group = bulwari
						OR = {
							capital_scope = { continent = north_america }
							capital_scope = { continent = south_america }
						}
					}
					AND = {
						NOT = { culture_group = elven }
						OR = {
							accepted_culture = sun_elf
							accepted_culture = dawn_elf
							accepted_culture = desert_elf
							accepted_culture = sunrise_elf
							accepted_culture = sunset_elf
						}
					}
				}
			}
			change_unit_type = tech_east_elven
		}
		else = {
			change_unit_type = tech_elven
		}
	}
	
	#HalfElven Option
	option = {
        name = racial_modifiers.6.dd
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = half_elven_military
			NOT = { unit_type = tech_bulwari }
			NOT = { unit_type = tech_salahadesi }
			NOT = { unit_type = tech_inyaswarosa }
			NOT = { unit_type = tech_cannorian }
			NOT = { unit_type = tech_gerudian }
			NOT = { unit_type = tech_raheni }
			NOT = { unit_type = tech_halessi }
			NOT = { unit_type = tech_triunic }
			NOT = { unit_type = tech_ynnsmen }
			NOT = { unit_type = tech_east_sarhaly }
			NOT = { unit_type = tech_west_sarhaly }
			NOT = { unit_type = tech_south_sarhaly }
			NOT = { unit_type = tech_baashidi }
			NOT = { unit_type = tech_shuvuush }
		}
		if = { limit = { capital_scope = { superregion = bulwar_superregion } }
			change_unit_type = tech_bulwari
		}
		else_if = { limit = { capital_scope = { superregion = north_salahad_superregion } }
			change_unit_type = tech_salahadesi
		}
		else_if = { limit = { capital_scope = { superregion = south_salahad_superregion } }
			change_unit_type = tech_salahadesi
		}
		### Not sure if this or the other, there's two versions
		else_if = {
			limit = { capital_scope = { superregion = tanib_dajek_superregion } }
			if = {
				limit = {
					OR = {
						accepted_culture = tanizu
						accepted_culture = antmvura
						accepted_culture = kombedak
						accepted_culture = umsozidak
						accepted_culture = wakoodak
					}
					NOT = { culture_group = inyaswarosa }
				}
				change_unit_type = tech_inyaswarosa
			}
			else = { change_unit_type = tech_west_sarhaly }
		}

		### The other
		# else_if = {
		# 	limit = { capital_scope = { superregion = tanib_dajek_superregion } }
		# 	change_unit_type = tech_west_sarhaly
		# }
		# else_if = {
		# 	limit = {
		# 		capital_scope = { superregion = east_sarhal_superregion }
		# 	}
		# 	if = {
		# 		limit = { 
		# 			OR = {
		# 				accepted_culture = tanizu
		# 				accepted_culture = antmvura
		# 				accepted_culture = kombedak
		# 				accepted_culture = umsozidak
		# 				accepted_culture = wakoodak
		# 			}
		# 			NOT = { culture_group = inyaswarosa }
		# 		}
		# 		change_unit_type = tech_inyaswarosa
		# 	}
		# 	else = { change_unit_type = tech_east_sarhaly }
		# }


		else_if = {
			limit = {
				capital_scope = {
					OR = {
						superregion = djinnakah_superregion
						superregion = taneyas_superregion
					}
				}
			}
			if = {
				limit = {
					OR = {
						accepted_culture = suhratbi
						accepted_culture = dhebiji
						accepted_culture = guryadagga
						accepted_culture = ashamadi
					}
					NOT = { culture_group = baashidi }
				}
				change_unit_type = tech_baashidi
			}
			else = { change_unit_type = tech_south_sarhaly }
		}
		else_if = { limit = { capital_scope = { superregion = east_sarhal_superregion } }	#wingren again
			change_unit_type = tech_east_sarhaly
		}
		else_if = { limit = { capital_scope = { superregion = rahen_superregion } }
			change_unit_type = tech_raheni
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
				}
			}
			change_unit_type = tech_halessi
		}
		else_if = { limit = { capital_scope = { superregion = gozengun_superregion } }
			if = { limit = { primary_culture = shuvuush }
				change_unit_type = tech_shuvuush
			}
			else = {
				change_unit_type = tech_wastelander
			}
		}
		else_if = { limit = { capital_scope = { superregion = forbidden_lands_superregion } }
			change_unit_type = tech_triunic
		}
		else_if = { limit = { capital_scope = { superregion = gerudia_superregion } }
			change_unit_type = tech_gerudian
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = broken_lands_superregion }
					capital_scope = { superregion = eordand_superregion }
					capital_scope = { superregion = ynn_superregion }
				}
			}
			change_unit_type = tech_ynnsmen
		}
		else = {
			change_unit_type = tech_cannorian
		}
	}
	
	#HalfOrcish Option
	option = {
        name = racial_modifiers.6.e
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = half_orcish_military
			NOT = { unit_type = tech_cannorian }
			NOT = { unit_type = tech_raheni }
			NOT = { unit_type = tech_gerudian }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = gerudia_superregion }
					primary_culture = grombar_half_orc
					primary_culture = grombar_orc
					primary_culture = gray_orc
					AND = {
						accepted_culture = grombar_half_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = grombar_orc
						NOT = { culture_is_half_orcish = yes }
					}
					AND = {
						accepted_culture = gray_orc
						NOT = { culture_is_half_orcish = yes }
					}
				}
			}
			change_unit_type = tech_gerudian
		}
		else_if = {
			limit = {
				capital_scope = {
					OR = {
						superregion = rahen_superregion
						region = xianjie_region
					}
				}
			}
			change_unit_type = tech_raheni
		}
		else = {
			change_unit_type = tech_cannorian
		}
	}
	
	#Troll Option
	option = {
        name = racial_modifiers.6.f
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = troll_military
			NOT = { unit_type = tech_swamp_troll }
			NOT = { unit_type = tech_hill_troll }
			NOT = { unit_type = tech_northern_troll }
		}
		if = {
			limit = {
				OR = {
					# Pick a capital scope
					# capital_scope = { region = shadow_swamp_region }
					capital_scope = { superregion = east_sarhal_superregion }
					primary_culture = swamp_troll
					AND = {
						accepted_culture = swamp_troll
						NOT = { culture_group = giantkind }
					}
				}
			}
			change_unit_type = tech_swamp_troll
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = {
						continent = asia
						NOT = { superregion = forbidden_lands_superregion }
					}
					primary_culture = hill_troll
					AND = {
						accepted_culture = hill_troll
						NOT = { culture_group = giantkind }
					}
				}
			}
			change_unit_type = tech_hill_troll
        }
		else = {
			change_unit_type = tech_northern_troll	#may need custom one
		}
	}
	
	#Gnollish Option
	option = {
        name = racial_modifiers.6.g
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = gnollish_military
			NOT = { unit_type = tech_gnollish }
		}
		change_unit_type = tech_gnollish
	}
	
	#Goblin Option
	option = {
        name = racial_modifiers.6.h
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = goblin_military
			NOT = { unit_type = tech_goblin }
			NOT = { unit_type = tech_forest_goblin }
			NOT = { unit_type = tech_exodus_goblin }
			NOT = { unit_type = tech_cave_goblin }
			NOT = { unit_type = tech_east_cave_goblin }
		}
		if = {
			limit = {
				OR = { #Forest Goblin
					capital_scope = { superregion = deepwoods_superregion }
					primary_culture = forest_goblin
					AND = {
						accepted_culture = forest_goblin
						NOT = { culture_group = goblin }
					}
				}
			}
			change_unit_type = tech_forest_goblin
		}
		else_if = {
			limit = {
				OR = { #Exodus Goblin
					capital_scope = { superregion = bulwar_superregion }
					primary_culture = exodus_goblin
					AND = {
						accepted_culture = exodus_goblin
						NOT = { culture_group = goblin }
					}
				}
			}
			change_unit_type = tech_exodus_goblin
		}
		else_if = {
			limit = {
				OR = { #Cave Goblin
					capital_scope = { continent = serpentspine }
					dwarovar_goblin_culture_primary = yes
					AND = {
						dwarovar_goblin_culture_accepted = yes
						NOT = { culture_group = goblin }
					}
				}
			}
			change_unit_type = tech_cave_goblin
		}
		else_if = {
			limit = {
				capital_scope = {
					OR = {
						superregion = east_serpentspine_superregion
						continent = asia
					}
				}
			}
			change_unit_type = tech_east_cave_goblin
		}
		else = { #Common Goblin (Fallback if all other conditions fail)
			change_unit_type = tech_goblin
		}
	}
	
	#Gnomish Option
	option = {
        name = racial_modifiers.6.i
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = gnomish_military
			NOT = { unit_type = tech_gnomish }
		}
		change_unit_type = tech_gnomish
	}
	
	#Dwarven Option
	option = {
        name = racial_modifiers.6.j
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = dwarven_military
			NOT = { unit_type = tech_west_dwarven }
			NOT = { unit_type = tech_east_dwarven }
		}
		if = {
			limit = {
				capital_scope = {
					OR = {
						superregion = east_serpentspine_superregion
						continent = asia
					}
				}
			}
			change_unit_type = tech_east_dwarven
		}
		else = {
			change_unit_type = tech_west_dwarven
		}
	}
	
	#Kobold Option
	option = {
        name = racial_modifiers.6.k
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = kobold_military
			NOT = { unit_type = tech_kobold }
			NOT = { unit_type = tech_east_kobold }
			NOT = { unit_type = tech_darkscale_kobold }
			# NOT = { unit_type = tech_insyaa_kobolds }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
					capital_scope = { superregion = gozengun_superregion }
					capital_scope = { superregion = rahen_superregion }
					primary_culture = goldscale_kobold
					primary_culture = dragonfire_kobold
					AND = {
						accepted_culture = goldscale_kobold
						NOT = { culture_group = kobold }
					}
					AND = {
						accepted_culture = dragonfire_kobold
						NOT = { culture_group = kobold }
					}
				}
			}
			change_unit_type = tech_east_kobold
		}
		else_if = {
			limit = {
				capital_scope = { continent = serpentspine }
			}
			change_unit_type = tech_darkscale_kobold
		}
		else = {
			change_unit_type = tech_kobold
		}
	}
	
	#Ruinborn Option
	option = {
        name = racial_modifiers.6.l
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = ruinborn_military
			NOT = { unit_type = tech_ynnic }
			NOT = { unit_type = tech_eordand }
			NOT = { unit_type = tech_bharbhen }
			NOT = { unit_type = tech_kheionai }
			NOT = { unit_type = tech_taychendi }
			NOT = { unit_type = tech_harafic }
			NOT = { unit_type = tech_noruin }
			NOT = { unit_type = tech_south_aelantiri }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = ynn_superregion }
					capital_scope = { region = forest_of_the_cursed_ones_region }
				}
			}
			change_unit_type = tech_ynnic
		}
		else_if = { limit = { capital_scope = { superregion = eordand_superregion } }
			change_unit_type = tech_eordand
		}
		else_if = {
			limit = {
				OR = {
					culture_group = devandi_ruinborn_elf
					culture_group = eltibhari_ruinborn_elf
					capital_scope = { region = chendhya_region }
				}
			}
			change_unit_type = tech_bharbhen
		}
		else_if = { limit = { capital_scope = { superregion = kheionai_superregion } }
			change_unit_type = tech_kheionai
		}
		else_if = { limit = { capital_scope = { superregion = taychend_superregion } }
			change_unit_type = tech_taychendi
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { region = haraf_region }
					capital_scope = { region = tor_nayyi_region }
				}
			}
			change_unit_type = tech_harafic
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = broken_lands_superregion }
					capital_scope = { superregion = ruin_proper_superregion }
				}
			}
			change_unit_type = tech_noruin
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = effelai_superregion }
					capital_scope = { region = amadia_region }
				}
			}
			if = {
				limit = {
					OR = {
						culture_group = eltibhari_ruinborn_elf
						culture_group = devandi_ruinborn_elf
					}
				}
				change_unit_type = tech_bharbhen
			}
			else = {
				change_unit_type = tech_south_aelantiri
			}
		}
		else = {
			change_unit_type = tech_noruin
		}
	}
	
	#Harpy Option
	option = {
        name = racial_modifiers.6.m
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = harpy_military
			NOT = { unit_type = tech_firanyan_harpy }
			NOT = { unit_type = tech_siadunan_harpy }
			NOT = { unit_type = tech_nzeri_harpy }
			NOT = { unit_type = tech_pezarangi_harpy }
			NOT = { unit_type = tech_nuzenapu_harpy }
		}
		#I have no idea who these harpies are someone please make this
		if = {
			limit = {
				OR ={
					primary_culture = siadunan_harpy
					AND = {
						accepted_culture = siadunan_harpy
						NOT = { culture_group = harpy }
					}
				}
			}
			change_unit_type = tech_siadunan_harpy
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
					capital_scope = { superregion = gozengun_superregion }
					primary_culture = pezarangi_harpy
					primary_culture = reishao_harpy
					AND = {
						accepted_culture = pezarangi_harpy
						NOT = { culture_group = harpy }
					}
					AND = {
						accepted_culture = reishao_harpy
						NOT = { culture_group = harpy }
					}
				}
			}
			change_unit_type = tech_pezarangi_harpy
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = north_salahad_superregion }
					capital_scope = { superregion = tanib_dajek_superregion }
					capital_scope = { superregion = fangaula_superregion }
					primary_culture = nzeri_harpy
					AND = {
						accepted_culture = nzeri_harpy
						NOT = { culture_group = harpy }
					}
				}
			}
			change_unit_type = tech_nzeri_harpy
		}
		else_if = {
			limit = {
				OR = {
					capital_scope = { superregion = gozengun_superregion }
					primary_culture = nuzenapu_harpy
					AND = {
						accepted_culture = nuzenapu_harpy
						NOT = { culture_group = harpy }
					}
				}
			}
			change_unit_type = tech_nuzenapu_harpy
		}
		else = {
			change_unit_type = tech_firanyan_harpy
		}
	}
	
	#Halfling Option
	option = {
        name = racial_modifiers.6.n
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = halfling_military
			NOT = { unit_type = tech_halfling }
			NOT = { unit_type = tech_vyzemby }
		}
		if = {
			limit = {
				OR = {
					capital_scope = {
						superregion = tanib_dajek_superregion
					}
					is_vyzemby_primary_culture = yes
					AND = {
						OR = {
							accepted_culture = amezatany
							accepted_culture = mboala
							accepted_culture = mazava
							accepted_culture = fomarati
							accepted_culture = vyoronsi
							accepted_culture = zohebidi
						}
						NOT = { is_vyzemby_primary_culture = yes }
					}
				}
			}
			change_unit_type = tech_vyzemby
		}
		else = {
			change_unit_type = tech_halfling	#may need custom one
		}
	}

	
	#Ogre Option
	option = {
        name = racial_modifiers.6.o
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = ogre_military
			NOT = { unit_type = tech_ogre }
			NOT = { unit_type = tech_eastern_ogre }
			NOT = { unit_type = tech_soulseeker_ogre }
			NOT = { unit_type = tech_dunesole_ogre }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
					capital_scope = { superregion = rahen_superregion }
					primary_culture = horned_ogre
					AND = {
						accepted_culture = horned_ogre
						NOT = { culture_group = ogre }
					}
				}
			}
			change_unit_type = tech_eastern_ogre
		}
		else_if = {
			limit = {
				capital_scope = { region = nomsyulhan_region }
			}
			change_unit_type = tech_soulseeker_ogre
		}
		else_if = {
			limit = { capital_scope = { superregion = fangaula_superregion } }
			change_unit_type = tech_dunesole_ogre
		}
		else = {
			change_unit_type = tech_ogre	#may need custom one
		}
		#No idea if this is meant to be an additional case for "tech_soulseeker_ogre"
		#There was no effect in "anb_scripted_effects_for_racial_tolerances.txt"
		# else_if = {
		# 	limit = {
		# 		OR = {
		# 			capital_scope = { superregion = gozengun_superregion }
		# 			AND = {
		# 				accepted_culture = soulseeker_ogre
		# 				NOT = { culture_group = ogre }
		# 			}
		# 		}
		# 	}
		# }
	}
	
	#Centaur Option
	option = {
        name = racial_modifiers.6.p
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = centaur_military
			NOT = { unit_type = tech_centaur }
		}
		change_unit_type = tech_centaur
	}

	
	#Harimari Option
	option = {
        name = racial_modifiers.6.q
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = harimari_military
			NOT = { unit_type = tech_west_harimari }
			NOT = { unit_type = tech_east_harimari }
		}
		if = {
			limit = {
				OR = {
					capital_scope = { superregion = yanshen_superregion }
					capital_scope = { superregion = vimdatrong_superregion }
					capital_scope = { superregion = gozengun_superregion }
					primary_culture = serene_harimari
					primary_culture = roaming_harimari
					AND = {
						accepted_culture = serene_harimari
						NOT = { culture_group = harimari }
					}
					AND = {
						accepted_culture = roaming_harimari
						NOT = { culture_group = harimari }
					}
				}
			}
			change_unit_type = tech_east_harimari
		}
		else = {
			change_unit_type = tech_west_harimari
		}
	}

	#Hobgoblin Option
	option = {
        name = racial_modifiers.6.r
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = hobgoblin_military
			OR = {
				NOT = { unit_type = tech_hobgoblin }
				NOT = { unit_type = tech_eagle_hobgoblin }
			}
		}
		if = {
			limit = { capital_scope = { superregion = gozengun_superregion } }
			change_unit_type = tech_eagle_hobgoblin
		}
		else = { change_unit_type = tech_hobgoblin }
	}

	#Lizardfolk Option
	option = {
        name = racial_modifiers.6.s
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = lizardfolk_military
			NOT = { unit_type = tech_lizardfolk }
		}

		change_unit_type = tech_lizardfolk
	}

	#Mechanim Option
	option = {
        name = racial_modifiers.6.s
        ai_chance = { factor = 100 }
		trigger = {
			has_country_modifier = mechanim_military
			NOT = { unit_type = tech_mechanim }
		}

		change_unit_type = tech_mechanim
	}
}


#Save primary culture
country_event = {
	id =  racial_modifiers.7
	title =  racial_modifiers.7.t
	desc =  racial_modifiers.7.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	trigger = { NOT = { has_country_flag = locked_racial_administration } }
	
	option = {
        name = racial_modifiers.1.a
        ai_chance = { factor = 100 }
		
		save_primary_culture = yes
	}
}


#Upon changing primary culture with a locked administration, change primary culture back
country_event = {
	id =  racial_modifiers.8
	title =  racial_modifiers.8.t
	desc =  racial_modifiers.8.d
	picture = WESTERNISATION_eventPicture
	
	#fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		has_country_flag = locked_racial_administration
		NOT = { primary_culture = variable:my_primary_culture }
	}
	
	immediate = {
		hidden_effect = {
			export_to_variable = {
				which = temp_primary_culture
				value = primary_culture
				who = ROOT
			}
			change_primary_culture = variable:my_primary_culture
		}
	}
	
	#I understand
	option = {
        name = racial_modifiers.8.a
        ai_chance = { factor = 100 }
		if = {
			limit = { NOT = { has_country_flag = no_locked_culture_mana_exploit } }
			add_dip_power = 100
			if = {
				limit = { ai = no }
				set_country_flag = no_locked_culture_mana_exploit
			}
		}
		else = {
			custom_tooltip = locked_culture_no_exploit_tt
		}
		hidden_effect = { add_accepted_culture = variable:temp_primary_culture }
	}
}
