
namespace = infernal_events

#############
###FLAVOUR###
#############


country_event = {
	id = infernal_events.17
	title = infernal_events.17.t
	desc = infernal_events.17.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = infernal_court_menu_open
			every_owned_province = {
				limit = { NOT = { is_capital_of = ROOT } }
				random = {
					chance = 5
					set_province_flag = infernal_rebellion
				}
			}
			random_owned_province = {
				limit = {
					has_province_flag = infernal_rebellion
				}
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = {
						has_province_flag = infernal_rebellion
						NOT = { province_id = event_target:event_target_1 }
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_2 }
				random_owned_province = {
					limit = {
						has_province_flag = infernal_rebellion
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
					}
					save_event_target_as = event_target_3
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_3 }
				random_owned_province = {
					limit = {
						has_province_flag = infernal_rebellion
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
					}
					save_event_target_as = event_target_4
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_4 }
				random_owned_province = {
					limit = {
						has_province_flag = infernal_rebellion
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
						NOT = { province_id = event_target:event_target_4 }
					}
					save_event_target_as = event_target_5
				}
			}
			every_owned_province = { clr_province_flag = infernal_rebellion }
		}
	}

	option = {
		name = infernal_events.17.a
		highlight = yes
		trigger = {
		}
		hidden_effect = { set_country_flag = no_infernal_rebellion }
	}
	
	#kazraiel base
	option = {
		name = infernal_events.17.b
		trigger = {
			NOT = {
				OR = {
					ruler_has_personality = malevolent_personality
					ruler_has_personality = cruel_personality
				}
			}
			NOT = { has_infernal_deity = { deity = kazraiel } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = kazraiel }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#kazraiel favorable
	option = {
		name = infernal_events.17.b
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = malevolent_personality
				ruler_has_personality = cruel_personality
			}
			NOT = { has_infernal_deity = { deity = kazraiel } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = kazraiel }
		custom_tooltip = change_deity_rebels_tt
	}

	#hedine base
	option = {
		name = infernal_events.17.c
		trigger = {
			NOT = {
				ruler_has_personality = infertile_personality
			}
			NOT = { has_infernal_deity = { deity = hedine } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = hedine }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#hedine favorable
	option = {
		name = infernal_events.17.c
		highlight = yes
		trigger = {
			ruler_has_personality = infertile_personality
			NOT = { has_infernal_deity = { deity = hedine } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = hedine }
		custom_tooltip = change_deity_rebels_tt
	}

	#canturian base
	option = {
		name = infernal_events.17.n
		trigger = {
			NOT = {
				ruler_has_personality = craven_personality
			}
			NOT = { has_infernal_deity = { deity = canturian } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = canturian }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#canturian favorable
	option = {
		name = infernal_events.17.n
		highlight = yes
		trigger = {
			ruler_has_personality = craven_personality
			NOT = { has_infernal_deity = { deity = canturian } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = canturian }
		custom_tooltip = change_deity_rebels_tt
	}

	#mesner base
	option = {
		name = infernal_events.17.e
		trigger = {
			NOT = {
				ruler_has_personality = babbling_buffoon_personality
			}
			NOT = { has_infernal_deity = { deity = mesner } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = mesner }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#mesner favorable
	option = {
		name = infernal_events.17.e
		highlight = yes
		trigger = {
			ruler_has_personality = babbling_buffoon_personality
			NOT = { has_infernal_deity = { deity = mesner } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = mesner }
		custom_tooltip = change_deity_rebels_tt
	}

	#ibberal base
	option = {
		name = infernal_events.17.f
		trigger = {
			NOT = {
				OR = {
					ruler_has_personality = drunkard_personality
					ruler_has_personality = loose_lips_personality
				}
			}
			NOT = { has_infernal_deity = { deity = ibberal } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = ibberal }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#ibberal favorable
	option = {
		name = infernal_events.17.f
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = drunkard_personality
				ruler_has_personality = loose_lips_personality
			}
			NOT = { has_infernal_deity = { deity = ibberal } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = ibberal }
		custom_tooltip = change_deity_rebels_tt
	}

	#ildran base
	option = {
		name = infernal_events.17.g
		trigger = {
			NOT = {
				OR = {
					ruler_has_personality = obsessive_perfectionist_personality
					ruler_has_personality = naive_personality
				}
			}
			NOT = { has_infernal_deity = { deity = ildran } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = ildran }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#ildran favorable
	option = {
		name = infernal_events.17.g
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = obsessive_perfectionist_personality
				ruler_has_personality = naive_personality
			}
			NOT = { has_infernal_deity = { deity = ildran } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = ildran }
		custom_tooltip = change_deity_rebels_tt
	}

	#forsara base
	option = {
		name = infernal_events.17.h
		trigger = {
			NOT = {
				OR = {
					ruler_has_personality = greedy_personality
					ruler_has_personality = embezzler_personality
				}
			}
			NOT = { has_infernal_deity = { deity = forsara } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = forsara }
		custom_tooltip = change_deity_rebels_tt
	}
	
	#forsara favorable
	option = {
		name = infernal_events.17.h
		highlight = yes
		trigger = {
			OR = {
				ruler_has_personality = greedy_personality
				ruler_has_personality = embezzler_personality
			}
			NOT = { has_infernal_deity = { deity = forsara } }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 3
				personality = ai_balanced
			}
			modifier = {
				factor = 2
				personality = ai_capitalist
			}
			modifier = {
				factor = 1.2
				government = monarchy
			}
			modifier = {
				factor = 1.5
				culture_group = escanni
			}
		}
		set_country_flag = infernal_court_deity_switch_cooldown
		change_infernal_deity = { deity = forsara }
		custom_tooltip = change_deity_rebels_tt
	}

	after = {
		hidden_effect = {
			clr_country_flag = infernal_court_menu_open
			if = {
				limit = { has_country_flag = no_infernal_rebellion }
				clr_country_flag = no_infernal_rebellion
			}
			else = {
				if = {
					limit = { check_variable = { which = infernal_toll_timer value = 2 } }
					change_variable = { which = infernal_toll_timer value = -2 }
				}
				else = {
					set_variable = { which = infernal_toll_timer value = 0 }
				}
				capital_scope = {
					spawn_rebels = {
						type = infernal_cultist_rebels
						size = 2
					}
				}
				if = {
					limit = { has_saved_event_target = event_target_1 }
					event_target:event_target_1 = {
						spawn_rebels = {
							type = infernal_cultist_rebels
							size = 1
						}
					}
				}
				if = {
					limit = { has_saved_event_target = event_target_2 }
					event_target:event_target_2 = {
						spawn_rebels = {
							type = infernal_cultist_rebels
							size = 1
						}
					}
				}
				if = {
					limit = { has_saved_event_target = event_target_3 }
					event_target:event_target_3 = {
						spawn_rebels = {
							type = infernal_cultist_rebels
							size = 1
						}
					}
				}
				if = {
					limit = { has_saved_event_target = event_target_4 }
					event_target:event_target_4 = {
						spawn_rebels = {
							type = infernal_cultist_rebels
							size = 1
						}
					}
				}
				if = {
					limit = { has_saved_event_target = event_target_5 }
					event_target:event_target_5 = {
						spawn_rebels = {
							type = infernal_cultist_rebels
							size = 1
						}
					}
				}
			}
		}
	}
}

country_event = { #hidden upgrade event
	id = infernal_events.18
	title = infernal_events.18.t
	desc = infernal_events.18.d
	picture = DIPLOMACY_eventPicture
	
	hidden = yes

	is_triggered_only = yes
	
	option = {
		name = infernal_events.18.a
		infernal_court_gain_upgrade_2 = { deity = kazraiel }
		infernal_court_gain_upgrade_2 = { deity = mesner }
		infernal_court_gain_upgrade_2 = { deity = ildran }
		infernal_court_gain_upgrade_2 = { deity = hedine }
		infernal_court_gain_upgrade_2 = { deity = ibberal }
		infernal_court_gain_upgrade_2 = { deity = canturian }
		infernal_court_gain_upgrade_2 = { deity = forsara }
	}
}

country_event = { #Celebration of the Usurper's death
	id = infernal_events.19
	title = infernal_events.19.t
	desc = infernal_events.19.d
	picture = DIPLOMACY_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			infernal_court_conversion_pick_targets = { deity = kazraiel }
			infernal_court_conversion_pick_targets = { deity = mesner }
			infernal_court_conversion_pick_targets = { deity = ildran }
			infernal_court_conversion_pick_targets = { deity = hedine }
			infernal_court_conversion_pick_targets = { deity = ibberal }
			infernal_court_conversion_pick_targets = { deity = canturian }
			infernal_court_conversion_pick_targets = { deity = forsara }
			set_country_flag = infernal_court_menu_open #blocks changing deity while event is active
		}
	}
	
	option = {
		name = infernal_events.19.a
		ai_chance = { factor = 0 }
		trigger = {
			hidden_trigger = { ai = no }
		}
		add_dip_power = -50
		add_years_of_income = -0.2
		if = {
			limit = { has_saved_event_target = event_target_1 }
			event_target:event_target_1 = {
				change_religion = infernal_court
				add_reform_center = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				change_religion = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				change_religion = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
		infernal_court_conversion_ae = { deity = kazraiel }
		infernal_court_conversion_ae = { deity = mesner }
		infernal_court_conversion_ae = { deity = ildran }
		infernal_court_conversion_ae = { deity = hedine }
		infernal_court_conversion_ae = { deity = ibberal }
		infernal_court_conversion_ae = { deity = canturian }
		infernal_court_conversion_ae = { deity = forsara }
		custom_tooltip = " "
		add_country_modifier = {
			name = IC_happy_cultists
			duration = 5475
		}
	}
	
	option = {
		name = infernal_events.19.b
		ai_chance = { factor = 1 }
		add_dip_power = -25
		add_years_of_income = -0.1
		if = {
			limit = { has_saved_event_target = event_target_1 }
			event_target:event_target_1 = {
				change_religion = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				change_religion = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				change_religion = infernal_court
				add_permanent_province_modifier = {
					name = "religious_zeal_at_conv"
					duration = 7300
				}
			}
		}
	}
	
	option = {
		name = infernal_events.19.c
		ai_chance = { factor = 1 }
		infernal_court_restrain_cultists = { deity = kazraiel }
		infernal_court_restrain_cultists = { deity = mesner }
		infernal_court_restrain_cultists = { deity = ildran }
		infernal_court_restrain_cultists = { deity = hedine }
		infernal_court_restrain_cultists = { deity = ibberal }
		infernal_court_restrain_cultists = { deity = canturian }
		infernal_court_restrain_cultists = { deity = forsara }
		add_country_modifier = {
			name = IC_hidden_cultists
			duration = 5475
		}
	}
	
	after = {
		hidden_effect = {
			clr_country_flag = infernal_court_menu_open
		}
	}
}

############
###SYSTEM###
############

country_event = { #event manager
	id = infernal_events.100
	title = infernal_events.100.t
	desc = infernal_events.100.d
	picture = DIPLOMACY_eventPicture

	hidden = yes

	is_triggered_only = yes

	option = {
		name = infernal_events.100.a
		random_province = {
			limit = {
				continent = europe
				NOT = { region = dragon_coast_region }
				NOT = { region = dalr_region }
				NOT = { region = gerudian_frontier_region }
				NOT = { region = olavlund_region }
				NOT = { has_province_modifier = infernal_cult_hub }
				NOT = { province_group = infernal_court_provinces }
				NOT = { owner = { has_estate_privilege = estate_church_subsidized_cult_hunters } }
				is_cult_suppressed = no
				owner = { religion = regent_court }
				religion = regent_court
				NOT = { owner = { has_country_flag = infernal_court_conversion_stage_2 } }
				NOT = { owner = { has_country_flag = infernal_court_conversion_stage_3 } }
				NOT = { owner = { has_country_flag = infernal_court_abandoned_conversion } }
			}
			province_event = { id = infernal_events.102 days = 1 random = 600 }
		}
	}
}

province_event = { #cult provinces
	id = infernal_events.101
	title = infernal_events.101.t
	desc = infernal_events.101.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = {
				set_country_flag = infernal_court_conversion_stage_1
			}
		}
	}

	option = {
		name = infernal_events.101.a
		trigger = { owner = { religion_group = cannorian } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.o
		trigger = { owner = { religion = the_thought } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.e
		trigger = { owner = { religion = kobold_dragon_cult } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.f
		trigger = {
			owner = {
				OR = {
					religion = great_dookan
					religion = old_dookan
				}
			}
		}
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.g
		trigger = { owner = { religion = elven_forebears } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.h
		trigger = {
			owner = {
				OR = {
					religion = bulwari_sun_cult
					religion = the_jadd
				}
			}
		}
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.i
		trigger = { owner = { religion = old_bulwari_sun_cult } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.j
		trigger = { owner = { religion = mountain_watchers } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.k
		trigger = { owner = { religion_group = khetist } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.l
		trigger = { owner = { religion = xhazobkult } }
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.m
		trigger = {
			owner = {
				OR = {
					religion = goblinic_shamanism
					religion = dwarven_pantheon
				}
			}
		}
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.n
		trigger = {
			owner = {
				NOT = {
					religion_group = cannorian
					religion = the_thought
					religion = kobold_dragon_cult
					OR = {
						religion = great_dookan
						religion = old_dookan
					}
					religion = elven_forebears
					OR = {
						religion = bulwari_sun_cult
						religion = the_jadd
					}
					religion = old_bulwari_sun_cult
					religion = mountain_watchers
					religion_group = khetist
					religion = xhazobkult
					OR = {
						religion = goblinic_shamanism
						religion = dwarven_pantheon
					}
				}
			}
		}
		ai_chance = {
			factor = 10
		}
		owner = { add_years_of_income = -0.5 }
		hidden_effect = {
			clr_province_flag = unsuppressed_infernal_cult
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.101.b
		ai_chance = {
			factor = 85
		}
		trigger = {
			NOT = { has_province_modifier = infernal_cult_hub }
		}
		add_province_modifier = {
			name = infernal_cult_hub
			duration = -1
		}
	}
	option = {
		name = infernal_events.101.c
		ai_chance = {
			factor = 5
			modifier = {
				factor = 100
				owner = { ruler_has_personality = sinner_personality }
			}
		}
		add_province_modifier = {
			name = infernal_cult_hub
			duration = -1
		}
		custom_tooltip = infernal_court_no_cult_hunter_privilege_tt
		hidden_effect = {
			owner = {
				clr_country_flag = infernal_court_conversion_stage_1
				set_country_flag = infernal_court_conversion_stage_2
				set_variable = { which = infernal_court_conversion_tracker_variable value = 0 }
				set_country_flag = no_cult_hunters
			}
		}
	}
}

province_event = { #random provinces
	id = infernal_events.102
	title = infernal_events.102.t
	desc = infernal_events.102.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes



	option = {
		name = infernal_events.102.a
		ai_chance = {
			factor = 90
		}
		owner = { add_years_of_income = -0.25 }
		hidden_effect = {
			owner = {
				set_country_flag = infernal_court_abandoned_conversion
			}
		}
	}
	option = {
		name = infernal_events.102.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 500
				owner = { ruler_has_personality = sinner_personality }
			}
		}
		add_permanent_province_modifier = {
			name = infernal_cult_hub
			duration = -1
		}
		custom_tooltip = infernal_court_no_cult_hunter_privilege_tt
		hidden_effect = {
			owner = {
				set_country_flag = infernal_court_conversion_stage_2
				set_country_flag = no_cult_hunters
			}
			set_variable = { which = infernal_court_conversion_tracker_variable value = 0 }
		}
	}
}

country_event = { #step 2
	id = infernal_events.103
	title = infernal_events.103.t
	desc = infernal_events.103.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes

	option = {
		name = infernal_events.103.a
		ai_chance = {
			factor = 85
		}
		add_years_of_income = -1
		capital_scope = { spawn_rebels = { type = infernal_court_rebels size = 1 } }
		custom_tooltip = infernal_court_can_enable_cult_hunter_privilege_tt
		hidden_effect = { clr_country_flag = infernal_court_conversion_stage_2 set_country_flag = infernal_court_abandoned_conversion }
		every_owned_province = {
			limit = {
				has_province_modifier = infernal_cult_hub
			}
			remove_province_modifier = infernal_cult_hub
		}
	}
	option = {
		name = infernal_events.103.b
		ai_chance = {
			factor = 15
			modifier = {
				factor = 500
				ruler_has_personality = sinner_personality
			}
		}
		custom_tooltip = infernal_court_growing_cult_hub_tt
		hidden_effect = {
			clr_country_flag = infernal_court_conversion_stage_2
			set_country_flag = infernal_court_conversion_stage_3
			set_variable = { which = infernal_court_conversion_tracker_variable value = 0 }
			set_ruler_religion = infernal_court
			random_owned_province = {
				limit = {
					has_province_modifier = infernal_cult_hub
				}
				change_religion = infernal_court
				add_province_modifier = {
					name = religious_zeal_at_conv
					duration = 3650
				}
			}
		}
	}
}

country_event = { #step 3
	id = infernal_events.104
	title = infernal_events.104.t
	desc = infernal_events.104.d
	picture = THE_COVENANT_eventPicture

	is_triggered_only = yes

	option = {
		name = infernal_events.104.a
		trigger = { religion = regent_court }
		ai_chance = {
			factor = 95
		}
		add_years_of_income = -1
		capital_scope = { spawn_rebels = { type = infernal_court_rebels size = 2 } }
		custom_tooltip = infernal_court_can_enable_cult_hunter_privilege_tt
		hidden_effect = { clr_country_flag = infernal_court_conversion_stage_3 set_country_flag = infernal_court_abandoned_conversion }
		every_owned_province = {
			limit = {
				has_province_modifier = infernal_cult_hub
			}
			remove_province_modifier = infernal_cult_hub
		}
	}
	option = {
		name = infernal_events.104.c
		trigger = { religion = corinite }
		ai_chance = {
			factor = 95
		}
		add_years_of_income = -1
		capital_scope = { spawn_rebels = { type = infernal_court_rebels size = 2 } }
		custom_tooltip = infernal_court_can_enable_cult_hunter_privilege_tt
		hidden_effect = { clr_country_flag = infernal_court_conversion_stage_3 set_country_flag = infernal_court_abandoned_conversion }
		every_owned_province = {
			limit = {
				has_province_modifier = infernal_cult_hub
			}
			remove_province_modifier = infernal_cult_hub
		}
	}
	option = {
		name = infernal_events.104.e
		trigger = {
			NOT = { religion = corinite }
			NOT = { religion = regent_court }
		}
		ai_chance = {
			factor = 95
		}
		add_years_of_income = -1
		capital_scope = { spawn_rebels = { type = infernal_court_rebels size = 2 } }
		custom_tooltip = infernal_court_can_enable_cult_hunter_privilege_tt
		hidden_effect = { clr_country_flag = infernal_court_conversion_stage_3 set_country_flag = infernal_court_abandoned_conversion }
		every_owned_province = {
			limit = {
				has_province_modifier = infernal_cult_hub
			}
			remove_province_modifier = infernal_cult_hub
		}
	}
	option = {
		name = infernal_events.104.b
		trigger = { NOT = { has_country_flag = supernaturally_bound_faith } }
		ai_chance = {
			factor = 5
			modifier = {
				factor = 1000
				ruler_has_personality = sinner_personality
			}
		}
		if = {
			limit = {
				country_can_participate_in_escanni_wars = yes
				has_country_modifier = human_administration
			}
			custom_tooltip = infernal_castanor_ban_tt
		}
		capital_scope = { change_religion = infernal_court }
		change_religion = infernal_court
		add_stability = -3
		add_country_modifier = {
			name = conversion_zeal
			duration = 3650
		}
		every_owned_province = {
			limit = {
				has_province_modifier = infernal_cult_hub
			}
			remove_province_modifier = infernal_cult_hub
		}
	}

	after = {
		hidden_effect = {
			clr_country_flag = infernal_court_conversion_stage_3
		}
	}
}

#################
###TOLL EVENTS###
#################

country_event = { #event manager
	id = infernal_events.200
	title = infernal_events.200.t
	desc = infernal_events.200.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = infernal_events.200.a
		if = {
			limit = { has_personal_deity = kazraiel }
			country_event = { id = infernal_events.201 }
		}
		if = {
			limit = { has_personal_deity = kazraiel_upgrade }
			country_event = { id = infernal_events.202 }
		}
		if = {
			limit = { has_personal_deity = mesner }
			country_event = { id = infernal_events.203 }
		}
		if = {
			limit = { has_personal_deity = mesner_upgrade }
			country_event = { id = infernal_events.204 }
		}
		if = {
			limit = { has_personal_deity = ildran }
			country_event = { id = infernal_events.205 }
		}
		if = {
			limit = { has_personal_deity = ildran_upgrade }
			country_event = { id = infernal_events.206 }
		}
		if = {
			limit = { has_personal_deity = hedine }
			country_event = { id = infernal_events.207 }
		}
		if = {
			limit = { has_personal_deity = hedine_upgrade }
			country_event = { id = infernal_events.208 }
		}
		if = {
			limit = { has_personal_deity = ibberal }
			country_event = { id = infernal_events.209 }
		}
		if = {
			limit = { has_personal_deity = ibberal_upgrade }
			country_event = { id = infernal_events.210 }
		}
		if = {
			limit = { has_personal_deity = canturian }
			country_event = { id = infernal_events.211 }
		}
		if = {
			limit = { has_personal_deity = canturian_upgrade }
			country_event = { id = infernal_events.212 }
		}
		if = {
			limit = { has_personal_deity = forsara }
			country_event = { id = infernal_events.213 }
		}
		if = {
			limit = { has_personal_deity = forsara_upgrade }
			country_event = { id = infernal_events.214 }
		}
	}
}

country_event = { #Kazraiel
	id = infernal_events.201
	title = infernal_events.201.t
	desc = infernal_events.201.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.201.a
		add_yearly_manpower = -0.33
	}
	
	option = { #Corrupt your soul
		name = infernal_events.201.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = malevolent personality2 = cruel } }
		}
		infernal_court_add_bad_personality_effect = { deity = kazraiel }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.201.c
		add_country_modifier = {
			name = IC_refuse_kazraiel
			duration = 1825
		}
	}
}

country_event = { #Kazraiel upgraded
	id = infernal_events.202
	title = infernal_events.202.t
	desc = infernal_events.202.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.202.a
		add_yearly_manpower = -1
	}
	
	option = { #Corrupt your soul
		name = infernal_events.202.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = malevolent personality2 = cruel } }
		}
		infernal_court_add_bad_personality_effect = { deity = kazraiel }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.202.c
		add_country_modifier = {
			name = IC_refuse_kazraiel_upgrade
			duration = 1825
		}
	}
}

country_event = { #Mesner
	id = infernal_events.203
	title = infernal_events.203.t
	desc = infernal_events.203.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { NOT = { is_capital_of = ROOT } }
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = { 
						NOT = {
							is_capital_of = ROOT
							province_id = event_target:event_target_1
						}
					}
					save_event_target_as = event_target_2
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.203.a
		capital_scope = {
			add_province_modifier = {
				name = IC_tribute_mesner
				duration = 1825
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_1 }
			event_target:event_target_1 = {
				add_province_modifier = {
					name = IC_tribute_mesner
					duration = 1825
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				add_province_modifier = {
					name = IC_tribute_mesner
					duration = 1825
				}
			}
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.203.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = babbling_buffoon } }
		}
		infernal_court_add_bad_personality_effect = { deity = mesner }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.203.c
		random_list = {
			1 = {
				add_adm_power = -100
			}
			1 = {
				add_dip_power = -100
			}
			1 = {
				add_mil_power = -100
			}
		}
		custom_tooltip = " " #empty line for tooltip clarity
		random = {
			chance = 10
			random_list = {
				1 = {
					if = {
						limit = { adm = 1 }
						change_adm = -1
					}
					else = {
						add_adm_power = -100
					}
				}
				1 = {
					if = {
						limit = { dip = 1 }
						change_dip = -1
					}
					else = {
						add_dip_power = -100
					}
				}
				1 = {
					if = {
						limit = { mil = 1 }
						change_mil = -1
					}
					else = {
						add_mil_power = -100
					}
				}
			}
		}
	}
}

country_event = { #Mesner upgraded
	id = infernal_events.204
	title = infernal_events.204.t
	desc = infernal_events.204.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			capital_scope = { save_event_target_as = event_target_capital }
			random_owned_province = {
				limit = {
					area_for_scope_province = {
						type = all
						NOT = {
							is_capital_of = ROOT
						}
					}
				}
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = {
						area_for_scope_province = {
							type = all
							NOT = { province_id = event_target:event_target_1 }
						}
						area_for_scope_province = {
							type = all
							NOT = { is_capital_of = ROOT }
						}
					}
					save_event_target_as = event_target_2
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.204.a
		event_target:event_target_capital = {
			area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = IC_tribute_mesner
					duration = 1825
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_1 }
			event_target:event_target_1 = {
				area = {
					limit = { owned_by = ROOT }
					add_province_modifier = {
						name = IC_tribute_mesner
						duration = 1825
					}
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				area = {
					limit = { owned_by = ROOT }
					add_province_modifier = {
						name = IC_tribute_mesner
						duration = 1825
					}
				}
			}
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.204.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = babbling_buffoon } }
		}
		infernal_court_add_bad_personality_effect = { deity = mesner }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.204.c
		random_list = {
			30 = {
				if = {
					limit = { adm = 1 }
					change_adm = -1
				}
				else = {
					add_adm_power = -200
				}
			}
			30 = {
				if = {
					limit = { dip = 1 }
					change_dip = -1
				}
				else = {
					add_dip_power = -200
				}
			}
			30 = {
				if = {
					limit = { mil = 1 }
					change_mil = -1
				}
				else = {
					add_mil_power = -200
				}
			}
			10 = {
				if = {
					limit = { adm = 1 }
					change_adm = -1
				}
				else = {
					add_adm_power = -200
				}
				if = {
					limit = { dip = 1 }
					change_dip = -1
				}
				else = {
					add_dip_power = -200
				}
				if = {
					limit = { mil = 1 }
					change_mil = -1
				}
				else = {
					add_mil_power = -200
				}
			}
		}
	}
}

country_event = { #Ildran
	id = infernal_events.205
	title = infernal_events.205.t
	desc = infernal_events.205.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.205.a
		change_government_reform_progress = -100
	}
	
	option = { #Corrupt your soul
		name = infernal_events.205.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = obsessive_perfectionist personality2 = naive } }
		}
		infernal_court_add_bad_personality_effect = { deity = ildran }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.205.c
		add_country_modifier = {
			name = IC_refuse_ildran
			duration = 3650
		}
	}
}

country_event = { #Ildran upgraded
	id = infernal_events.206
	title = infernal_events.206.t
	desc = infernal_events.206.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.206.a
		change_government_reform_progress = -250
	}
	
	option = { #Corrupt your soul
		name = infernal_events.206.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = obsessive_perfectionist personality2 = naive } }
		}
		infernal_court_add_bad_personality_effect = { deity = ildran }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.206.c
		add_country_modifier = {
			name = IC_refuse_ildran_upgrade
			duration = 3650
		}
	}
}

country_event = { #Hedine
	id = infernal_events.207
	title = infernal_events.207.t
	desc = infernal_events.207.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes

	option = { #Tribute
		name = infernal_events.207.a
		trigger = {
			has_government_attribute = heir
			OR = {
				heir_adm = 3
				heir_dip = 3
				heir_mil = 3
				has_heir = no
			}
		}
		define_heir = {
			dynasty = ROOT
			max_random_adm = 2
			max_random_dip = 2
			max_random_mil = 2
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.207.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = infertile } }
		}
		infernal_court_add_bad_personality_effect = { deity = hedine }
	}

	option = { #Refuse Tribute
		name = infernal_events.207.c
		add_legitimacy_equivalent = { amount = -10 republican_tradition = -5 }
		add_prestige = -15
	}	
	
}

country_event = { #Hedine upgraded
	id = infernal_events.208
	title = infernal_events.208.t
	desc = infernal_events.208.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes

	option = { #Tribute
		name = infernal_events.208.a
		trigger = {
			has_government_attribute = heir
			NOT = { government = theocracy }
			OR = {
				heir_adm = 3
				heir_dip = 3
				heir_mil = 3
				has_heir = no
			}
		}
		define_heir = {
			dynasty = ROOT
			max_random_adm = 2
			max_random_dip = 2
			max_random_mil = 2
			block_disinherit = yes
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.208.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = infertile } }
		}
		infernal_court_add_bad_personality_effect = { deity = hedine }
	}

	option = { #Refuse Tribute
		name = infernal_events.208.c
		add_legitimacy_equivalent = { amount = -25 republican_tradition = -12 }
		add_prestige = -30
	}
}

country_event = { #Ibberal
	id = infernal_events.209
	title = infernal_events.209.t
	desc = infernal_events.209.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = { save_event_target_as = event_target_1 }
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = { 
						NOT = {
							province_id = event_target:event_target_1
						}
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_2 }
				random_owned_province = {
					limit = { 
						NOT = {
							province_id = event_target:event_target_1
							province_id = event_target:event_target_2
						}
					}
					save_event_target_as = event_target_3
				}
			}
			
			random_owned_province = {
				limit = {
					has_production_building_trigger = yes
				}
				save_event_target_as = event_target_4
			}
			if = {
				limit = { has_saved_event_target = event_target_4 }
				random_owned_province = {
					limit = { 
						NOT = { province_id = event_target:event_target_4 }
						has_production_building_trigger = yes
					}
					save_event_target_as = event_target_5
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_5 }
				random_owned_province = {
					limit = { 
						NOT = { province_id = event_target:event_target_4 }
						NOT = { province_id = event_target:event_target_5 }
						has_production_building_trigger = yes
					}
					save_event_target_as = event_target_6
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.209.a
		event_target:event_target_1 = {
			remove_random_development = yes
			add_devastation = 25
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				remove_random_development = yes
				add_devastation = 25
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				remove_random_development = yes
				add_devastation = 25
			}
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.209.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = drunkard personality2 = loose_lips } }
		}
		infernal_court_add_bad_personality_effect = { deity = ibberal }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.209.c
		trigger = {
			any_owned_province = {
				has_production_building_trigger = yes
			}
		}
		event_target:event_target_4 = {
			if = { 
				limit = { has_building = workshop }
				remove_building = workshop
			}
			if = { 
				limit = { has_building = counting_house }
				remove_building = counting_house
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_5 }
			event_target:event_target_5 = {
				if = { 
					limit = { has_building = workshop }
					remove_building = workshop
				}
				if = { 
					limit = { has_building = counting_house }
					remove_building = counting_house
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_6 }
			event_target:event_target_6 = {
				if = { 
					limit = { has_building = workshop }
					remove_building = workshop
				}
				if = { 
					limit = { has_building = counting_house }
					remove_building = counting_house
				}
			}
		}
	}
}

country_event = { #Ibberal upgraded
	id = infernal_events.210
	title = infernal_events.210.t
	desc = infernal_events.210.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_manufactory_trigger = yes
				}
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = { 
						NOT = { province_id = event_target:event_target_1 }
						has_manufactory_trigger = yes
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_2 }
				random_owned_province = {
					limit = { 
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						has_manufactory_trigger = yes
					}
					save_event_target_as = event_target_3
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.210.a
		capital_scope = {
			area = {
				limit = { owned_by = ROOT }
				add_base_tax = -1
				add_base_production = -1
				add_base_manpower = -1
				add_devastation = 50
			}
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.210.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = drunkard personality2 = loose_lips } }
		}
		infernal_court_add_bad_personality_effect = { deity = ibberal }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.210.c
		trigger = {
			any_owned_province = {
				has_manufactory_trigger = yes
			}
		}
		event_target:event_target_1 = {
			remove_random_manufactory = yes
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				remove_random_manufactory = yes
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				remove_random_manufactory = yes
			}
		}
	}
}

country_event = { #Canturian
	id = infernal_events.211
	title = infernal_events.211.t
	desc = infernal_events.211.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					IC_has_long_lived_minority_canturian = yes
				}
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_2 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_3
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_3 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_4
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_4 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
						NOT = { province_id = event_target:event_target_4 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_5
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.211.a
		large_decrease_of_elven_tolerance_effect = yes
		large_decrease_of_half_elven_tolerance_effect = yes
		large_decrease_of_dwarven_tolerance_effect = yes
		large_decrease_of_gnomish_tolerance_effect = yes
		add_country_modifier = {
			name = IC_tribute_canturian
			duration = 1825
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.211.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = craven } }
		}
		infernal_court_add_bad_personality_effect = { deity = canturian }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.211.c
		trigger = {
			any_owned_province = {
				IC_has_long_lived_minority_canturian = yes
			}
		}	
		event_target:event_target_1 = {
			spawn_rebels = {
				type = particularist_rebels
				size = 1.5
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 1.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 1.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_4 }
			event_target:event_target_4 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 1.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_5 }
			event_target:event_target_5 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 1.5
				}
			}
		}
	}
}

country_event = { #Canturian upgraded
	id = infernal_events.212
	title = infernal_events.212.t
	desc = infernal_events.212.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					IC_has_long_lived_minority_canturian = yes
				}
				save_event_target_as = event_target_1
			}
			if = {
				limit = { has_saved_event_target = event_target_1 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_2
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_2 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_3
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_3 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_4
				}
			}
			if = {
				limit = { has_saved_event_target = event_target_4 }
				random_owned_province = {
					limit = {
						NOT = { province_id = event_target:event_target_1 }
						NOT = { province_id = event_target:event_target_2 }
						NOT = { province_id = event_target:event_target_3 }
						NOT = { province_id = event_target:event_target_4 }
						IC_has_long_lived_minority_canturian = yes
					}
					save_event_target_as = event_target_5
				}
			}
		}
	}
	
	option = { #Tribute
		name = infernal_events.212.a
		large_decrease_of_elven_tolerance_effect = yes
		large_decrease_of_half_elven_tolerance_effect = yes
		large_decrease_of_dwarven_tolerance_effect = yes
		large_decrease_of_gnomish_tolerance_effect = yes
		add_country_modifier = {
			name = IC_tribute_canturian_upgrade
			duration = 3650
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.212.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_1 = { personality = craven } }
		}
		infernal_court_add_bad_personality_effect = { deity = canturian }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.212.c
		trigger = {
			any_owned_province = {
				IC_has_long_lived_minority_canturian = yes
			}
		}	
		event_target:event_target_1 = {
			spawn_rebels = {
				type = particularist_rebels
				size = 2.5
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_2 }
			event_target:event_target_2 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 2.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_3 }
			event_target:event_target_3 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 2.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_4 }
			event_target:event_target_4 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 2.5
				}
			}
		}
		if = {
			limit = { has_saved_event_target = event_target_5 }
			event_target:event_target_5 = {
				spawn_rebels = {
					type = particularist_rebels
					size = 2.5
				}
			}
		}
	}
}

country_event = { #Forsara
	id = infernal_events.213
	title = infernal_events.213.t
	desc = infernal_events.213.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.213.a
		random_list = {
			1 = { add_corruption = 1 }
			1 = { add_corruption = 2 }
			1 = { add_corruption = 3 }
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.213.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = greedy personality2 = embezzler } }
		}
		infernal_court_add_bad_personality_effect = { deity = forsara }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.213.c
		add_country_modifier = {
			name = IC_refuse_forsara
			duration = 3650
		}
	}
}

country_event = { #Forsara upgraded
	id = infernal_events.214
	title = infernal_events.214.t
	desc = infernal_events.214.d
	picture = THE_COVENANT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Tribute
		name = infernal_events.214.a
		random_list = {
			1 = { add_corruption = 3 }
			1 = { add_corruption = 4 }
			1 = { add_corruption = 5 }
		}
	}
	
	option = { #Corrupt your soul
		name = infernal_events.214.b
		trigger = {
			hidden_trigger = { infernal_court_check_personalities_2 = { personality1 = greedy personality2 = embezzler } }
		}
		infernal_court_add_bad_personality_effect = { deity = forsara }
	}
	
	option = { #Refuse Tribute
		name = infernal_events.214.c
		add_country_modifier = {
			name = IC_refuse_forsara_upgrade
			duration = 3650
		}
	}
}

