
###### TODO: DELETE ALL THIS OLD MASTERY NONSENSE. NO UNIQUE MAGIC NATION USES IT
## TODO: REPLICATE THE FUNCTIONALITY OF COLORING IN THE NAME OF THE SPELL SCHOOL WITH THE MASTERY

###############
### PATRONS ###
###############

defined_text = { #GetPatronType
	name = GetPatronType
	random = no
	
	text = {
		localisation_key = patronAncestor
		trigger = { has_ruler_flag = ancestor_spirit_patron }
	}
	text = {
		localisation_key = patronNatureSpirit
		trigger = { has_ruler_flag = hoko_patron }
	}
	text = {
		localisation_key = patronGumiho
		trigger = { has_ruler_flag = gumiho_patron }
	}
	text = {
		localisation_key = patronHuliJing
		trigger = { has_ruler_flag = huli_jing_patron }
	}
	text = {
		localisation_key = patronBladedancer
		trigger = { has_ruler_flag = bladedancer_patron }
	}
	text = {
		localisation_key = patronMaiden
		trigger = { has_ruler_flag = maiden_patron }
	}
	text = {
		localisation_key = patronNang
		trigger = { has_ruler_flag = nang_patron }
	}
	text = {
		localisation_key = patronRakshasa
		trigger = { has_ruler_flag = rakshasa_patron }
	}
	text = {
		localisation_key = patronBaku
		trigger = { has_ruler_flag = baku_patron }
	}
	text = {
		localisation_key = patronYaksha
		trigger = { has_ruler_flag = yaksha_patron }
	}
	text = {
		localisation_key = patronManifestationOfSurael
		trigger = { has_ruler_flag = manifestation_of_surael_patron }
	}
	text = {
		localisation_key = patronSpringOld
		trigger = { has_ruler_flag = spring_old_patron }
	}
	text = {
		localisation_key = patronSummerWaves
		trigger = { has_ruler_flag = summer_waves_patron }
	}
	text = {
		localisation_key = patronAutumnGloam
		trigger = { has_ruler_flag = autumn_gloam_patron }
	}
	text = {
		localisation_key = patronWinterEverfrost
		trigger = { has_ruler_flag = winter_everfrost_patron }
	}
	text = {
		localisation_key = patronUnthronedPatron
		trigger = { has_ruler_flag = unthroned_patron }
	}
	text = {
		localisation_key = patronXhazobPatron
		trigger = { has_ruler_flag = xhazob_patron }
	}
}
#GetPatronEffects
defined_text = {
	name = GetPatronEffects
	random = no
	text = { localisation_key = ancestor_spirit_desc_tt trigger = { has_ruler_flag = ancestor_spirit_patron } }
	text = { localisation_key = hoko_desc_tt trigger = { has_ruler_flag = hoko_patron } }
	text = { localisation_key = gumiho_desc_tt trigger = { has_ruler_flag = gumiho_patron } }
	text = { localisation_key = huli_jing_desc_tt trigger = { has_ruler_flag = huli_jing_patron } }
	text = { localisation_key = bladedancer_desc_tt trigger = { has_ruler_flag = bladedancer_patron } }
	text = { localisation_key = maiden_desc_tt trigger = { has_ruler_flag = maiden_patron } }
	text = { localisation_key = nang_desc_tt trigger = { has_ruler_flag = nang_patron } }
	text = { localisation_key = rakshasa_desc_tt trigger = { has_ruler_flag = rakshasa_patron } }
	text = { localisation_key = baku_desc_tt trigger = { has_ruler_flag = baku_patron } }
	text = { localisation_key = yaksha_desc_tt trigger = { has_ruler_flag = yaksha_patron } }
	text = { localisation_key = manifestation_of_surael_desc_tt trigger = { has_ruler_flag = manifestation_of_surael_patron } }
	text = { localisation_key = spring_old_desc_tt trigger = { has_ruler_flag = spring_old_patron } }
	text = { localisation_key = summer_waves_desc_tt trigger = { has_ruler_flag = summer_waves_patron } }
	text = { localisation_key = autumn_gloam_desc_tt trigger = { has_ruler_flag = autumn_gloam_patron } }
	text = { localisation_key = winter_everfrost_desc_tt trigger = { has_ruler_flag = winter_everfrost_patron } }
	text = { localisation_key = unthroned_patron_desc_tt trigger = { has_ruler_flag = unthroned_patron_patron } }
	text = { localisation_key = xhazob_desc_tt trigger = { has_ruler_flag = xhazob_patron } }
}
#GetPatronDesc
defined_text = {
	name = GetPatronDesc
	random = no
	text = { localisation_key = ancestor_spirit.d trigger = { has_ruler_flag = ancestor_spirit_patron } }
	text = { localisation_key = hoko.d trigger = { has_ruler_flag = hoko_patron } }
	text = { localisation_key = gumiho.d trigger = { has_ruler_flag = gumiho_patron } }
	text = { localisation_key = huli_jing.d trigger = { has_ruler_flag = huli_jing_patron } }
	text = { localisation_key = bladedancer.d trigger = { has_ruler_flag = bladedancer_patron } }
	text = { localisation_key = maiden.d trigger = { has_ruler_flag = maiden_patron } }
	text = { localisation_key = nang.d trigger = { has_ruler_flag = nang_patron } }
	text = { localisation_key = rakshasa.d trigger = { has_ruler_flag = rakshasa_patron } }
	text = { localisation_key = baku.d trigger = { has_ruler_flag = baku_patron } }
	text = { localisation_key = yaksha.d trigger = { has_ruler_flag = yaksha_patron } }
	text = { localisation_key = manifestation_of_surael.d trigger = { has_ruler_flag = manifestation_of_surael_patron } }
	text = { localisation_key = spring_old.d trigger = { has_ruler_flag = spring_old_patron } }
	text = { localisation_key = summer_waves.d trigger = { has_ruler_flag = summer_waves_patron } }
	text = { localisation_key = autumn_gloam.d trigger = { has_ruler_flag = autumn_gloam_patron } }
	text = { localisation_key = winter_everfrost.d trigger = { has_ruler_flag = winter_everfrost_patron } }
	text = { localisation_key = unthroned_patron.d trigger = { has_ruler_flag = unthroned_patron_patron } }
	text = { localisation_key = xhazob.d trigger = { has_ruler_flag = xhazob_patron } }
}
#GetPatronBoons
defined_text = {
	name = GetPatronBoons
	text = {
		localisation_key = magic_menu_patron_boons
		trigger = { has_a_patron_trigger = yes }
	}
}
defined_text = { #GetPatronBoon1
	name = GetPatronBoon1
	random = no
	
	text = {
		localisation_key = patronAncestorBoon1
		trigger = {
			has_ruler_flag = ancestor_spirit_patron
			has_ruler_modifier = patron_wisdom_of_ages
		}
	}
	text = {
		localisation_key = patronNatureSpiritBoon1
		trigger = {
			has_ruler_flag = hoko_patron
			has_ruler_modifier = patron_invigoration
		}
	}
	text = {
		localisation_key = patronGumihoBoon1
		trigger = {
			has_ruler_flag = gumiho_patron
			has_ruler_modifier = patron_fluffy_spies
		}
	}
	text = {
		localisation_key = patronHuliJingBoon1
		trigger = {
			has_ruler_flag = huli_jing_patron
			has_ruler_modifier = patron_fluffy_spies
		}
	}
	text = {
		localisation_key = patronBladedancerBoon1
		trigger = {
			has_ruler_flag = bladedancer_patron
			has_ruler_modifier = patron_death_dance
		}
	}
	text = {
		localisation_key = patronMaidenBoon1
		trigger = {
			has_ruler_flag = maiden_patron
			has_ruler_modifier = patron_watchers 
		}
	}
	text = {
		localisation_key = patronNangBoon1
		trigger = {
			has_ruler_flag = nang_patron
			has_ruler_modifier = patron_bounty_of_lupulan
		}
	}
	text = {
		localisation_key = patronRakshasaBoon1
		trigger = {
			has_ruler_flag = rakshasa_patron
			has_ruler_modifier = patron_scrimmage
		}
	}
	text = {
		localisation_key = patronBakuBoon1
		trigger = {
			has_ruler_flag = baku_patron
			has_ruler_modifier = patron_good_dreams
		}
	}
	text = {
		localisation_key = patronYakshaBoon1
		trigger = {
			has_ruler_flag = yaksha_patron
			has_ruler_modifier = patron_benign_monsoon
		}
	}
	text = {
		localisation_key = patronManifestationOfSuraelBoon1
		trigger = {
			has_ruler_flag = manifestation_of_surael_patron
			has_ruler_modifier = patron_blinding_sun
		}
	}
	text = {
		localisation_key = patronSpringOldBoon1
		trigger = {
			has_ruler_flag = spring_old_patron
			has_ruler_modifier = patron_scholarship
		}
	}
	text = {
		localisation_key = patronSummerWavesBoon1
		trigger = {
			has_ruler_flag = summer_waves_patron
			has_ruler_modifier = patron_tidal_call
		}
	}
	text = {
		localisation_key = patronAutumnGloamBoon1
		trigger = {
			has_ruler_flag = autumn_gloam_patron
			has_ruler_modifier = patron_hibernal_vows
		}
	}
	text = {
		localisation_key = patronWinterEverfrostBoon1
		trigger = {
			has_ruler_flag = winter_everfrost_patron
			has_ruler_modifier = patron_lingering_cold
		}
	}
	text = {
		localisation_key = patronUnthronedPatronBoon1
		trigger = {
			has_ruler_flag = unthroned_patron
			has_ruler_modifier = patron_bend_the_knee
		}
	}
	text = {
		localisation_key = patronXhazobPatronBoon1
		trigger = {
			has_ruler_flag = xhazob_patron
			has_ruler_modifier = patron_hellfire
		}
	}
	text = {
		localisation_key = patronBoonNone
		trigger = {
			always = yes
		}
	}
}
defined_text = { #GetPatronBoon2
	name = GetPatronBoon2
	random = no
	
	text = {
		localisation_key = patronAncestorBoon2
		trigger = {
			has_ruler_flag = ancestor_spirit_patron
			has_ruler_modifier = patron_family_ties
		}
	}
	text = {
		localisation_key = patronNatureSpiritBoon2
		trigger = {
			has_ruler_flag = hoko_patron
			has_ruler_modifier = patron_natures_preference
		}
	}
	text = {
		localisation_key = patronGumihoBoon2
		trigger = {
			has_ruler_flag = gumiho_patron
			has_ruler_modifier = patron_noble_blackmail
		}
	}
	text = {
		localisation_key = patronHuliJingBoon2
		trigger = {
			has_ruler_flag = huli_jing_patron
			has_ruler_modifier = patron_seduction
		}
	}
	text = {
		localisation_key = patronBladedancerBoon2
		trigger = {
			has_ruler_flag = bladedancer_patron
			has_ruler_modifier = patron_cultivation
		}
	}
	text = {
		localisation_key = patronMaidenBoon2
		trigger = {
			has_ruler_flag = maiden_patron
			has_ruler_modifier = patron_sailor_guardians 
		}
	}
	text = {
		localisation_key = patronNangBoon2
		trigger = {
			has_ruler_flag = nang_patron
			has_ruler_modifier = patron_druidic_blessing
		}
	}
	text = {
		localisation_key = patronRakshasaBoon2
		trigger = {
			has_ruler_flag = rakshasa_patron
			has_ruler_modifier = patron_rebuke
		}
	}
	text = {
		localisation_key = patronBakuBoon2
		trigger = {
			has_ruler_flag = baku_patron
			has_ruler_modifier = patron_nightmares
		}
	}
	text = {
		localisation_key = patronYakshaBoon2
		trigger = {
			has_ruler_flag = yaksha_patron
			has_ruler_modifier = patron_embrace_hearth
		}
	}
	text = {
		localisation_key = patronManifestationOfSuraelBoon2
		trigger = {
			has_ruler_flag = manifestation_of_surael_patron
			has_ruler_modifier = patron_honest_joy
		}
	}
	text = {
		localisation_key = patronSpringOldBoon2
		trigger = {
			has_ruler_flag = spring_old_patron
			has_ruler_modifier = patron_rekindle
		}
	}
	text = {
		localisation_key = patronSummerWavesBoon2
		trigger = {
			has_ruler_flag = summer_waves_patron
			has_ruler_modifier = patron_tradememories
		}
	}
	text = {
		localisation_key = patronAutumnGloamBoon2
		trigger = {
			has_ruler_flag = autumn_gloam_patron
			has_ruler_modifier = patron_bane_oathbreakers
		}
	}
	text = {
		localisation_key = patronWinterEverfrostBoon2
		trigger = {
			has_ruler_flag = winter_everfrost_patron
			has_ruler_modifier = patron_undying_spirits
		}
	}
	text = {
		localisation_key = patronUnthronedPatronBoon2
		trigger = {
			has_ruler_flag = unthroned_patron
			has_ruler_modifier = patron_secrets_otherworld
		}
	}
	text = {
		localisation_key = patronXhazobPatronBoon2
		trigger = {
			has_ruler_flag = xhazob_patron
			has_ruler_modifier = patron_conquest
		}
	}
	text = {
		localisation_key = patronBoonNone
		trigger = {
			always = yes
		}
	}
}
defined_text = { #GetPatronBoon3
	name = GetPatronBoon3
	random = no

	text = {
		localisation_key = patronXhazobPatronBoon3
		trigger = {
			has_ruler_modifier = patron_fury
			has_ruler_flag = xhazob_patron
		}
	}
	text = {
		localisation_key = patronBoonNone
		trigger = {
			always = yes
		}
	}
}

#################################
### OLD SYSTEM SPELL STRENGTH ###
#################################

#GetSpellStrengthShinukhorchi
defined_text = {
	name = GetSpellStrengthShinukhorchi
	random = no
	
	text = {
		localisation_key = spellStrengthStrong
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 66 } }
	}
	text = {
		localisation_key = spellStrengthMedium
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 33 } }
	}
	text = {
		localisation_key = spellStrengthWeak
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorShinukhorchi
defined_text = {
	name = GetSpellStrengthIndicatorShinukhorchi
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_shinukhorchi influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}
#GetSpellStrengthChumijemoya
defined_text = {
	name = GetSpellStrengthChumijemoya
	random = no
	
	text = {
		localisation_key = spellStrengthStrong
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 66 } }
	}
	text = {
		localisation_key = spellStrengthMedium
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 33 } }
	}
	text = {
		localisation_key = spellStrengthWeak
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorChumijemoya
defined_text = {
	name = GetSpellStrengthIndicatorChumijemoya
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_chumijemoya influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}
#GetSpellStrengthAjgriijarul
defined_text = {
	name = GetSpellStrengthAjgriijarul
	random = no
	
	text = {
		localisation_key = spellStrengthStrong
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 66 } }
	}
	text = {
		localisation_key = spellStrengthMedium
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 33 } }
	}
	text = {
		localisation_key = spellStrengthWeak
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorAjgriijarul
defined_text = {
	name = GetSpellStrengthIndicatorAjgriijarul
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_ajgriijarul influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}
#GetSpellStrengthKabiurgarko
defined_text = {
	name = GetSpellStrengthKabiurgarko
	random = no
	
	text = {
		localisation_key = spellStrengthStrong
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 66 } }
	}
	text = {
		localisation_key = spellStrengthMedium
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 33 } }
	}
	text = {
		localisation_key = spellStrengthWeak
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorKabiurgarko
defined_text = {
	name = GetSpellStrengthIndicatorKabiurgarko
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_kabiurgarko influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}
#GetSpellStrengthKhelorvalshi
defined_text = {
	name = GetSpellStrengthKhelorvalshi
	random = no
	
	text = {
		localisation_key = spellStrengthStrong
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 66 } }
	}
	text = {
		localisation_key = spellStrengthMedium
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 33 } }
	}
	text = {
		localisation_key = spellStrengthWeak
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorKhelorvalshi
defined_text = {
	name = GetSpellStrengthIndicatorKhelorvalshi
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_khelorvalshi influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}
#GetSpellStrengthIndicatorIceSmiths
defined_text = {
	name = GetSpellStrengthIndicatorIceSmiths
	random = no
	text = {
		localisation_key = spellStrengthIndicator100
		trigger = { estate_influence = { estate = estate_mages influence = 100 } }
	}
	text = {
		localisation_key = spellStrengthIndicator95
		trigger = { estate_influence = { estate = estate_mages influence = 95 } }
	}
	text = {
		localisation_key = spellStrengthIndicator90
		trigger = { estate_influence = { estate = estate_mages influence = 90 } }
	}
	text = {
		localisation_key = spellStrengthIndicator85
		trigger = { estate_influence = { estate = estate_mages influence = 85 } }
	}
	text = {
		localisation_key = spellStrengthIndicator80
		trigger = { estate_influence = { estate = estate_mages influence = 80 } }
	}
	text = {
		localisation_key = spellStrengthIndicator75
		trigger = { estate_influence = { estate = estate_mages influence = 75 } }
	}
	text = {
		localisation_key = spellStrengthIndicator70
		trigger = { estate_influence = { estate = estate_mages influence = 70 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_mages influence = 65 } }
	}
	text = {
		localisation_key = spellStrengthIndicator60
		trigger = { estate_influence = { estate = estate_mages influence = 60 } }
	}
	text = {
		localisation_key = spellStrengthIndicator65
		trigger = { estate_influence = { estate = estate_mages influence = 55 } }
	}
	text = {
		localisation_key = spellStrengthIndicator50
		trigger = { estate_influence = { estate = estate_mages influence = 50 } }
	}
	text = {
		localisation_key = spellStrengthIndicator45
		trigger = { estate_influence = { estate = estate_mages influence = 45 } }
	}
	text = {
		localisation_key = spellStrengthIndicator40
		trigger = { estate_influence = { estate = estate_mages influence = 40 } }
	}
	text = {
		localisation_key = spellStrengthIndicator35
		trigger = { estate_influence = { estate = estate_mages influence = 35 } }
	}
	text = {
		localisation_key = spellStrengthIndicator30
		trigger = { estate_influence = { estate = estate_mages influence = 30 } }
	}
	text = {
		localisation_key = spellStrengthIndicator25
		trigger = { estate_influence = { estate = estate_mages influence = 25 } }
	}
	text = {
		localisation_key = spellStrengthIndicator20
		trigger = { estate_influence = { estate = estate_mages influence = 20 } }
	}
	text = {
		localisation_key = spellStrengthIndicator15
		trigger = { estate_influence = { estate = estate_mages influence = 15 } }
	}
	text = {
		localisation_key = spellStrengthIndicator10
		trigger = { estate_influence = { estate = estate_mages influence = 10 } }
	}
	text = {
		localisation_key = spellStrengthIndicator05
		trigger = { estate_influence = { estate = estate_mages influence = 5 } }
	}
	text = {
		localisation_key = spellStrengthIndicator0
		trigger = { always = yes }
	}
}

##############
### SPELLS ###
##############

#MagicMenuSpellSlot1
defined_text = {
	name = MagicMenuSpellSlot1
	random = no
	
	text = {
		localisation_key = abjuration_0_combat_ward_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_0_summon_familiars_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_0_guidance_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_0_enchanting_embassy_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_0_fireball_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_0_invisibility_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_0_false_life_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_0_longstrider_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot2
defined_text = {
	name = MagicMenuSpellSlot2
	random = no
	
	text = {
		localisation_key = abjuration_1_ward_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_1_summon_animals_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_1_eye_for_talent_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_1_mass_charm_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_1_shock_and_awe_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_1_fear_and_loathing_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_1_ghoulish_grandeur_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_1_plant_growth_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot3
defined_text = {
	name = MagicMenuSpellSlot3
	random = no
	
	text = {
		localisation_key = abjuration_1_protected_journey_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_1_conjure_supplies_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_1_deposit_divination_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_1_command_animals_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_1_flaming_munitions_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_1_bread_and_circuses_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_1_contagion_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_1_mass_enlarge_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot4
defined_text = {
	name = MagicMenuSpellSlot4
	random = no
	
	text = {
		localisation_key = abjuration_2_mass_ward_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_2_summon_elementals_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_2_scry_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_2_mass_charm_2_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_2_meteor_swarm_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_2_assimilation_program_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_2_speak_with_dead_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_2_transmute_to_gold_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot5
defined_text = {
	name = MagicMenuSpellSlot5
	random = no
	
	text = {
		localisation_key = abjuration_2_mage_armor_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_2_aid_construction_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_2_manipulated_fortune_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_2_enchanting_embassy_2_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_2_tearfall_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_2_shadows_in_the_night_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_2_steal_vitality_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_2_reshape_terrain_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot6
defined_text = {
	name = MagicMenuSpellSlot6
	random = no
	
	text = {
		localisation_key = abjuration_3_field_of_forbiddance_spell
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_3_extraplanar_contact_spell
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_3_foresight_spell
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_3_dominate_to_surrender_spell
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_3_elemental_fury_spell
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_3_lead_the_crowds_spell
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_3_undead_army_spell
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_3_rite_of_conception_spell
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot1_2
defined_text = {
	name = MagicMenuSpellSlot1_2
	random = no
	
	text = {
		localisation_key = abjuration_0_combat_ward_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_0_summon_familiars_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_0_guidance_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_0_enchanting_embassy_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_0_fireball_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_0_invisibility_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_0_false_life_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_0_longstrider_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot2_2
defined_text = {
	name = MagicMenuSpellSlot2_2
	random = no
	
	text = {
		localisation_key = abjuration_1_ward_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_1_summon_animals_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_1_eye_for_talent_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_1_mass_charm_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_1_shock_and_awe_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_1_fear_and_loathing_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_1_ghoulish_grandeur_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_1_plant_growth_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot3_2
defined_text = {
	name = MagicMenuSpellSlot3_2
	random = no
	
	text = {
		localisation_key = abjuration_1_protected_journey_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_1_conjure_supplies_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_1_deposit_divination_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_1_command_animals_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_1_flaming_munitions_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_1_bread_and_circuses_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_1_contagion_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_1_mass_enlarge_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot4_2
defined_text = {
	name = MagicMenuSpellSlot4_2
	random = no
	
	text = {
		localisation_key = abjuration_2_mass_ward_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_2_summon_elementals_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_2_scry_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_2_mass_charm_2_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_2_meteor_swarm_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_2_assimilation_program_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_2_speak_with_dead_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_2_transmute_to_gold_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot5_2
defined_text = {
	name = MagicMenuSpellSlot5_2
	random = no
	
	text = {
		localisation_key = abjuration_2_mage_armor_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_2_aid_construction_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_2_manipulated_fortune_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_2_enchanting_embassy_2_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_2_tearfall_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_2_shadows_in_the_night_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_2_steal_vitality_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_2_reshape_terrain_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}
#MagicMenuSpellSlot6_2
defined_text = {
	name = MagicMenuSpellSlot6_2
	random = no
	
	text = {
		localisation_key = abjuration_3_field_of_forbiddance_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_3_extraplanar_contact_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_conjuration_flag }
	}
	text = {
		localisation_key = divination_3_foresight_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_divination_flag }
	}
	text = {
		localisation_key = enchantment_3_dominate_to_surrender_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_enchantment_flag }
	}
	text = {
		localisation_key = evocation_3_elemental_fury_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_evocation_flag }
	}
	text = {
		localisation_key = illusion_3_lead_the_crowds_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_illusion_flag }
	}
	text = {
		localisation_key = necromancy_3_undead_army_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_3_rite_of_conception_spell_2
		trigger = { has_country_flag = magic_menu_spellbook_transmutation_flag }
	}
}

###########################
### SPELL SCHOOL LEVELS ###
###########################

defined_text = {
	name = GetRulerAbjurationLevel
	random = no
	text = { localisation_key = abjuration_3 trigger = { has_ruler_flag = abjuration_3 } }
	text = { localisation_key = abjuration_2 trigger = { has_ruler_flag = abjuration_2 } }
	text = { localisation_key = abjuration_1 trigger = { has_ruler_flag = abjuration_1 } }
	text = { localisation_key = abjuration_0 }
}
defined_text = {
	name = GetRulerConjurationLevel
	random = no
	text = { localisation_key = conjuration_3 trigger = { has_ruler_flag = conjuration_3 } }
	text = { localisation_key = conjuration_2 trigger = { has_ruler_flag = conjuration_2 } }
	text = { localisation_key = conjuration_1 trigger = { has_ruler_flag = conjuration_1 } }
	text = { localisation_key = conjuration_0 }
}
defined_text = {
	name = GetRulerDivinationLevel
	random = no
	text = { localisation_key = divination_3 trigger = { has_ruler_flag = divination_3 } }
	text = { localisation_key = divination_2 trigger = { has_ruler_flag = divination_2 } }
	text = { localisation_key = divination_1 trigger = { has_ruler_flag = divination_1 } }
	text = { localisation_key = divination_0 }
}
defined_text = {
	name = GetRulerEnchantmentLevel
	random = no
	text = { localisation_key = enchantment_3 trigger = { has_ruler_flag = enchantment_3 } }
	text = { localisation_key = enchantment_2 trigger = { has_ruler_flag = enchantment_2 } }
	text = { localisation_key = enchantment_1 trigger = { has_ruler_flag = enchantment_1 } }
	text = { localisation_key = enchantment_0 }
}
defined_text = {
	name = GetRulerEvocationLevel
	random = no
	text = { localisation_key = evocation_3 trigger = { has_ruler_flag = evocation_3 } }
	text = { localisation_key = evocation_2 trigger = { has_ruler_flag = evocation_2 } }
	text = { localisation_key = evocation_1 trigger = { has_ruler_flag = evocation_1 } }
	text = { localisation_key = evocation_0 }
}
defined_text = {
	name = GetRulerIllusionLevel
	random = no
	text = { localisation_key = illusion_3 trigger = { has_ruler_flag = illusion_3 } }
	text = { localisation_key = illusion_2 trigger = { has_ruler_flag = illusion_2 } }
	text = { localisation_key = illusion_1 trigger = { has_ruler_flag = illusion_1 } }
	text = { localisation_key = illusion_0 }
}
defined_text = {
	name = GetRulerNecromancyLevel
	random = no
	text = { localisation_key = necromancy_3 trigger = { has_ruler_flag = necromancy_3 } }
	text = { localisation_key = necromancy_2 trigger = { has_ruler_flag = necromancy_2 } }
	text = { localisation_key = necromancy_1 trigger = { has_ruler_flag = necromancy_1 } }
	text = { localisation_key = necromancy_0 }
}
defined_text = {
	name = GetRulerTransmutationLevel
	random = no
	text = { localisation_key = transmutation_3 trigger = { has_ruler_flag = transmutation_3 } }
	text = { localisation_key = transmutation_2 trigger = { has_ruler_flag = transmutation_2 } }
	text = { localisation_key = transmutation_1 trigger = { has_ruler_flag = transmutation_1 } }
	text = { localisation_key = transmutation_0 }
}
defined_text = {
	name = get_ruler_magic_levels_summary
	text = { localisation_key = ruler_magic_levels_summary }
}

defined_text = {
	name = GetHeirAbjurationLevel
	random = no
	text = { localisation_key = abjuration_3 trigger = { has_heir_flag = abjuration_3 } }
	text = { localisation_key = abjuration_2 trigger = { has_heir_flag = abjuration_2 } }
	text = { localisation_key = abjuration_1 trigger = { has_heir_flag = abjuration_1 } }
	text = { localisation_key = abjuration_0 }
}
defined_text = {
	name = GetHeirConjurationLevel
	random = no
	text = { localisation_key = conjuration_3 trigger = { has_heir_flag = conjuration_3 } }
	text = { localisation_key = conjuration_2 trigger = { has_heir_flag = conjuration_2 } }
	text = { localisation_key = conjuration_1 trigger = { has_heir_flag = conjuration_1 } }
	text = { localisation_key = conjuration_0 }
}
defined_text = {
	name = GetHeirDivinationLevel
	random = no
	text = { localisation_key = divination_3 trigger = { has_heir_flag = divination_3 } }
	text = { localisation_key = divination_2 trigger = { has_heir_flag = divination_2 } }
	text = { localisation_key = divination_1 trigger = { has_heir_flag = divination_1 } }
	text = { localisation_key = divination_0 }
}
defined_text = {
	name = GetHeirEnchantmentLevel
	random = no
	text = { localisation_key = enchantment_3 trigger = { has_heir_flag = enchantment_3 } }
	text = { localisation_key = enchantment_2 trigger = { has_heir_flag = enchantment_2 } }
	text = { localisation_key = enchantment_1 trigger = { has_heir_flag = enchantment_1 } }
	text = { localisation_key = enchantment_0 }
}
defined_text = {
	name = GetHeirEvocationLevel
	random = no
	text = { localisation_key = evocation_3 trigger = { has_heir_flag = evocation_3 } }
	text = { localisation_key = evocation_2 trigger = { has_heir_flag = evocation_2 } }
	text = { localisation_key = evocation_1 trigger = { has_heir_flag = evocation_1 } }
	text = { localisation_key = evocation_0 }
}
defined_text = {
	name = GetHeirIllusionLevel
	random = no
	text = { localisation_key = illusion_3 trigger = { has_heir_flag = illusion_3 } }
	text = { localisation_key = illusion_2 trigger = { has_heir_flag = illusion_2 } }
	text = { localisation_key = illusion_1 trigger = { has_heir_flag = illusion_1 } }
	text = { localisation_key = illusion_0 }
}
defined_text = {
	name = GetHeirNecromancyLevel
	random = no
	text = { localisation_key = necromancy_3 trigger = { has_heir_flag = necromancy_3 } }
	text = { localisation_key = necromancy_2 trigger = { has_heir_flag = necromancy_2 } }
	text = { localisation_key = necromancy_1 trigger = { has_heir_flag = necromancy_1 } }
	text = { localisation_key = necromancy_0 }
}
defined_text = {
	name = GetHeirTransmutationLevel
	random = no
	text = { localisation_key = transmutation_3 trigger = { has_heir_flag = transmutation_3 } }
	text = { localisation_key = transmutation_2 trigger = { has_heir_flag = transmutation_2 } }
	text = { localisation_key = transmutation_1 trigger = { has_heir_flag = transmutation_1 } }
	text = { localisation_key = transmutation_0 }
}
defined_text = {
	name = get_heir_magic_levels_summary
	text = { localisation_key = heir_magic_levels_summary }
}

defined_text = {
	name = GetConsortAbjurationLevel
	random = no
	text = { localisation_key = abjuration_3 trigger = { has_consort_flag = abjuration_3 } }
	text = { localisation_key = abjuration_2 trigger = { has_consort_flag = abjuration_2 } }
	text = { localisation_key = abjuration_1 trigger = { has_consort_flag = abjuration_1 } }
	text = { localisation_key = abjuration_0 }
}
defined_text = {
	name = GetConsortConjurationLevel
	random = no
	text = { localisation_key = conjuration_3 trigger = { has_consort_flag = conjuration_3 } }
	text = { localisation_key = conjuration_2 trigger = { has_consort_flag = conjuration_2 } }
	text = { localisation_key = conjuration_1 trigger = { has_consort_flag = conjuration_1 } }
	text = { localisation_key = conjuration_0 }
}
defined_text = {
	name = GetConsortDivinationLevel
	random = no
	text = { localisation_key = divination_3 trigger = { has_consort_flag = divination_3 } }
	text = { localisation_key = divination_2 trigger = { has_consort_flag = divination_2 } }
	text = { localisation_key = divination_1 trigger = { has_consort_flag = divination_1 } }
	text = { localisation_key = divination_0 }
}
defined_text = {
	name = GetConsortEnchantmentLevel
	random = no
	text = { localisation_key = enchantment_3 trigger = { has_consort_flag = enchantment_3 } }
	text = { localisation_key = enchantment_2 trigger = { has_consort_flag = enchantment_2 } }
	text = { localisation_key = enchantment_1 trigger = { has_consort_flag = enchantment_1 } }
	text = { localisation_key = enchantment_0 }
}
defined_text = {
	name = GetConsortEvocationLevel
	random = no
	text = { localisation_key = evocation_3 trigger = { has_consort_flag = evocation_3 } }
	text = { localisation_key = evocation_2 trigger = { has_consort_flag = evocation_2 } }
	text = { localisation_key = evocation_1 trigger = { has_consort_flag = evocation_1 } }
	text = { localisation_key = evocation_0 }
}
defined_text = {
	name = GetConsortIllusionLevel
	random = no
	text = { localisation_key = illusion_3 trigger = { has_consort_flag = illusion_3 } }
	text = { localisation_key = illusion_2 trigger = { has_consort_flag = illusion_2 } }
	text = { localisation_key = illusion_1 trigger = { has_consort_flag = illusion_1 } }
	text = { localisation_key = illusion_0 }
}
defined_text = {
	name = GetConsortNecromancyLevel
	random = no
	text = { localisation_key = necromancy_3 trigger = { has_consort_flag = necromancy_3 } }
	text = { localisation_key = necromancy_2 trigger = { has_consort_flag = necromancy_2 } }
	text = { localisation_key = necromancy_1 trigger = { has_consort_flag = necromancy_1 } }
	text = { localisation_key = necromancy_0 }
}
defined_text = {
	name = GetConsortTransmutationLevel
	random = no
	text = { localisation_key = transmutation_3 trigger = { has_consort_flag = transmutation_3 } }
	text = { localisation_key = transmutation_2 trigger = { has_consort_flag = transmutation_2 } }
	text = { localisation_key = transmutation_1 trigger = { has_consort_flag = transmutation_1 } }
	text = { localisation_key = transmutation_0 }
}
defined_text = {
	name = get_consort_magic_levels_summary
	text = { localisation_key = consort_magic_levels_summary }
}

defined_text = {
	name = GetEstateAbjurationLevel
	random = no
	text = { localisation_key = abjuration_3 trigger = { has_country_flag = abjuration_3 } }
	text = { localisation_key = abjuration_2 trigger = { has_country_flag = abjuration_2 } }
	text = { localisation_key = abjuration_1 trigger = { has_country_flag = abjuration_1 } }
	text = { localisation_key = abjuration_0 }
}
defined_text = {
	name = GetEstateConjurationLevel
	random = no
	text = { localisation_key = conjuration_3 trigger = { has_country_flag = conjuration_3 } }
	text = { localisation_key = conjuration_2 trigger = { has_country_flag = conjuration_2 } }
	text = { localisation_key = conjuration_1 trigger = { has_country_flag = conjuration_1 } }
	text = { localisation_key = conjuration_0 }
}
defined_text = {
	name = GetEstateDivinationLevel
	random = no
	text = { localisation_key = divination_3 trigger = { has_country_flag = divination_3 } }
	text = { localisation_key = divination_2 trigger = { has_country_flag = divination_2 } }
	text = { localisation_key = divination_1 trigger = { has_country_flag = divination_1 } }
	text = { localisation_key = divination_0 }
}
defined_text = {
	name = GetEstateEnchantmentLevel
	random = no
	text = { localisation_key = enchantment_3 trigger = { has_country_flag = enchantment_3 } }
	text = { localisation_key = enchantment_2 trigger = { has_country_flag = enchantment_2 } }
	text = { localisation_key = enchantment_1 trigger = { has_country_flag = enchantment_1 } }
	text = { localisation_key = enchantment_0 }
}
defined_text = {
	name = GetEstateEvocationLevel
	random = no
	text = { localisation_key = evocation_3 trigger = { has_country_flag = evocation_3 } }
	text = { localisation_key = evocation_2 trigger = { has_country_flag = evocation_2 } }
	text = { localisation_key = evocation_1 trigger = { has_country_flag = evocation_1 } }
	text = { localisation_key = evocation_0 }
}
defined_text = {
	name = GetEstateIllusionLevel
	random = no
	text = { localisation_key = illusion_3 trigger = { has_country_flag = illusion_3 } }
	text = { localisation_key = illusion_2 trigger = { has_country_flag = illusion_2 } }
	text = { localisation_key = illusion_1 trigger = { has_country_flag = illusion_1 } }
	text = { localisation_key = illusion_0 }
}
defined_text = {
	name = GetEstateNecromancyLevel
	random = no
	text = { localisation_key = necromancy_3 trigger = { has_country_flag = necromancy_3 } }
	text = { localisation_key = necromancy_2 trigger = { has_country_flag = necromancy_2 } }
	text = { localisation_key = necromancy_1 trigger = { has_country_flag = necromancy_1 } }
	text = { localisation_key = necromancy_0 }
}
defined_text = {
	name = GetEstateTransmutationLevel
	random = no
	text = { localisation_key = transmutation_3 trigger = { has_country_flag = transmutation_3 } }
	text = { localisation_key = transmutation_2 trigger = { has_country_flag = transmutation_2 } }
	text = { localisation_key = transmutation_1 trigger = { has_country_flag = transmutation_1 } }
	text = { localisation_key = transmutation_0 }
}
defined_text = {
	name = get_estate_magic_levels_summary
	text = { localisation_key = estate_magic_levels_summary }
}

defined_text = {
	name = GetOverallAbjurationLevel
	random = no
	text = { localisation_key = abjuration_3 trigger = { is_overall_abjuration_level_3 = yes } }
	text = { localisation_key = abjuration_2 trigger = { is_overall_abjuration_level_2 = yes } }
	text = { localisation_key = abjuration_1 trigger = { is_overall_abjuration_level_1 = yes } }
	text = { localisation_key = abjuration_0 }
}
defined_text = {
	name = GetOverallConjurationLevel
	random = no
	text = { localisation_key = conjuration_3 trigger = { is_overall_conjuration_level_3 = yes } }
	text = { localisation_key = conjuration_2 trigger = { is_overall_conjuration_level_2 = yes } }
	text = { localisation_key = conjuration_1 trigger = { is_overall_conjuration_level_1 = yes } }
	text = { localisation_key = conjuration_0 }
}
defined_text = {
	name = GetOverallDivinationLevel
	random = no
	text = { localisation_key = divination_3 trigger = { is_overall_divination_level_3 = yes } }
	text = { localisation_key = divination_2 trigger = { is_overall_divination_level_2 = yes } }
	text = { localisation_key = divination_1 trigger = { is_overall_divination_level_1 = yes } }
	text = { localisation_key = divination_0 }
}
defined_text = {
	name = GetOverallEnchantmentLevel
	random = no
	text = { localisation_key = enchantment_3 trigger = { is_overall_enchantment_level_3 = yes } }
	text = { localisation_key = enchantment_2 trigger = { is_overall_enchantment_level_2 = yes } }
	text = { localisation_key = enchantment_1 trigger = { is_overall_enchantment_level_1 = yes } }
	text = { localisation_key = enchantment_0 }
}
defined_text = {
	name = GetOverallEvocationLevel
	random = no
	text = { localisation_key = evocation_3 trigger = { is_overall_evocation_level_3 = yes } }
	text = { localisation_key = evocation_2 trigger = { is_overall_evocation_level_2 = yes } }
	text = { localisation_key = evocation_1 trigger = { is_overall_evocation_level_1 = yes } }
	text = { localisation_key = evocation_0 }
}
defined_text = {
	name = GetOverallIllusionLevel
	random = no
	text = { localisation_key = illusion_3 trigger = { is_overall_illusion_level_3 = yes } }
	text = { localisation_key = illusion_2 trigger = { is_overall_illusion_level_2 = yes } }
	text = { localisation_key = illusion_1 trigger = { is_overall_illusion_level_1 = yes } }
	text = { localisation_key = illusion_0 }
}
defined_text = {
	name = GetOverallNecromancyLevel
	random = no
	text = { localisation_key = necromancy_3 trigger = { is_overall_necromancy_level_3 = yes } }
	text = { localisation_key = necromancy_2 trigger = { is_overall_necromancy_level_2 = yes } }
	text = { localisation_key = necromancy_1 trigger = { is_overall_necromancy_level_1 = yes } }
	text = { localisation_key = necromancy_0 }
}
defined_text = {
	name = GetOverallTransmutationLevel
	random = no
	text = { localisation_key = transmutation_3 trigger = { is_overall_transmutation_level_3 = yes } }
	text = { localisation_key = transmutation_2 trigger = { is_overall_transmutation_level_2 = yes } }
	text = { localisation_key = transmutation_1 trigger = { is_overall_transmutation_level_1 = yes } }
	text = { localisation_key = transmutation_0 }
}
defined_text = {
	name = get_overall_magic_levels_summary
	text = { localisation_key = overall_magic_levels_summary }
}

defined_text = {
	name = get_abjuration_magic_levels_summary
	text = { localisation_key = abjuration_magic_levels_summary }
}
defined_text = {
	name = get_conjuration_magic_levels_summary
	text = { localisation_key = conjuration_magic_levels_summary }
}
defined_text = {
	name = get_divination_magic_levels_summary
	text = { localisation_key = divination_magic_levels_summary }
}
defined_text = {
	name = get_enchantment_magic_levels_summary
	text = { localisation_key = enchantment_magic_levels_summary }
}
defined_text = {
	name = get_evocation_magic_levels_summary
	text = { localisation_key = evocation_magic_levels_summary }
}
defined_text = {
	name = get_illusion_magic_levels_summary
	text = { localisation_key = illusion_magic_levels_summary }
}
defined_text = {
	name = get_necromancy_magic_levels_summary
	text = { localisation_key = necromancy_magic_levels_summary }
}
defined_text = {
	name = get_transmutation_magic_levels_summary
	text = { localisation_key = transmutation_magic_levels_summary }
}

######################
### MAGICAL INFAMY ###
######################

defined_text = {
	name = getLinebreak
	text = { localisation_key = linebreak_tt }
}
defined_text = {
	name = getNameIfRulerIsMage
	text = {
		localisation_key = "monarch_crown_icon[Root.Monarch.GetName][Root.getLinebreak]"
		trigger = { ruler_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getNameIfHeirIsMage
	text = {
		localisation_key = "heir_crown_icon[Root.Heir.GetName][Root.getLinebreak]"
		trigger = { heir_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getNameIfConsortIsMage
	text = {
		localisation_key = "Consort [Root.Consort.GetName][Root.getLinebreak]"
		trigger = { consort_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getNameIfIfHaveMagesEstate
	text = {
		localisation_key = "mages_estate_icon[Root.GetMagesName][Root.getLinebreak]"
		trigger = { has_estate = estate_mages }
	}
}
defined_text = {
	name = getInfamyIfRulerIsMage
	text = {
		localisation_key = "[Root.get_ruler_magic_infamy][Root.getLinebreak]"
		trigger = { ruler_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getInfamyIfHeirIsMage
	text = {
		localisation_key = "[Root.get_heir_magic_infamy][Root.getLinebreak]"
		trigger = { heir_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getInfamyIfConsortIsMage
	text = {
		localisation_key = "[Root.get_consort_magic_infamy][Root.getLinebreak]"
		trigger = { consort_is_powerful_mage = yes }
	}
}
defined_text = {
	name = getInfamyIfHaveMagesEstate
	text = {
		localisation_key = "[Root.get_estate_magic_infamy][Root.getLinebreak]"
		trigger = { has_estate = estate_mages }
	}
}
defined_text = { #returns the current ruler magical infamy
	name = get_ruler_magic_infamy
	random = no
	
	text = {
		localisation_key = infamy_witch_king
		trigger = { ruler_is_witch_king = yes }
	}
	text = {
		localisation_key = infamy_denounced
		trigger = { has_ruler_modifier = infamy_denounced_modifier }
	}
	text = {
		localisation_key = infamy_suspicious
		trigger = { has_ruler_modifier = infamy_suspicious_modifier }
	}
	text = {
		localisation_key = infamy_respected
		trigger = { has_ruler_modifier = infamy_respected_modifier }
	}
	text = { localisation_key = infamy_paragon }
}
defined_text = { #returns the current estate magical infamy
	name = get_estate_magic_infamy
	random = no
	
	text = {
		localisation_key = infamy_witch_king
		trigger = { estate_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = infamy_denounced
		trigger = { type_has_infamy_denounced = { type = country } }
	}
	text = {
		localisation_key = infamy_suspicious
		trigger = { type_has_infamy_suspicious = { type = country } }
	}
	text = {
		localisation_key = infamy_respected
		trigger = { type_has_infamy_respected = { type = country } }
	}
	text = { localisation_key = infamy_paragon }
}
defined_text = { #returns the current heir magical infamy
	name = get_heir_magic_infamy
	random = no
	
	text = {
		localisation_key = infamy_witch_king
		trigger = { heir_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = infamy_denounced
		trigger = { type_has_infamy_denounced = { type = heir } }
	}
	text = {
		localisation_key = infamy_suspicious
		trigger = { type_has_infamy_suspicious = { type = heir } }
	}
	text = {
		localisation_key = infamy_respected
		trigger = { type_has_infamy_respected = { type = heir } }
	}
	text = { localisation_key = infamy_paragon }
}
defined_text = { #returns the current consort magical infamy
	name = get_consort_magic_infamy
	random = no
	
	text = {
		localisation_key = infamy_witch_king
		trigger = { consort_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = infamy_denounced
		trigger = { type_has_infamy_denounced = { type = consort } }
	}
	text = {
		localisation_key = infamy_suspicious
		trigger = { type_has_infamy_suspicious = { type = consort } }
	}
	text = {
		localisation_key = infamy_respected
		trigger = { type_has_infamy_respected = { type = consort } }
	}
	text = { localisation_key = infamy_paragon }
}

defined_text = { #returns the breakdown of effects for your ruler infamy
	name = get_ruler_magic_infamy_breakdown
	random = no

	text = {
		localisation_key = ruler_infamy_witch_king_breakdown
		trigger = { ruler_is_witch_king = yes }
	}
	text = {
		localisation_key = ruler_infamy_denounced_breakdown
		trigger = { has_ruler_modifier = infamy_denounced_modifier }
	}
	text = {
		localisation_key = ruler_infamy_suspicious_breakdown
		trigger = { has_ruler_modifier = infamy_suspicious_modifier }
	}
	text = {
		localisation_key = ruler_infamy_respected_breakdown
		trigger = { has_ruler_modifier = infamy_respected_modifier }
	}
	text = { localisation_key = ruler_infamy_paragon_breakdown }
}

defined_text = { #returns the breakdown of effects for your estate infamy
	name = get_estate_magic_infamy_breakdown
	random = no

	text = {
		localisation_key = estate_infamy_witch_king_breakdown
		trigger = { estate_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = estate_infamy_denounced_breakdown
		trigger = { type_has_infamy_denounced = { type = country } }
	}
	text = {
		localisation_key = estate_infamy_suspicious_breakdown
		trigger = { type_has_infamy_suspicious = { type = country } }
	}
	text = {
		localisation_key = estate_infamy_respected_breakdown
		trigger = { type_has_infamy_respected = { type = country } }
	}
	text = { localisation_key = estate_infamy_paragon_breakdown }
}

defined_text = { #returns the breakdown of effects for your heir infamy
	name = get_heir_magic_infamy_breakdown
	random = no

	text = {
		localisation_key = null
		trigger = { has_heir = no }
	}
	text = {
		localisation_key = heir_infamy_witch_king_breakdown
		trigger = { heir_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = heir_infamy_denounced_breakdown
		trigger = { type_has_infamy_denounced = { type = heir } }
	}
	text = {
		localisation_key = heir_infamy_suspicious_breakdown
		trigger = { type_has_infamy_suspicious = { type = heir } }
	}
	text = {
		localisation_key = heir_infamy_respected_breakdown
		trigger = { type_has_infamy_respected = { type = heir } }
	}
	text = { localisation_key = heir_infamy_paragon_breakdown }
}

defined_text = { #returns the breakdown of effects for your consort infamy
	name = get_consort_magic_infamy_breakdown
	random = no

	text = {
		localisation_key = null
		trigger = { has_consort = no }
	}
	text = {
		localisation_key = consort_infamy_witch_king_breakdown
		trigger = { consort_has_infamy_witch_king = yes }
	}
	text = {
		localisation_key = consort_infamy_denounced_breakdown
		trigger = { type_has_infamy_denounced = { type = consort } }
	}
	text = {
		localisation_key = consort_infamy_suspicious_breakdown
		trigger = { type_has_infamy_suspicious = { type = consort } }
	}
	text = {
		localisation_key = consort_infamy_respected_breakdown
		trigger = { type_has_infamy_respected = { type = consort } }
	}
	text = { localisation_key = consort_infamy_paragon_breakdown }
}

#########################
### EXPERIENCE VALUES ###
#########################

defined_text = { #returns either ruler, heir, or country xp, depending on who's advancing
	name = get_magic_current_xp
	random = no
	
	text = {
		localisation_key = ruler_magic_experience_string
		trigger = { has_ruler_flag = magic_advancement }
	}
	text = {
		localisation_key = heir_magic_experience_string
		trigger = { has_heir_flag = magic_advancement }
	}
	text = {
		localisation_key = country_magic_experience_string
		trigger = { has_country_flag = magic_advancement }
	}
	text = { localisation_key = is_overall_not_advancing_magic_tt }
}
defined_text = { #Custom loc wrappers for the string to help reuse
	name = get_ruler_magic_experience_string
	text = { localisation_key = ruler_magic_experience_string }
}
defined_text = { #Custom loc wrappers for the string to help reuse
	name = get_heir_magic_experience_string
	text = { localisation_key = heir_magic_experience_string }
}
defined_text = { #Custom loc wrappers for the string to help reuse
	name = get_country_magic_experience_string
	text = { localisation_key = country_magic_experience_string }
}
defined_text = { #returns green if positive, red if negative, yellow if 0
	name = GetBaseMagicXPPos
	random = no
	text = { localisation_key = zero_code trigger = { is_variable_equal = { which = base_magic_xp_gain_val value = 0 } } }
	text = { localisation_key = posi_code trigger = { check_variable = { base_magic_xp_gain_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = {
	name = get_base_magic_xp_gain_val
	text = { localisation_key = base_magic_xp_gain_val }
}
defined_text = {
	name = get_base_magic_xp_gain_string
	text = { localisation_key = base_magic_xp_gain_string }
}
defined_text = { #returns green if positive, red if negative, yellow if 0
	name = GetLastMonthsXPPos
	random = no
	text = { localisation_key = zero_code trigger = { is_variable_equal = { which = last_months_xp_gain value = 0 } } }
	text = { localisation_key = posi_code trigger = { check_variable = { last_months_xp_gain = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = {
	name = get_last_months_xp_gain_string
	text = { localisation_key = last_months_xp_gain_string }
}
defined_text = {
	name = get_months_till_advancement_done_string
	random = no

	text = { localisation_key = months_till_advancement_done_string trigger = { check_variable = { months_till_advancement_done = 1 } } }
	text = { localisation_key = null }
}

############################
### EXPERIENCE MODIFIERS ###
############################

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetRulerXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { mages_ruler_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { mages_ruler_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetRulerXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = mages_ruler_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_mages_ruler_experience_mod_val
	text = { localisation_key = mages_ruler_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_mages_ruler_experience_mod_string
	text = { localisation_key = mages_ruler_experience_mod_string }
}

defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_mages_heir_experience_mod_string
	text = { localisation_key = mages_heir_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetEstateXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { mages_estate_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { mages_estate_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetEstateXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = mages_estate_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_mages_estate_experience_mod_val
	text = { localisation_key = mages_estate_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_mages_estate_experience_mod_string
	text = { localisation_key = mages_estate_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetAbjurationXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { abjuration_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { abjuration_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetAbjurationXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = abjuration_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_abjuration_experience_mod_val
	text = { localisation_key = abjuration_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_abjuration_experience_mod_string
	text = { localisation_key = abjuration_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetConjurationXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { conjuration_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { conjuration_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetConjurationXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = conjuration_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_conjuration_experience_mod_val
	text = { localisation_key = conjuration_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_conjuration_experience_mod_string
	text = { localisation_key = conjuration_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetDivinationXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { divination_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { divination_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetDivinationXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = divination_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_divination_experience_mod_val
	text = { localisation_key = divination_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_divination_experience_mod_string
	text = { localisation_key = divination_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetEnchantmentXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { enchantment_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { enchantment_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetEnchantmentXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = enchantment_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_enchantment_experience_mod_val
	text = { localisation_key = enchantment_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_enchantment_experience_mod_string
	text = { localisation_key = enchantment_experience_mod_string }
}


defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetEvocationXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { evocation_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { evocation_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetEvocationXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = evocation_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_evocation_experience_mod_val
	text = { localisation_key = evocation_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_evocation_experience_mod_string
	text = { localisation_key = evocation_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetIllusionXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { illusion_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { illusion_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetIllusionXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = illusion_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_illusion_experience_mod_val
	text = { localisation_key = illusion_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_illusion_experience_mod_string
	text = { localisation_key = illusion_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetNecromancyXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { necromancy_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { necromancy_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetNecromancyXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = necromancy_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_necromancy_experience_mod_val
	text = { localisation_key = necromancy_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_necromancy_experience_mod_string
	text = { localisation_key = necromancy_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetTransmutationXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { transmutation_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { transmutation_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetTransmutationXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = transmutation_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_transmutation_experience_mod_val
	text = { localisation_key = transmutation_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_transmutation_experience_mod_string
	text = { localisation_key = transmutation_experience_mod_string }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetTotalXpModPos
	random = no
	text = { localisation_key = posi_code trigger = { check_variable = { total_experience_mod_val = 0.1 } } }
	text = { localisation_key = zero_code trigger = { check_variable = { total_experience_mod_val = 0 } } }
	text = { localisation_key = nega_code }
}
defined_text = { #appends the .0 on the end of a whole number, leaves decimals alone
	name = GetTotalXpModDecimal
	random = no
	text = { localisation_key = append_decimal_code trigger = { has_country_flag = total_xp_whole_number } }
	text = { localisation_key = null }
}
defined_text = { #use this if you want to get just the value
	name = get_total_experience_mod_val
	text = { localisation_key = total_experience_mod_val }
}
defined_text = { #use this if you want to get everything in a tidy bundle
	name = get_total_experience_mod_string
	text = { localisation_key = total_experience_mod_string }
}

defined_text = { #Returns Ruler, Heir, or Estate xp modifier, depending on who's advancing
	name = get_type_magic_xp_modifier
	random = no
	
	text = {
		localisation_key = mages_ruler_experience_mod_string
		trigger = {
			has_ruler_flag = magic_advancement
		}
	}
	text = {
		localisation_key = mages_heir_experience_mod_string
		trigger = {
			has_heir_flag = magic_advancement
		}
	}
	text = {
		localisation_key = mages_estate_experience_mod_string
		trigger = {
			has_country_flag = magic_advancement
		}
	}
	text = { localisation_key = is_overall_not_advancing_magic_tt }
}
defined_text = { #Returns the xp modifier for the school being currently advanced
	name = get_school_magic_xp_modifier
	random = no

	text = {
		localisation_key = abjuration_experience_mod_string
		trigger = { is_overall_advancing_school = { school = abjuration } }
	}
	text = {
		localisation_key = conjuration_experience_mod_string
		trigger = { is_overall_advancing_school = { school = conjuration } }
	}
	text = {
		localisation_key = divination_experience_mod_string
		trigger = { is_overall_advancing_school = { school = divination } }
	}
	text = {
		localisation_key = enchantment_experience_mod_string
		trigger = { is_overall_advancing_school = { school = enchantment } }
	}
	text = {
		localisation_key = evocation_experience_mod_string
		trigger = { is_overall_advancing_school = { school = evocation } }
	}
	text = {
		localisation_key = illusion_experience_mod_string
		trigger = { is_overall_advancing_school = { school = illusion } }
	}
	text = {
		localisation_key = necromancy_experience_mod_string
		trigger = { is_overall_advancing_school = { school = necromancy } }
	}
	text = {
		localisation_key = transmutation_experience_mod_string
		trigger = { is_overall_advancing_school = { school = transmutation } }
	}
	text = { localisation_key = null }
}
defined_text = { #returns the xp name/modifier granted by estate/long-lived study, if applicable
	name = get_magic_xp_debuff
	random = no

	text = {
		localisation_key = long_lived_experience_debuff
		trigger = {
			has_ruler_flag = magic_advancement
			is_long_lived_ruler = yes
		}
	}

	text = {
		localisation_key = long_lived_experience_debuff
		trigger = {
			has_heir_flag = magic_advancement
			is_long_lived_heir = yes
		}
	}

	text = {
		localisation_key = estate_experience_debuff
		trigger = { has_country_flag = magic_advancement }
	}

	text = { localisation_key = null }
}
defined_text = { #returns the total xp modifier when in the study screen
	name = get_magic_study_xp_modifier
	random = no
	
	text = {
		localisation_key = study_experience_preview_pos
		trigger = { check_variable = { study_xp_preview = 0 } }
	}
	text = {
		localisation_key = study_experience_preview_neg
		trigger = { NOT = { check_variable = { study_xp_preview = 0 } } }
	}
	text = { localisation_key = null }
}
defined_text = { #returns the type xp modifier you will be using when in the study screen
	name = get_magic_study_type_xp_modifier
	random = no

	text = {
		localisation_key = mages_ruler_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_ruler_flag }
	}
	text = {
		localisation_key = mages_heir_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_heir_flag }
	}
	text = {
		localisation_key = mages_estate_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_estate_flag }
	}
	text = { localisation_key = magic_study_no_type_mod }
}
defined_text = { #returns the school xp modifier you will be using when in the study screen
	name = get_magic_study_school_xp_modifier
	random = no

	text = {
		localisation_key = abjuration_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_abjuration_flag }
	}
	text = {
		localisation_key = conjuration_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_conjuration_flag }
	}
	text = {
		localisation_key = divination_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_divination_flag }
	}
	text = {
		localisation_key = enchantment_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_enchantment_flag }
	}
	text = {
		localisation_key = evocation_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_evocation_flag }
	}
	text = {
		localisation_key = illusion_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_illusion_flag }
	}
	text = {
		localisation_key = necromancy_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_necromancy_flag }
	}
	text = {
		localisation_key = transmutation_experience_mod_string
		trigger = { has_country_flag = magic_study_setup_transmutation_flag }
	}
	text = { localisation_key = magic_study_no_school_mod }
}

############################
### MAGICAL ADVANCEMENTS ###
############################

#getMagicAdvancementCurrent
defined_text = { #returns the current advancement activity
	name = getMagicAdvancementCurrent
	random = no
	
	text = {
		localisation_key = current_magic_study
		trigger = { is_overall_studying_magic = yes }
	}
	text = {
		localisation_key = current_magic_project
		trigger = { has_country_flag = magic_project }
	}
	text = {
		localisation_key = current_magical_infrastructure
		trigger = { has_country_flag = magical_infrastructure }
	}
	text = { localisation_key = is_overall_not_advancing_magic_tt }
}

#get_advancement_target
defined_text = { #returns the party currently advancing
	name = get_advancement_target
	random = no
	
	text = {
		localisation_key = magic_ruler_advancement_target
		trigger = { has_ruler_flag = magic_advancement }
	}
	text = {
		localisation_key = magic_heir_advancement_target
		trigger = { has_heir_flag = magic_advancement }
	}
	text = {
		localisation_key = magic_estate_advancement_target
		trigger = { has_country_flag = magic_advancement }
	}
	text = { localisation_key = null }
}

#get_advancement_school
defined_text = { #returns the school currently advancing
	name = get_advancement_school
	random = no
	
	text = {
		localisation_key = magic_school_abjuration
		trigger = { is_overall_advancing_school = { school = abjuration } }
	}
	text = {
		localisation_key = magic_school_conjuration
		trigger = { is_overall_advancing_school = { school = conjuration } }
	}
	text = {
		localisation_key = magic_school_divination
		trigger = { is_overall_advancing_school = { school = divination } }
	}
	text = {
		localisation_key = magic_school_enchantment
		trigger = { is_overall_advancing_school = { school = enchantment } }
	}
	text = {
		localisation_key = magic_school_evocation
		trigger = { is_overall_advancing_school = { school = evocation } }
	}
	text = {
		localisation_key = magic_school_illusion
		trigger = { is_overall_advancing_school = { school = illusion } }
	}
	text = {
		localisation_key = magic_school_necromancy
		trigger = { is_overall_advancing_school = { school = necromancy } }
	}
	text = {
		localisation_key = magic_school_transmutation
		trigger = { is_overall_advancing_school = { school = transmutation } }
	}
	text = { localisation_key = null }
}

##############################
### MAGICAL INFRASTRUCTURE ###
##############################

#magical_infrastructure_icon_tt
defined_text = {
	name = magical_infrastructure_icon_tt
	text = {
		localisation_key = magical_infrastructure_icon_tt_has_MI
		trigger = {
			OR = {
				has_country_modifier = magical_infrastructure_1
				has_country_modifier = magical_infrastructure_2
				has_country_modifier = magical_infrastructure_3
				has_country_modifier = magical_infrastructure_4
			}
		}
	}
	text = {
		localisation_key = magical_infrastructure_icon_tt_nulla
	}
}
#magical_infrastructure_modifier
defined_text = {
	name = magical_infrastructure_modifier
	text = {
		localisation_key = magical_infrastructure_modifier_has_MI
		trigger = {
			OR = {
				has_country_modifier = magical_infrastructure_1
				has_country_modifier = magical_infrastructure_2
				has_country_modifier = magical_infrastructure_3
				has_country_modifier = magical_infrastructure_4
			}
		}
	}
	text = {
		localisation_key = magical_infrastructure_modifier_nulla
	}
}
#MagicInfrastructureLevel
defined_text = {
	name = MagicInfrastructureLevel
	random = no

	text = {
		localisation_key = magical_infrastructure_4
		trigger = { has_country_modifier = magical_infrastructure_4 }
	}
	text = {
		localisation_key = magical_infrastructure_3
		trigger = { has_country_modifier = magical_infrastructure_3 }
	}
	text = {
		localisation_key = magical_infrastructure_2
		trigger = { has_country_modifier = magical_infrastructure_2 }
	}
	text = {
		localisation_key = magical_infrastructure_1
		trigger = { has_country_modifier = magical_infrastructure_1 }
	}
	text = { localisation_key = magical_infrastructure_0 }
}
#MagicInfrastructureLevelEffects
defined_text = {
	name = MagicInfrastructureLevelEffects
	random = no

	text = {
		localisation_key = magical_infrastructure_4_tt
		trigger = { has_country_modifier = magical_infrastructure_4 }
	}
	text = {
		localisation_key = magical_infrastructure_3_tt
		trigger = { has_country_modifier = magical_infrastructure_3 }
	}
	text = {
		localisation_key = magical_infrastructure_2_tt
		trigger = { has_country_modifier = magical_infrastructure_2 }
	}
	text = {
		localisation_key = magical_infrastructure_1_tt
		trigger = { has_country_modifier = magical_infrastructure_1 }
	}
	text = { localisation_key = magical_infrastructure_0_tt }
}
#Magical infrastructure upgrade custom trigger tooltips
defined_text = {
	name = GetMIBypassYesNo
	random = no
	
	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				has_country_flag = MI_permanent_bypass_flag
				has_ruler_flag = MI_permanent_bypass_flag
				has_country_flag = MI_temporary_bypass_flag
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Get number of completed magical projects
	name = GetMagicProjectsCompleted
	random = no

	text = {
		localisation_key = value_0
		trigger = { is_variable_equal = { which = magic_projects_completed value = 0 } }
	}
	text = { localisation_key = "[Root.magic_projects_completed.GetValue]" }
}
#MI I
defined_text = { #Capital has mage tower
	name = GetMI1MageTowerYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { capital_scope = { has_building = mage_tower } }
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has level 2 Court Mage for 1 year
	name = GetMI1CourtMageYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { 
			had_country_flag = { flag = adm_advisor_recently_hired days = 365 }
			court_mage = 2
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has legendary school
	name = GetMI1StudyYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				is_overall_abjuration_level_3 = yes
				is_overall_conjuration_level_3 = yes
				is_overall_divination_level_3 = yes
				is_overall_enchantment_level_3 = yes
				is_overall_evocation_level_3 = yes
				is_overall_illusion_level_3 = yes
				is_overall_necromancy_level_3 = yes
				is_overall_transmutation_level_3 = yes
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Owns or subject owns 1 Damestear OR Relics province
	name = GetMI1TradeGoodsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 1
				OR = {
					trade_goods = damestear
					trade_goods = precursor_relics
				}
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has Privilege Magocratic Administration AND Mage Estate has 30 influence
	name = GetMI1MagesYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			estate_influence = {
				estate = estate_mages
				influence = 30
			}
			has_estate_privilege = estate_mages_magocratic_administration
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Ruler OR Heir is Powerful Mage
	name = GetMI1PowerfulMageYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				ruler_is_powerful_mage = yes
				heir_is_powerful_mage = yes
			}
		}
	}
	text = { localisation_key = ME_no }
}
#MI II
defined_text = { #At least 10 Mage Towers, or have one in all cores
	name = GetMI2MageTowerYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				mage_tower = 10
				all_core_province = { has_building = mage_tower }
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has level 4 Court Mage for 1 year
	name = GetMI2CourtMageYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { 
			had_country_flag = { flag = adm_advisor_recently_hired days = 365 }
			court_mage = 4
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Completed at least one Magical Project
	name = GetMI2ProjectsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			check_variable = {
				which = magic_projects_completed
				value = 1
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Owns or subject owns 2 Damestear or Relics provinces
	name = GetMI2TradeGoodsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			num_of_provinces_owned_or_owned_by_subjects_with = {
				value = 2
				OR = {
					trade_goods = damestear
					trade_goods = precursor_relics
				}
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has 5 Mage Estate Privileges AND Mage Estate has 60 influence
	name = GetMI2MagesYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			estate_influence = {
				estate = estate_mages
				influence = 60
			}
			num_of_estate_privileges = {
				estate = estate_mages
				value = 5
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Ruler is Powerful Mage
	name = GetMI2PowerfulMageYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { ruler_is_powerful_mage = yes }
	}
	text = { localisation_key = ME_no }
}
#MI III
defined_text = { #At least 50 Mage Towers OR has Mage Towers in all core provinces
	name = GetMI3MageTowerYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				mage_tower = 50
				all_core_province = { has_building = mage_tower }
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has 3 level 5 advisors, including a Court Mage
	name = GetMI3CourtMageYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			court_mage = 5
			has_dip_advisor_of_level = { level = 5 }
			has_mil_advisor_of_level = { level = 5 }
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Completed at least two Magical Projects
	name = GetMI3ProjectsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			check_variable = {
				which = magic_projects_completed
				value = 2
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has Trading Bonus in Damestear OR Relics
	name = GetMI3TradeGoodsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			OR = {
				trading_bonus = { trade_goods = damestear value = yes }
				trading_bonus = { trade_goods = precursor_relics value = yes }
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has 7 Mage Estate Privileges AND Mage Estate has 90 influence
	name = GetMI3MagesYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			estate_influence = {
				estate = estate_mages
				influence = 90
			}
			num_of_estate_privileges = {
				estate = estate_mages
				value = 7
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Is a Witch-Kingdom
	name = GetMI3WitchKingYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { ruler_is_witch_king = yes }
	}
	text = { localisation_key = ME_no }
}
#MI IV
defined_text = { #Has Mage Towers in all core provinces
	name = GetMI4MageTowerYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = { all_core_province = { has_building = mage_tower } }
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Gains 14 dip, adm, and mil power each month
	name = GetMI4MonarchPowerYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			monthly_adm = 14
			monthly_dip = 14
			monthly_mil = 14
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Completed at least three Magical Projects
	name = GetMI4ProjectsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			check_variable = {
				which = magic_projects_completed
				value = 3
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has Trading Bonus in Damestear AND Relics
	name = GetMI4TradeGoodsYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			trading_bonus = { trade_goods = damestear value = yes }
			trading_bonus = { trade_goods = precursor_relics value = yes }
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Has 9 Mage Estate Privileges AND Mage Estate has 100 influence
	name = GetMI4MagesYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			estate_influence = {
				estate = estate_mages
				influence = 100
			}
			num_of_estate_privileges = {
				estate = estate_mages
				value = 9
			}
		}
	}
	text = { localisation_key = ME_no }
}
defined_text = { #Is a Witch-Kingdom and a Magocracy
	name = GetMI4WitchKingYesNo
	random = no

	text = {
		localisation_key = ME_yes
		trigger = {
			ruler_is_witch_king = yes
			has_government_attribute = is_magocracy
		}
	}
	text = { localisation_key = ME_no }
}


########################
### MAGICAL PROJECTS ###
########################

#get_current_project
defined_text = {
	name = get_current_project
	random = no
	
	text = {
		localisation_key = magical_fortress_project.name
		trigger = {
			has_country_flag = magical_fortress_project
		}
	}
	text = {
		localisation_key = summon_extraplanars_project.name
		trigger = {
			has_country_flag = summon_extraplanars_project
		}
	}
	text = {
		localisation_key = orb_of_omniscience_project.name
		trigger = {
			has_country_flag = orb_of_omniscience_project
		}
	}
	text = {
		localisation_key = artifact_of_enthrallment_project.name
		trigger = {
			has_country_flag = artifact_of_enthrallment_project
		}
	}
	text = {
		localisation_key = battlemage_academy_project.name
		trigger = {
			has_country_flag = battlemage_academy_project
		}
	}
	text = {
		localisation_key = theatre_of_simulacra_project.name
		trigger = {
			has_country_flag = theatre_of_simulacra_project
		}
	}
	text = {
		localisation_key = lichdom_project.name
		trigger = {
			has_country_flag = lichdom_project
		}
	}
	text = {
		localisation_key = homunculus_project.name
		trigger = {
			has_country_flag = homunculus_project
		}
	}
	#unique projects
	text = {
		localisation_key = drennen_project_1.name
		trigger = {
			has_country_flag = drennen_project_1_project
		}
	}
	text = { localisation_key = unlocalised_project_error }
}

#magic_unique_project_button_1
defined_text = {
	name = magic_unique_project_button_1
	random = no

	text = {
		localisation_key = magic_unique_project_button_1.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_2
defined_text = {
	name = magic_unique_project_button_2
	random = no

	text = {
		localisation_key = magic_unique_project_button_2.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_3
defined_text = {
	name = magic_unique_project_button_3
	random = no

	text = {
		localisation_key = magic_unique_project_button_3.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_4
defined_text = {
	name = magic_unique_project_button_4
	random = no

	text = {
		localisation_key = magic_unique_project_button_4.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_5
defined_text = {
	name = magic_unique_project_button_5
	random = no

	text = {
		localisation_key = magic_unique_project_button_5.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_6
defined_text = {
	name = magic_unique_project_button_6
	random = no

	text = {
		localisation_key = magic_unique_project_button_6.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_7
defined_text = {
	name = magic_unique_project_button_7
	random = no

	text = {
		localisation_key = magic_unique_project_button_7.name
		trigger = { always = yes }
	}
}
#magic_unique_project_button_8
defined_text = {
	name = magic_unique_project_button_8
	random = no

	text = {
		localisation_key = magic_unique_project_button_8.name
		trigger = { always = yes }
	}
}

#############################
### MANA VALUES AND REGEN ###
#############################

defined_text = { #GetManaRegenInfra
	name = GetManaRegenInfra
	random = no

	text = {
		localisation_key = "0.0"
		trigger = { is_variable_equal = { which = mana_regen_infra value = 0 } }
	}
	text = { localisation_key = "[Root.mana_regen_infra.GetValue]" }
}

defined_text = {
	name = GetManaRegenSubject
	random = no
	text = { localisation_key = mana_regen_subject trigger = { is_subject = yes } }
	text = { localisation_key = null }
}

defined_text = { #returns green and a plus sign if positive, red if negative, or yellow if 0
	name = GetManaRegenOtherPos
	random = no
	text = { localisation_key = zero_code trigger = { is_variable_equal = { which = mana_regen_other value = 0 } } }
	text = { localisation_key = posi_code trigger = { check_variable = { mana_regen_other = 0 } } }
	text = { localisation_key = nega_code }
}

defined_text = {
	name = GetManaRegenMultPos
	random = no
	text = { localisation_key = mult_zero trigger = { is_variable_equal = { which = mages_mana_regen_mult_val value = 1 } } }
	text = { localisation_key = mult_pos trigger = { check_variable = { mages_mana_regen_mult_val = 1 } } }
	text = { localisation_key = mult_neg }
}
defined_text = {
	name = GetManaRegenMultDeci
	random = no
	text = { localisation_key = mult_append_00 trigger = { has_country_flag = mana_regen_mult_whole_number } }
	text = { localisation_key = mult_append_0 trigger = { has_country_flag = mana_regen_mult_one_decimal } }
	text = { localisation_key = null }
}
defined_text = {
	name = get_mages_mana_regen_mult_val
	text = { localisation_key = mages_mana_regen_mult_val }
}
defined_text = {
	name = get_mages_mana_regen_mult_string
	text = { localisation_key = mages_mana_regen_mult_string }
}
defined_text = {
	name = get_mages_mana_capacity_val
	text = { localisation_key = mages_mana_capacity_val trigger = { check_variable = { mages_mana_capacity_val = 1 } } }
	text = { localisation_key = null }
}

#TODO Jothell This is for diploUI
defined_text = {
	name = mages_custom_stat_value
	text = {
		localisation_key = ZERO
		trigger = { is_variable_equal = { which = effective_magic_level value = 0 } }
	}
	text = { localisation_key = mages_custom_stat_value_get }
}
defined_text = {
	name = mages_diplo_mana
	text = {
		localisation_key = mages_diplo_mana_get
		trigger = { ai = no } #Player only mana info
	}
	text = {
		localisation_key = string_empty
	}
}
defined_text = { #Magical Fortress Diplo Number
	name = GetMagicalFortressLevel
	random = no

	text = {
		localisation_key = "[Root.magical_fortress_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = magical_fortress level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Summon Extraplanars Diplo Number
	name = GetSummonExtraplanarsLevel
	random = no

	text = {
		localisation_key = "[Root.summon_extraplanars_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = summon_extraplanars level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Orb of Omniscience Diplo Number
	name = GetOrbOfOmniscienceLevel
	random = no

	text = {
		localisation_key = "[Root.orb_of_omniscience_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = orb_of_omniscience level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Artifact of Enthrallment Diplo Number
	name = GetArtifactOfEnthrallmentLevel
	random = no

	text = {
		localisation_key = "[Root.artifact_of_enthrallment_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = artifact_of_enthrallment level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Battlemage Academy Diplo Number
	name = GetBattlemageAcademyLevel
	random = no

	text = {
		localisation_key = "[Root.battlemage_academy_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = battlemage_academy level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Theatre of Simulacra Diplo Number
	name = GetTheatreOfSimulacraLevel
	random = no

	text = {
		localisation_key = "[Root.theatre_of_simulacra_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = theatre_of_simulacra level = 1 } }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Lichdom Diplo Number, special b/c of alternative lichification methods
	name = GetLichdomLevel
	random = no

	text = {
		localisation_key = value_3
		trigger = { ruler_is_lich = yes }
	}
	text = {
		localisation_key = value_2
		trigger = { has_country_modifier = lichdom_mod_2 }
	}
	text = {
		localisation_key = value_1
		trigger = { has_country_modifier = lichdom_mod_1 }
	}
	text = { localisation_key = value_0 }
}
defined_text = { #Homunculus Diplo Number
	name = GetHomunculusLevel
	random = no

	text = {
		localisation_key = "[Root.homunculus_level.GetValue]"
		trigger = { at_least_magic_project_level = { project = homunculus level = 1 } }
	}
	text = { localisation_key = value_0 }
}