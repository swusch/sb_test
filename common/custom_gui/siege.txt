#Button 1 - Level 1 - Protective Ward 1
#Button 2 - Level 2 - Protective Ward 2
#Button 3 - Level 3 - Dominate to Surrender
#Button 4 - Level 0 - Fireball
#Button 5 - Level 2 - Fireball2
#Button 6 - Level 1 - Cloudkill
#Button 7 - Level 1 - Mass Enlarge

##Add has siege trigger?
custom_window = {
	name = siege_magic_window
	potential = {
		fort_level = 1
		FROM = { can_use_magic = yes }
		NOT = {
			AND = {
				controlled_by = FROM
				sieged_by = FROM
			}
		}
	}
}

custom_button = { #Spellbook Cast Protective Ward Icon
	name = siege_magic_button_1
	potential = { always = yes }
	trigger = {
		owned_by = FROM
		controlled_by = FROM
		FROM = {
			abjuration_1_ward_trigger = { player = yes }
		}
		abjuration_1_ward_local_trigger = yes
	}
	effect = {
		FROM = { generic_cast_spell = { school = abjuration level = 1 id = ward } }
	}
	frame = {
		number = 1
		trigger = { always = yes }
	}
	tooltip = abjuration_1_ward_spell
}

custom_button = { #Spellbook Menu Cast Protective Ward 2 Button
	name = siege_magic_button_2
	potential = { always = yes }
	trigger = {
		owned_by = FROM
		controlled_by = FROM
		FROM = {
			abjuration_2_mass_ward_trigger = { player = yes }
		}
	}
	effect = {
		FROM = {
			generic_cast_spell = { school = abjuration level = 2 id = mass_ward }
		}
	}
	frame = {
		number = 2
		trigger = { always = yes }
	}
	tooltip = abjuration_2_mass_ward_spell
}

custom_button = { #Spellbook Menu Cast Dominate to Surrender Icon
	name = siege_magic_button_3
	potential = { always = yes }
	trigger = {
		siege_interface_siege_trigger = yes
		FROM = {
			enchantment_3_dominate_to_surrender_trigger = { player = yes }
		}
	}
	effect = {
		FROM = { generic_cast_spell = { school = enchantment level = 3 id = dominate_to_surrender } }
	}
	frame = {
		number = 3
		trigger = { always = yes }
	}
	tooltip = enchantment_3_dominate_to_surrender_spell
}

custom_button = { #Spellbook Cast Fireball Icon
	name = siege_magic_button_4
	potential = { always = yes }
	trigger = {
		siege_interface_siege_trigger = yes
		FROM = {
			evocation_0_fireball_trigger = { player = yes }
		}
	}
	effect = {
		FROM = {
			generic_cast_spell = { school = evocation level = 0 id = fireball }
		}
	}
	frame = {
		number = 4
		trigger = { always = yes }
	}
	tooltip = evocation_0_fireball_spell
}

custom_button = { #Spellbook Cast Fireball 2 Icon
	name = siege_magic_button_5
	potential = { always = yes }
	trigger = {
		siege_interface_siege_trigger = yes
		FROM = {
			evocation_2_meteor_swarm_trigger = { player = yes }
		}
		evocation_2_meteor_swarm_local_trigger = yes
	}
	effect = {
		FROM = {
			generic_cast_spell = { school = evocation level = 2 id = meteor_swarm }
		}
	}
	frame = {
		number = 5
		trigger = { always = yes }
	}
	tooltip = evocation_2_meteor_swarm_spell
}

custom_button = { #Spellbook Cast Contagion Icon
	name = siege_magic_button_6
	potential = { always = yes }
	trigger = {
		owned_by = FROM
		controlled_by = FROM
		FROM = {
			necromancy_1_contagion_trigger = { player = yes }
		}
		necromancy_1_contagion_local_trigger = yes
	}
	effect = {
		FROM = {
			generic_cast_spell = { school = necromancy level = 1 id = contagion }
		}
	}
	frame = {
		number = 6
		trigger = { always = yes }
	}
	tooltip = necromancy_1_contagion_spell
}

custom_button = { #Spellbook Menu Cast Mass Enlarge Button
	name = siege_magic_button_7
	potential = { always = yes }
	trigger = {
		siege_interface_siege_trigger = yes
		FROM = {
			transmutation_1_mass_enlarge_trigger = { player = yes }
		}
		transmutation_1_mass_enlarge_local_trigger = yes
	}
	effect = {
		FROM = {
			generic_cast_spell = { school = transmutation level = 1 id = mass_enlarge }
		}
	}
	frame = {
		number = 7
		trigger = { always = yes }
	}
	tooltip = transmutation_1_mass_enlarge_spell
}
