#Olavlund

#T1 Republic
olavish_clans = {
	icon = "trading_city"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		merchants = 1
		sailors_recovery_speed = 0.1
	}
	valid_for_nation_designer = yes
	potential = {
		OR = {
			tag = Z16
			have_had_reform = olavish_clans_reform
		}
	}
	trigger = {
		OR = {
			tag = Z16
			have_had_reform = olavish_clans_reform
		}
	}
	royal_marriage = yes
	duration = 8
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		locked_government_type = yes
		anb_special_elections = yes
	}
}

#T2 Republic
olavlund_clan_council = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "parliament"
	potential = {
		has_reform = olavlund_clan_council
	}
	trigger = {
		tag = Z16
	}
	modifiers = {
		republican_tradition = 0.25
		global_unrest = -2
		max_possible_parliament_seats = 5
	}
	custom_attributes = {
		has_parliament = yes
	}
	ai = {
		factor = 1
	}
}

#T4 Republic
olavlund_logging_camps_reform = {
	allow_normal_conversion = no
	lock_level_when_selected = yes
	icon = "parliament"
	potential = {
		OR = {
			has_reform = olavlund_logging_camps
			has_country_flag = olavlund_logging_camps_reform_unlocked
		}
	}
	trigger = {
		tag = Z16
	}
	modifiers = {
		global_trade_goods_size_modifier = 0.1
	}
	government_abilities = {
		olavlund_wood_mechanic
	}
	ai = {
		factor = 1
	}
}

#Altorzamh

altorzamh_reform = {
	icon = "government_for_people_reform"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		global_manpower = 10
		caravan_power = 0.1
		trade_steering = 0.1
		great_project_upgrade_cost = -0.1
		
	}
	valid_for_nation_designer = yes
	potential = {
		OR = {
			tag = J54
			have_had_reform = altorzamh_reform
		}
	}
	trigger = {
		OR = {
			tag = J54
			have_had_reform = altorzamh_reform
		}
	}
	effect = {
		unlock_estate_privilege = {
			estate_privilege = estate_looptaurs
		}
	}
	duration = 8
	custom_attributes = {
		enables_horde_idea_group = yes
		locked_government_type = yes
	}
}

#Lejdazamh

lejdazamh_reform = {
	icon = "noble_muslim"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		global_manpower = 10
		max_absolutism_effect = 0.1
		global_tax_modifier = 0.1
		num_accepted_cultures = 2
		
	}
	valid_for_nation_designer = yes
	potential = {
		OR = {
			tag = J55
			have_had_reform = lejdazamh_reform
		}
	}
	trigger = {
		OR = {
			tag = J55
			have_had_reform = lejdazamh_reform
		}
	}
	effect = {
		unlock_estate_privilege = {
			estate_privilege = estate_looptaurs
		}
	}
	custom_attributes = {
		enables_horde_idea_group = yes
		locked_government_type = yes
		winning_war_increases_legitimacy = yes
	}
}

#Taryeanzamh

taryeanzamh_reform = {
	icon = "trading_city"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		global_manpower = 10
		global_missionary_strength = 0.02
		global_colonial_growth = 25
		devotion = 1
		
	}
	valid_for_nation_designer = yes
	potential = {
		OR = {
			tag = J56
			have_had_reform = taryeanzamh_reform 
		}
	}
	trigger = {
		OR = {
			tag = J56
			have_had_reform = taryeanzamh_reform 
		}
	}
	effect = {
		unlock_estate_privilege = {
			estate_privilege = estate_looptaurs
		}
	}
	custom_attributes = {
		enables_horde_idea_group = yes
		temples_modifier = yes
		locked_government_type = yes
	}
}
sun_delta_reform = {
	icon = "godhood"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		artificers_loyalty_modifier = 0.1
		allowed_rajput_fraction = 0.1
		devotion = 1
		max_absolutism = 30
		
	}
	valid_for_nation_designer = yes
	potential = {
		has_reform = sun_delta_reform
				}
	trigger = {
		OR = {
			tag = L28
			have_had_reform = sun_delta_reform
		}
	}
	effect = {
		
	}
	custom_attributes = {
		enables_estate_artificers = yes
		locked_government_type = yes
	}
}

sun_steward_reform = {
	icon = "godhood"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	modifiers = {
		discipline = 0.05
		relation_with_heathens = -15
		global_supply_limit_modifier = 0.5
		
	}
	valid_for_nation_designer = yes
	potential = {
		has_reform = sun_steward_reform
				}
	trigger = {
		OR = {
			tag = L28
			have_had_reform = sun_steward_reform
		}
	}
	effect = {
		
	}
	custom_attributes = {

	}
}

#Silent Repose T1
A83_sanctuary_of_the_ancients = {
	icon = "british_queen"
	potential = {
		has_reform = A83_sanctuary_of_the_ancients
	}
	lock_level_when_selected = yes
	allow_normal_conversion = no
	valid_for_nation_designer = yes
	nation_designer_cost = 50
	has_term_election = yes
	rulers_can_be_generals = no
	heirs_can_be_generals = no
	heir = no
	religion = yes

	modifiers = {
		duration = 20
		candidate_random_bonus = 3
		global_missionary_strength = 0.01
		reform_progress_growth = -0.25
		same_culture_advisor_cost = -0.1
		max_absolutism = 20
	}

	government_abilities = {
		
	}
	custom_attributes = {
		locked_government_type = yes
	}
}

#T3 Silent Repose
A83_the_undying_elder = {
	icon = "black_market_consortium"
	potential = {
		has_reform = A83_the_undying_elder
	}
	allow_normal_conversion = no
	lock_level_when_selected = yes
	has_term_election = no	 #Idk maybe just have a manual event system instead

	modifiers = {
		max_absolutism = 10
		monarch_lifespan = 0.5
	}
}

#Ahudazar
bean_paradise_reform = {
	icon = "merchant"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		has_reform = bean_paradise_reform
	}
	modifiers = {
		reform_progress_growth = 0.15
	}
	effect = {
		custom_tooltip = producing_coffee_coffeelord
		hidden_effect = {
			every_owned_province = {
				if = {
					limit = { trade_goods = coffee }
					add_province_modifier = {
						name = coffeelord
						duration = -1
						hidden = yes
					}
				}
			}
		}
	}
	removed_effect = {
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_modifier = wine_lord_wine }
				remove_province_modifier = wine_lord_wine
			}
		}
	}

}

#Kravigozles
blood_clergy_reform = {
	icon = "goblin_king"
	allow_normal_conversion = yes
	lock_level_when_selected = yes
	potential = {
		has_reform = blood_clergy_reform
	}
	modifiers = {
		mages_loyalty_modifier = 0.1
		mages_estate_experience_mod = 0.1
		technology_cost = 0.05
	}
	custom_attributes = {
		locked_government_type = yes
		is_magocracy = yes
		locked_T1_reform = yes
	}
	effect = {
		artifice_magic_switch_to_magic_only_mode = yes
	}
}