##Please put your scripted triggers in the correct files. If its a non-MT specific system plz make a new file for it.

####################
#######Estates######
####################
has_mages_organization_privilege = {
	OR = {
		has_estate_privilege = estate_mages_organization_magisterium
		has_estate_privilege = estate_mages_organization_state
		has_estate_privilege = estate_mages_organization_guilds
		has_estate_privilege = estate_mages_organization_religious
		has_estate_privilege = estate_mages_organization_covenant
		has_estate_privilege = estate_mages_organization_elissa
		has_estate_privilege = estate_mages_organization_bardic_college
		has_estate_privilege = estate_mages_organization_ice_smiths
		has_estate_privilege = estate_mages_organization_science_mages
		has_estate_privilege = estate_mages_organization_constabularies
		has_estate_privilege = estate_mages_organization_runesmiths
		has_estate_privilege = estate_mages_organization_lihos_maidens
		has_estate_privilege = estate_mages_organization_jaherian_statute
		has_estate_privilege = estate_mages_organization_onyxguard
		has_estate_privilege = estate_mages_organization_proffesional_mihipha
		has_estate_privilege = estate_mages_organization_orda_aldresia
		has_estate_privilege = estate_mages_organization_rule_of_warlocks
		has_estate_privilege = estate_mages_organization_aviaries
		has_estate_privilege = estate_mages_organization_favoured_slaves
		has_estate_privilege = estate_mages_organization_giberd_beacon_of_harmony
		has_estate_privilege = estate_mages_organization_acolytes
	}
}

has_mages_special_organization_privilege = {
	OR = {
		has_estate_privilege = estate_mages_organization_covenant
		has_estate_privilege = estate_mages_organization_elissa
		has_estate_privilege = estate_mages_organization_bardic_college
		has_estate_privilege = estate_mages_organization_ice_smiths
		has_estate_privilege = estate_mages_organization_science_mages
		has_estate_privilege = estate_mages_organization_constabularies
		has_estate_privilege = estate_mages_organization_runesmiths
		has_estate_privilege = estate_mages_organization_lihos_maidens
		has_estate_privilege = estate_mages_organization_onyxguard
		has_estate_privilege = estate_mages_organization_proffesional_mihipha
		has_estate_privilege = estate_mages_organization_orda_aldresia
		has_estate_privilege = estate_mages_organization_rule_of_warlocks
		has_estate_privilege = estate_mages_organization_aviaries
		has_estate_privilege = estate_mages_organization_favoured_slaves
		has_estate_privilege = estate_mages_organization_giberd_beacon_of_harmony
		has_estate_privilege = estate_mages_organization_acolytes
	}
}

can_pay_for_organization_swap = {
	if = {
		limit = { has_$estate$_organization_privilege = yes }
		NOT = {
			estate_influence = {
				estate = estate_$estate$
				influence = 25
			}
		}
		estate_loyalty = {
			estate = estate_$estate$
			loyalty = 30
		}
		if = {
			limit = {
				estate_loyalty = {
					estate = estate_$estate$
					loyalty = 60
				}
			}
			adm_power = 100
			stability = 1
		}
		else = {
			adm_power = 200
			stability = 2
		}
	}
}

has_adventurers_organization_privilege = {
	OR = {
		has_estate_privilege = estate_adventurers_organization_land_of_adventure
		has_estate_privilege = estate_adventurers_organization_licensed_adventurers
		has_estate_privilege = estate_adventurers_organization_chronicler_grants
		has_estate_privilege = estate_adventurers_organization_covenant
		has_estate_privilege = estate_adventurers_organization_slayers
		has_estate_privilege = estate_adventurers_organization_scp_bureau
		has_estate_privilege = estate_adventurers_organization_exploration_society
		has_estate_privilege = estate_adventurers_suhuskar_palace
		has_estate_privilege = estate_adventurers_organization_stone_army
		has_estate_privilege = estate_adventurers_organization_heroes_guild
	}
}

has_adventurers_special_organization_privilege = {
	OR = {
		has_estate_privilege = estate_adventurers_organization_covenant
		has_estate_privilege = estate_adventurers_organization_slayers
		has_estate_privilege = estate_adventurers_organization_scp_bureau
		has_estate_privilege = estate_adventurers_organization_exploration_society
		has_estate_privilege = estate_adventurers_organization_clodhoppers
		has_estate_privilege = estate_adventurers_organization_stone_army
		has_estate_privilege = estate_adventurers_organization_heroes_guild
	}
}

has_artificers_organization_privilege = {
	OR = {
		has_estate_privilege = estate_artificers_organization_international_gommo
		has_estate_privilege = estate_artificers_organization_independent_unions
		has_estate_privilege = estate_artificers_organization_state
		has_estate_privilege = estate_artificers_organization_ravelian_control
		has_estate_privilege = estate_artificers_organization_covenant
		has_estate_privilege = estate_artificers_organization_sun_elf
		has_estate_privilege = estate_artificers_organization_feiten_shuimu_cadre
		has_estate_privilege = estate_artificers_organization_vazhatun_enhanced_astronomy
		has_estate_privilege = estate_dragon_command_ninyu_kikun_sunyanin_artificers
		has_estate_privilege = estate_artificers_organization_discombobulatorium
		has_estate_privilege = estate_artificers_organization_giberd_magisterium_oversight
		has_estate_privilege = estate_artificers_organization_giberd_ravelian_guilds
		has_estate_privilege = estate_artificers_organization_giberd_beacon_of_harmony
		has_estate_privilege = estate_artificers_organization_strict_state_supervision
	}
}

has_artificers_special_organization_privilege = {
	OR = {
		has_estate_privilege = estate_artificers_organization_covenant
		has_estate_privilege = estate_artificers_organization_feiten_shuimu_cadre
		has_estate_privilege = estate_artificers_organization_vazhatun_enhanced_astronomy
		has_estate_privilege = estate_dragon_command_ninyu_kikun_sunyanin_artificers
		has_estate_privilege = estate_artificers_organization_discombobulatorium
		has_estate_privilege = estate_artificers_organization_giberd_magisterium_oversight
		has_estate_privilege = estate_artificers_organization_giberd_ravelian_guilds
		has_estate_privilege = estate_artificers_organization_giberd_beacon_of_harmony
		has_estate_privilege = estate_artificers_organization_strict_state_supervision
	}
}

has_uppercastes_organization_privilege = {
	OR = {
		has_estate_privilege = estate_uppercastes_organization_caste
		has_estate_privilege = estate_uppercastes_organization_caste_dhenijanraj
		has_estate_privilege = estate_uppercastes_organization_caste_bhuvauri
		has_estate_privilege = estate_uppercastes_organization_reformed
	}
}

has_middlecastes_organization_privilege = {
	OR = {
		has_estate_privilege = estate_middlecastes_organization_caste
		has_estate_privilege = estate_middlecastes_organization_caste_dhenijanraj
		has_estate_privilege = estate_middlecastes_organization_caste_bhuvauri
		has_estate_privilege = estate_middlecastes_organization_reformed
	}
}

has_lowercastes_organization_privilege = {
	OR = {
		has_estate_privilege = estate_lowercastes_organization_caste
		has_estate_privilege = estate_lowercastes_organization_caste_dhenijanraj
		has_estate_privilege = estate_lowercastes_organization_caste_bhuvauri
		has_estate_privilege = estate_lowercastes_organization_caste_khadisrapur
		has_estate_privilege = estate_lowercastes_organization_reformed
	}
}

#Check if $who$ has more estate influence than THIS for $estate$
#who_has_more_estate_influence = {
#	if = { limit = { estate_influence = { estate = $estate$ influence = 50 } }
#		if = { limit = { estate_influence = { estate = $estate$ influence = 75 } }
#			if = { limit = { estate_influence = { estate = $estate$ influence = 88 } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 94 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 97 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 99 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 100 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  101 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 100 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  100 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 99 } } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 98 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  99 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 98 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  98 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 97 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 95 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 96 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  97 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 96 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  96 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 95 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  95 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 94 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 91 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 92 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 93 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  94 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 93 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  93 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 92 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  92 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 91 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 89 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 90 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  91 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 90 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  90 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 89 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  89 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 88 } } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 81 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 84 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 86 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 87 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  88 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 87 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  87 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 86 } } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 85 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  86 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 85 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  85 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 84 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 82 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 83 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  84 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 83 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  83 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 82 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  82 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 81 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 78 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 79 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 80 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  81 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 80 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  80 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 79 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  79 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 78 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 76 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 77 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  78 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 77 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  77 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 76 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  76 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 75 } } }
#			if = { limit = { estate_influence = { estate = $estate$ influence = 62 } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 68 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 71 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 73 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 74 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  75 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 74 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  74 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 73 } } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 72 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  73 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 72 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  72 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 71 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 69 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 70 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  71 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 70 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  70 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 69 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  69 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 68 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 65 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 66 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 67 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  68 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 67 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  67 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 66 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  66 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 65 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 63 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 64 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  65 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 64 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  64 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 63 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  63 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 62 } } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 56 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 59 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 60 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 61 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  62 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 61 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  61 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 60 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  60 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 59 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 57 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 58 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  59 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 58 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  58 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 57 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  57 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 56 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 53 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 54 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 55 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  56 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 55 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  55 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 54 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  54 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 53 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 51 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 52 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  53 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 52 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  52 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 51 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  51 } }
#						}
#					}
#				}
#			}
#		}
#	}
#	if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 50 } } }
#		if = { limit = { estate_influence = { estate = $estate$ influence = 25 } }
#			if = { limit = { estate_influence = { estate = $estate$ influence = 37 } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 43 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 46 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 48 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 49 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  50 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 49 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  49 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 48 } } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 47 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  48 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 47 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  47 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 46 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 44 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 45 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  46 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 45 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  45 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 44 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  44 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 43 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 40 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 41 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 42 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  43 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 42 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  42 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 41 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  41 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 40 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 38 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 39 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  40 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 39 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  39 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 38 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  38 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 37 } } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 31 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 34 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 35 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 36 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  37 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 36 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  36 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 35 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  35 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 34 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 32 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 33 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  34 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 33 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  33 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 32 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  32 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 31 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 28 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 29 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 30 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  31 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 30 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  30 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 29 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  29 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 28 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 26 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 27 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  28 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 27 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  27 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 26 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  26 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 25 } } }
#			if = { limit = { estate_influence = { estate = $estate$ influence = 12 } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 18 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 21 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 23 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 24 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  25 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 24 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  24 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 23 } } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 22 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  23 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 22 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  22 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 21 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 19 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 20 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  21 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 20 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  20 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 19 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  19 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 18 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 15 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 16 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 17 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  18 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 17 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  17 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 16 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  16 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 15 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 13 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 14 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  15 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 14 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  14 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 13 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  13 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 12 } } }
#				if = { limit = { estate_influence = { estate = $estate$ influence = 6 } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 9 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 10 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 11 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  12 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 11 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  11 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 10 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  10 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 9 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 7 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 8 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  9 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 8 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  8 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 7 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  7 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 6 } } }
#					if = { limit = { estate_influence = { estate = $estate$ influence = 3 } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 4 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 5 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  6 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 5 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  5 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 4 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  4 } }
#						}
#					}
#					if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 3 } } }
#						if = { limit = { estate_influence = { estate = $estate$ influence = 1 } }
#							if = { limit = { estate_influence = { estate = $estate$ influence = 2 } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  3 } }
#							}
#							if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 2 } } }
#								$who$ = { estate_influence = { estate = $estate$ influence =  2 } }
#							}
#						}
#						if = { limit = { NOT = { estate_influence = { estate = $estate$ influence = 1 } } }
#							$who$ = { estate_influence = { estate = $estate$ influence =  1 } }
#						}
#					}
#				}
#			}
#		}
#	}
#}

#Check if $who$ has more estate loyalty than THIS for $estate$
#who_has_more_estate_loyalty = {
#	if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 50 } }
#		if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 75 } }
#			if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 88 } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 94 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 97 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 99 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 100 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  101 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 100 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  100 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 99 } } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 98 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  99 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 98 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  98 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 97 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 95 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 96 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  97 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 96 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  96 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 95 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  95 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 94 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 91 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 92 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 93 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  94 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 93 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  93 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 92 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  92 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 91 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 89 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 90 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  91 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 90 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  90 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 89 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  89 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 88 } } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 81 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 84 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 86 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 87 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  88 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 87 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  87 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 86 } } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 85 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  86 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 85 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  85 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 84 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 82 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 83 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  84 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 83 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  83 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 82 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  82 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 81 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 78 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 79 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 80 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  81 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 80 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  80 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 79 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  79 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 78 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 76 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 77 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  78 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 77 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  77 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 76 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  76 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 75 } } }
#			if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 62 } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 68 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 71 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 73 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 74 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  75 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 74 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  74 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 73 } } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 72 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  73 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 72 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  72 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 71 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 69 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 70 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  71 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 70 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  70 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 69 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  69 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 68 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 65 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 66 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 67 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  68 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 67 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  67 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 66 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  66 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 65 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 63 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 64 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  65 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 64 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  64 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 63 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  63 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 62 } } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 56 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 59 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 60 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 61 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  62 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 61 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  61 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 60 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  60 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 59 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 57 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 58 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  59 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 58 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  58 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 57 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  57 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 56 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 53 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 54 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 55 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  56 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 55 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  55 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 54 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  54 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 53 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 51 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 52 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  53 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 52 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  52 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 51 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  51 } }
#						}
#					}
#				}
#			}
#		}
#	}
#	if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 50 } } }
#		if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 25 } }
#			if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 37 } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 43 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 46 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 48 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 49 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  50 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 49 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  49 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 48 } } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 47 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  48 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 47 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  47 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 46 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 44 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 45 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  46 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 45 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  45 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 44 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  44 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 43 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 40 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 41 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 42 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  43 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 42 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  42 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 41 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  41 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 40 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 38 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 39 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  40 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 39 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  39 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 38 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  38 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 37 } } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 31 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 34 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 35 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 36 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  37 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 36 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  36 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 35 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  35 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 34 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 32 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 33 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  34 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 33 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  33 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 32 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  32 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 31 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 28 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 29 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 30 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  31 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 30 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  30 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 29 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  29 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 28 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 26 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 27 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  28 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 27 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  27 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 26 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  26 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 25 } } }
#			if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 12 } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 18 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 21 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 23 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 24 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  25 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 24 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  24 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 23 } } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 22 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  23 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 22 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  22 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 21 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 19 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 20 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  21 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 20 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  20 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 19 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  19 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 18 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 15 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 16 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 17 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  18 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 17 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  17 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 16 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  16 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 15 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 13 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 14 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  15 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 14 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  14 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 13 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  13 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 12 } } }
#				if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 6 } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 9 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 10 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 11 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  12 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 11 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  11 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 10 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  10 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 9 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 7 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 8 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  9 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 8 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  8 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 7 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  7 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 6 } } }
#					if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 3 } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 4 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 5 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  6 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 5 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  5 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 4 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  4 } }
#						}
#					}
#					if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 3 } } }
#						if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 1 } }
#							if = { limit = { estate_loyalty = { estate = $estate$ loyalty = 2 } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  3 } }
#							}
#							if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 2 } } }
#								$who$ = { estate_loyalty = { estate = $estate$ loyalty =  2 } }
#							}
#						}
#						if = { limit = { NOT = { estate_loyalty = { estate = $estate$ loyalty = 1 } } }
#							$who$ = { estate_loyalty = { estate = $estate$ loyalty =  1 } }
#						}
#					}
#				}
#			}
#		}
#	}
#}

#Check if $who$ has more estate territory than THIS for $estate$
#who_has_more_estate_territory = {
#	if = { limit = { estate_territory = { estate = $estate$ territory = 50 } }
#		if = { limit = { estate_territory = { estate = $estate$ territory = 75 } }
#			if = { limit = { estate_territory = { estate = $estate$ territory = 88 } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 94 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 97 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 99 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 100 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  101 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 100 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  100 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 99 } } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 98 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  99 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 98 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  98 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 97 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 95 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 96 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  97 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 96 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  96 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 95 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  95 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 94 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 91 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 92 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 93 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  94 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 93 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  93 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 92 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  92 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 91 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 89 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 90 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  91 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 90 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  90 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 89 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  89 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 88 } } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 81 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 84 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 86 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 87 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  88 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 87 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  87 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 86 } } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 85 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  86 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 85 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  85 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 84 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 82 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 83 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  84 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 83 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  83 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 82 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  82 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 81 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 78 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 79 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 80 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  81 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 80 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  80 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 79 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  79 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 78 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 76 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 77 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  78 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 77 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  77 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 76 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  76 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 75 } } }
#			if = { limit = { estate_territory = { estate = $estate$ territory = 62 } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 68 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 71 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 73 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 74 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  75 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 74 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  74 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 73 } } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 72 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  73 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 72 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  72 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 71 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 69 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 70 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  71 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 70 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  70 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 69 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  69 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 68 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 65 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 66 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 67 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  68 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 67 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  67 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 66 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  66 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 65 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 63 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 64 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  65 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 64 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  64 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 63 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  63 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 62 } } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 56 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 59 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 60 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 61 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  62 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 61 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  61 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 60 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  60 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 59 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 57 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 58 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  59 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 58 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  58 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 57 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  57 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 56 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 53 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 54 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 55 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  56 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 55 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  55 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 54 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  54 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 53 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 51 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 52 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  53 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 52 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  52 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 51 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  51 } }
#						}
#					}
#				}
#			}
#		}
#	}
#	if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 50 } } }
#		if = { limit = { estate_territory = { estate = $estate$ territory = 25 } }
#			if = { limit = { estate_territory = { estate = $estate$ territory = 37 } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 43 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 46 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 48 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 49 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  50 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 49 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  49 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 48 } } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 47 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  48 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 47 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  47 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 46 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 44 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 45 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  46 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 45 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  45 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 44 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  44 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 43 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 40 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 41 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 42 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  43 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 42 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  42 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 41 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  41 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 40 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 38 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 39 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  40 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 39 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  39 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 38 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  38 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 37 } } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 31 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 34 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 35 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 36 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  37 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 36 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  36 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 35 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  35 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 34 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 32 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 33 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  34 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 33 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  33 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 32 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  32 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 31 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 28 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 29 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 30 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  31 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 30 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  30 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 29 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  29 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 28 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 26 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 27 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  28 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 27 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  27 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 26 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  26 } }
#						}
#					}
#				}
#			}
#		}
#		if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 25 } } }
#			if = { limit = { estate_territory = { estate = $estate$ territory = 12 } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 18 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 21 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 23 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 24 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  25 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 24 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  24 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 23 } } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 22 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  23 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 22 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  22 } }
#							}
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 21 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 19 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 20 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  21 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 20 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  20 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 19 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  19 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 18 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 15 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 16 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 17 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  18 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 17 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  17 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 16 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  16 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 15 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 13 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 14 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  15 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 14 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  14 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 13 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  13 } }
#						}
#					}
#				}
#			}
#			if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 12 } } }
#				if = { limit = { estate_territory = { estate = $estate$ territory = 6 } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 9 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 10 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 11 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  12 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 11 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  11 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 10 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  10 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 9 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 7 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 8 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  9 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 8 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  8 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 7 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  7 } }
#						}
#					}
#				}
#				if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 6 } } }
#					if = { limit = { estate_territory = { estate = $estate$ territory = 3 } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 4 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 5 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  6 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 5 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  5 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 4 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  4 } }
#						}
#					}
#					if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 3 } } }
#						if = { limit = { estate_territory = { estate = $estate$ territory = 1 } }
#							if = { limit = { estate_territory = { estate = $estate$ territory = 2 } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  3 } }
#							}
#							if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 2 } } }
#								$who$ = { estate_territory = { estate = $estate$ territory =  2 } }
#							}
#						}
#						if = { limit = { NOT = { estate_territory = { estate = $estate$ territory = 1 } } }
#							$who$ = { estate_territory = { estate = $estate$ territory =  1 } }
#						}
#					}
#				}
#			}
#		}
#	}
#}



################################
#######Rulers and Advisors######
################################

ruler_is_immortal = {
	custom_trigger_tooltip = {
		tooltip = ruler_is_immortal_tt
		OR = {
			has_ruler_flag = immortal_ruler
			ruler_is_vampire = yes
			ruler_is_lich = yes
			has_ruler_flag = is_a_homunculus
			has_country_modifier = varamhar_blessed_of_surael
			has_ruler_flag = is_holi
			has_ruler_flag = is_sado
		}
	}
}

consort_is_immortal = {
	custom_trigger_tooltip = {
		tooltip = consort_is_immortal_tt
		OR = {
			has_consort_flag = immortal_ruler
			has_consort_flag = is_a_homunculus
			has_country_modifier = anb_consort_cannot_die
		}
	}
}

heir_is_immortal = {
	custom_trigger_tooltip = {
		tooltip = heir_is_immortal_tt
		OR = {
			has_heir_flag = immortal_ruler
			has_heir_flag = is_a_homunculus
			has_country_modifier = anb_heir_cannot_die
		}
	}
}

ruler_is_not_immortal = {
	custom_trigger_tooltip = {
		tooltip = ruler_is_not_immortal_tt
		NOT = {
			has_ruler_flag = immortal_ruler
			ruler_is_vampire = yes
			ruler_is_lich = yes
			has_ruler_flag = is_a_homunculus
			has_country_modifier = varamhar_blessed_of_surael
			has_ruler_flag = is_holi
			has_ruler_flag = is_sado
		}
	}
}

consort_is_not_immortal = {
	custom_trigger_tooltip = {
		tooltip = consort_is_not_immortal_tt
		NOT = {
			has_consort_flag = immortal_ruler
			has_consort_flag = is_a_homunculus
			has_country_modifier = anb_consort_cannot_die
		}
	}
}

heir_is_not_immortal = {
	custom_trigger_tooltip = {
		tooltip = heir_is_not_immortal_tt
		NOT = {
			has_heir_flag = immortal_ruler
			has_heir_flag = is_a_homunculus
			has_country_modifier = anb_heir_cannot_die
		}
	}
}

ruler_can_revive = {
	OR = {
		ruler_is_vampire = yes
		ruler_is_lich = yes
	}
}

ruler_has_max_personalities = {
	calc_true_if = {
		ruler_has_personality = just_personality
		ruler_has_personality = righteous_personality
		ruler_has_personality = tolerant_personality
		ruler_has_personality = kind_hearted_personality
		ruler_has_personality = free_thinker_personality
		ruler_has_personality = well_connected_personality
		ruler_has_personality = calm_personality
		ruler_has_personality = careful_personality
		ruler_has_personality = secretive_personality
		ruler_has_personality = intricate_web_weaver_personality
		ruler_has_personality = fertile_personality
		ruler_has_personality = well_advised_personality
		ruler_has_personality = benevolent_personality
		ruler_has_personality = zealot_personality
		ruler_has_personality = pious_personality
		ruler_has_personality = lawgiver_personality
		ruler_has_personality = midas_touched_personality
		ruler_has_personality = incorruptible_personality
		ruler_has_personality = architectural_visionary_personality
		ruler_has_personality = scholar_personality
		ruler_has_personality = entrepreneur_personality
		ruler_has_personality = industrious_personality
		ruler_has_personality = expansionist_personality
		ruler_has_personality = charismatic_negotiator_personality
		ruler_has_personality = conqueror_personality
		ruler_has_personality = silver_tongue_personality
		ruler_has_personality = tactical_genius_personality
		ruler_has_personality = bold_fighter_personality
		ruler_has_personality = strict_personality
		ruler_has_personality = inspiring_leader_personality
		ruler_has_personality = martial_educator_personality
		ruler_has_personality = navigator_personality
		ruler_has_personality = fierce_negotiator_personality
		ruler_has_personality = babbling_buffoon_personality
		ruler_has_personality = embezzler_personality
		ruler_has_personality = infertile_personality
		ruler_has_personality = drunkard_personality
		ruler_has_personality = sinner_personality
		ruler_has_personality = greedy_personality
		ruler_has_personality = cruel_personality
		ruler_has_personality = craven_personality
		ruler_has_personality = naive_personality
		ruler_has_personality = loose_lips_personality
		ruler_has_personality = obsessive_perfectionist_personality
		ruler_has_personality = malevolent_personality
		ruler_has_personality = immortal_personality   #We count it
		ruler_has_personality = legendary_pirate_personality
		ruler_has_personality = humane_personality
		ruler_has_personality = petty_personality
		ruler_has_personality = reformist_personality
		ruler_has_personality = patron_of_arts_personality
		ruler_is_powerful_mage = yes
		ruler_has_personality = great_conqueror_personality
		ruler_has_personality = mythical_conqueror_personality
		ruler_has_personality = xhazobs_chosen_personality
		ruler_has_personality = shapeshifter_personality
		ruler_has_personality = fire_planetouched_personality
		ruler_has_personality = water_planetouched_personality
		ruler_has_personality = earth_planetouched_personality
		ruler_has_personality = wind_planetouched_personality
		ruler_has_personality = shadow_planetouched_personality
		ruler_has_personality = life_planetouched_personality
		amount = 3
	}
}

heir_has_max_personalities = {
	calc_true_if = {
		heir_has_personality = just_personality
		heir_has_personality = righteous_personality
		heir_has_personality = tolerant_personality
		heir_has_personality = kind_hearted_personality
		heir_has_personality = free_thinker_personality
		heir_has_personality = well_connected_personality
		heir_has_personality = calm_personality
		heir_has_personality = careful_personality
		heir_has_personality = secretive_personality
		heir_has_personality = intricate_web_weaver_personality
		heir_has_personality = fertile_personality
		heir_has_personality = well_advised_personality
		heir_has_personality = benevolent_personality
		heir_has_personality = zealot_personality
		heir_has_personality = pious_personality
		heir_has_personality = lawgiver_personality
		heir_has_personality = midas_touched_personality
		heir_has_personality = incorruptible_personality
		heir_has_personality = architectural_visionary_personality
		heir_has_personality = scholar_personality
		heir_has_personality = entrepreneur_personality
		heir_has_personality = industrious_personality
		heir_has_personality = expansionist_personality
		heir_has_personality = charismatic_negotiator_personality
		heir_has_personality = conqueror_personality
		heir_has_personality = silver_tongue_personality
		heir_has_personality = tactical_genius_personality
		heir_has_personality = bold_fighter_personality
		heir_has_personality = strict_personality
		heir_has_personality = inspiring_leader_personality
		heir_has_personality = martial_educator_personality
		heir_has_personality = navigator_personality
		heir_has_personality = fierce_negotiator_personality
		heir_has_personality = babbling_buffoon_personality
		heir_has_personality = embezzler_personality
		heir_has_personality = infertile_personality
		heir_has_personality = drunkard_personality
		heir_has_personality = sinner_personality
		heir_has_personality = greedy_personality
		heir_has_personality = cruel_personality
		heir_has_personality = craven_personality
		heir_has_personality = naive_personality
		heir_has_personality = loose_lips_personality
		heir_has_personality = obsessive_perfectionist_personality
		heir_has_personality = malevolent_personality
		heir_has_personality = immortal_personality   #We count it
		heir_has_personality = legendary_pirate_personality
		heir_has_personality = humane_personality
		heir_has_personality = petty_personality
		heir_has_personality = reformist_personality
		heir_has_personality = patron_of_arts_personality
		heir_has_personality = mage_personality
		heir_has_personality = great_conqueror_personality
		heir_has_personality = mythical_conqueror_personality
		heir_has_personality = xhazobs_chosen_personality
		heir_has_personality = shapeshifter_personality
		heir_has_personality = fire_planetouched_personality
		heir_has_personality = water_planetouched_personality
		heir_has_personality = earth_planetouched_personality
		heir_has_personality = wind_planetouched_personality
		heir_has_personality = shadow_planetouched_personality
		heir_has_personality = life_planetouched_personality
		amount = 1
	}
}

consort_has_max_personalities = {
	if = {
		limit = {
			has_consort_regency = yes
		}
		calc_true_if = {
			consort_has_personality = just_personality
			consort_has_personality = righteous_personality
			consort_has_personality = tolerant_personality
			consort_has_personality = kind_hearted_personality
			consort_has_personality = free_thinker_personality
			consort_has_personality = well_connected_personality
			consort_has_personality = calm_personality
			consort_has_personality = careful_personality
			consort_has_personality = secretive_personality
			consort_has_personality = intricate_web_weaver_personality
			consort_has_personality = fertile_personality
			consort_has_personality = well_advised_personality
			consort_has_personality = benevolent_personality
			consort_has_personality = zealot_personality
			consort_has_personality = pious_personality
			consort_has_personality = lawgiver_personality
			consort_has_personality = midas_touched_personality
			consort_has_personality = incorruptible_personality
			consort_has_personality = architectural_visionary_personality
			consort_has_personality = scholar_personality
			consort_has_personality = entrepreneur_personality
			consort_has_personality = industrious_personality
			consort_has_personality = expansionist_personality
			consort_has_personality = charismatic_negotiator_personality
			consort_has_personality = conqueror_personality
			consort_has_personality = silver_tongue_personality
			consort_has_personality = tactical_genius_personality
			consort_has_personality = bold_fighter_personality
			consort_has_personality = strict_personality
			consort_has_personality = inspiring_leader_personality
			consort_has_personality = martial_educator_personality
			consort_has_personality = navigator_personality
			consort_has_personality = fierce_negotiator_personality
			consort_has_personality = babbling_buffoon_personality
			consort_has_personality = embezzler_personality
			consort_has_personality = infertile_personality
			consort_has_personality = drunkard_personality
			consort_has_personality = sinner_personality
			consort_has_personality = greedy_personality
			consort_has_personality = cruel_personality
			consort_has_personality = craven_personality
			consort_has_personality = naive_personality
			consort_has_personality = loose_lips_personality
			consort_has_personality = obsessive_perfectionist_personality
			consort_has_personality = malevolent_personality
			consort_has_personality = immortal_personality   #We count it
			consort_has_personality = legendary_pirate_personality
			consort_has_personality = humane_personality
			consort_has_personality = petty_personality
			consort_has_personality = reformist_personality
			consort_has_personality = patron_of_arts_personality
			consort_has_personality = mage_personality
			consort_has_personality = great_conqueror_personality
			consort_has_personality = mythical_conqueror_personality
			consort_has_personality = xhazobs_chosen_personality
			consort_has_personality = shapeshifter_personality
			consort_has_personality = fire_planetouched_personality
			consort_has_personality = water_planetouched_personality
			consort_has_personality = earth_planetouched_personality
			consort_has_personality = wind_planetouched_personality
			consort_has_personality = shadow_planetouched_personality
			consort_has_personality = life_planetouched_personality
			amount = 3
		}
	}
	else = {
		calc_true_if = {
			consort_has_personality = just_personality
			consort_has_personality = righteous_personality
			consort_has_personality = tolerant_personality
			consort_has_personality = kind_hearted_personality
			consort_has_personality = free_thinker_personality
			consort_has_personality = well_connected_personality
			consort_has_personality = calm_personality
			consort_has_personality = careful_personality
			consort_has_personality = secretive_personality
			consort_has_personality = intricate_web_weaver_personality
			consort_has_personality = fertile_personality
			consort_has_personality = well_advised_personality
			consort_has_personality = benevolent_personality
			consort_has_personality = zealot_personality
			consort_has_personality = pious_personality
			consort_has_personality = lawgiver_personality
			consort_has_personality = midas_touched_personality
			consort_has_personality = incorruptible_personality
			consort_has_personality = architectural_visionary_personality
			consort_has_personality = scholar_personality
			consort_has_personality = entrepreneur_personality
			consort_has_personality = industrious_personality
			consort_has_personality = expansionist_personality
			consort_has_personality = charismatic_negotiator_personality
			consort_has_personality = conqueror_personality
			consort_has_personality = silver_tongue_personality
			consort_has_personality = tactical_genius_personality
			consort_has_personality = bold_fighter_personality
			consort_has_personality = strict_personality
			consort_has_personality = inspiring_leader_personality
			consort_has_personality = martial_educator_personality
			consort_has_personality = navigator_personality
			consort_has_personality = fierce_negotiator_personality
			consort_has_personality = babbling_buffoon_personality
			consort_has_personality = embezzler_personality
			consort_has_personality = infertile_personality
			consort_has_personality = drunkard_personality
			consort_has_personality = sinner_personality
			consort_has_personality = greedy_personality
			consort_has_personality = cruel_personality
			consort_has_personality = craven_personality
			consort_has_personality = naive_personality
			consort_has_personality = loose_lips_personality
			consort_has_personality = obsessive_perfectionist_personality
			consort_has_personality = malevolent_personality
			consort_has_personality = immortal_personality   #We count it
			consort_has_personality = legendary_pirate_personality
			consort_has_personality = humane_personality
			consort_has_personality = petty_personality
			consort_has_personality = reformist_personality
			consort_has_personality = patron_of_arts_personality
			consort_has_personality = mage_personality
			consort_has_personality = great_conqueror_personality
			consort_has_personality = mythical_conqueror_personality
			consort_has_personality = xhazobs_chosen_personality
			consort_has_personality = shapeshifter_personality
			consort_has_personality = fire_planetouched_personality
			consort_has_personality = water_planetouched_personality
			consort_has_personality = earth_planetouched_personality
			consort_has_personality = wind_planetouched_personality
			consort_has_personality = shadow_planetouched_personality
			consort_has_personality = life_planetouched_personality
			amount = 1
		}
	}
}

ruler_has_stat = { #scripted trigger for other scripted triggers/effects
	[[adm] adm = $adm$ ]
	[[dip] dip = $dip$ ]
	[[mil] mil = $mil$ ]
}
heir_has_stat = {
	[[adm] heir_adm = $adm$ ]
	[[dip] heir_dip = $dip$ ]
	[[mil] heir_mil = $mil$ ]
}
consort_has_stat = {
	[[adm] consort_adm = $adm$]
	[[dip] consort_dip = $dip$ ]
	[[mil] consort_mil = $mil$ ]
}

total_ruler_stats = {
	calc_true_if = {
		amount = $amount$
		desc = monthly_monarch_points

		adm = 1
		adm = 2
		adm = 3
		adm = 4
		adm = 5
		adm = 6

		dip = 1
		dip = 2
		dip = 3
		dip = 4
		dip = 5
		dip = 6

		mil = 1
		mil = 2
		mil = 3
		mil = 4
		mil = 5
		mil = 6
	}
}

has_adm_advisor_4 = {
	custom_trigger_tooltip = {
		tooltip = has_adm_advisor_4_tooltip
		OR = {
			treasurer = 4
			philosopher = 4
			artist = 4
			theologian = 4
			master_of_mint = 4
			inquisitor = 4
			natural_scientist = 4
			court_mage = 4
		}
	}
}

has_adm_advisor_5 = {
	custom_trigger_tooltip = {
		tooltip = has_adm_advisor_5_tooltip
		OR = {
			treasurer = 5
			philosopher = 5
			artist = 5
			theologian = 5
			master_of_mint = 5
			inquisitor = 5
			natural_scientist = 5
			court_mage = 5
		}
	}
}

has_dip_advisor_4 = {
	custom_trigger_tooltip = {
		tooltip = has_dip_advisor_4_tooltip
		OR = {
			statesman = 4
			diplomat = 4
			naval_reformer = 4
			trader = 4
			colonial_governor = 4
			navigator = 4
			spymaster = 4
		}
	}
}

has_dip_advisor_5 = {
	custom_trigger_tooltip = {
		tooltip = has_dip_advisor_5_tooltip
		OR = {
			statesman = 5
			diplomat = 5
			naval_reformer = 5
			trader = 5
			colonial_governor = 5
			navigator = 5
			spymaster = 5
		}
	}
}

has_mil_advisor_4 = {
	custom_trigger_tooltip = {
		tooltip = has_mil_advisor_4_tooltip
		OR = {
			army_organiser = 4
			army_reformer = 4
			commandant = 4
			grand_captain = 4
			recruitmaster = 4
			fortification_expert = 4
			quartermaster = 4
		}
	}
}

has_mil_advisor_5 = {
	custom_trigger_tooltip = {
		tooltip = has_mil_advisor_5_tooltip
		OR = {
			army_organiser = 5
			army_reformer = 5
			commandant = 5
			grand_captain = 5
			recruitmaster = 5
			fortification_expert = 5
			quartermaster = 5
		}
	}
}


####################################
#######Provinces and Buildings######
####################################

has_underground_terrain = {
	OR = {
		province_group = hold_province
		has_terrain = dwarven_road
		has_terrain = cavern
	}
}
province_with_farm_goods = {
	OR = {
		trade_goods = serpentbloom
		trade_goods = grain
		trade_goods = livestock
		trade_goods = wine
		trade_goods = spices
		trade_goods = tea
		trade_goods = coffee
		trade_goods = cocoa
		trade_goods = cotton
		trade_goods = sugar
		trade_goods = tobacco
		trade_goods = silk
	}
}

province_with_mineable_goods = {
	OR = {
		trade_goods = gold
		trade_goods = copper
		trade_goods = iron
		trade_goods = mithril
		trade_goods = coal
		trade_goods = gems
		trade_goods = salt
	}
}
province_with_animal_goods = {
	OR = {
		trade_goods = livestock
		trade_goods = wool
		trade_goods = fish
		trade_goods = fur
		trade_goods = ivory
		trade_goods = silk
	}
}
province_with_arable_goods = {
	OR = {
		trade_goods = serpentbloom
		trade_goods = grain
		trade_goods = wine
		trade_goods = spices
		trade_goods = tea
		trade_goods = coffee
		trade_goods = cocoa
		trade_goods = cotton
		trade_goods = sugar
		trade_goods = tobacco
		trade_goods = cloves
		trade_goods = incense
		trade_goods = tropical_wood
	}
}

province_with_urban_goods = {
	OR = {
		trade_goods = glass
		trade_goods = paper
		trade_goods = cloth
		trade_goods = chinaware
	}
}

precursor_relics_can_spawn = {
	NOT = { has_global_flag = max_precursor_relics }
	OR = {
		AND = {
			OR = {
				is_year = 1560
				has_global_flag = castellos_is_dead
			}
			REB = {
				NOT = {
					check_variable = {
						which = num_precursor_relics
						value = 10
					}
				}
			}
		}

		AND = {
			is_year = 1580
			REB = {
				NOT = {
					check_variable = {
						which = num_precursor_relics
						value = 20
					}
				}
			}
		}

		AND = {
			is_year = 1600
			REB = {
				NOT = {
					check_variable = {
						which = num_precursor_relics
						value = 30
					}
				}
			}
		}

		AND = {
			is_year = 1620
			REB = {
				NOT = {
					check_variable = {
						which = num_precursor_relics
						value = 40
					}
				}
			}
		}

		AND = {
			is_year = 1650
			REB = {
				NOT = {
					check_variable = {
						which = num_precursor_relics
						value = 55
					}
				}
			}
		}
	}
	#is_city = yes
}

damestear_can_spawn = {
	OR = {
		AND = {
			is_year = 1450
			REB = {
				NOT = {
					check_variable = {
						which = num_damestear
						value = 8
					}
				}
			}
		}

		AND = {
			is_year = 1520
			REB = {
				NOT = {
					check_variable = {
						which = num_damestear
						value = 22
					}
				}
			}
		}

		AND = {
			is_year = 1590
			REB = {
				NOT = {
					check_variable = {
						which = num_damestear
						value = 30
					}
				}
			}
		}
		AND = {
			is_year = 1650
			REB = {
				NOT = {
					check_variable = {
						which = num_damestear
						value = 40
					}
				}
			}
		}

		AND = {
			is_year = 1700
			REB = {
				NOT = {
					check_variable = {
						which = num_damestear
						value = 50
					}
				}
			}
		}
	}
	any_owned_province = {
		is_city = yes
		NOT = {
			trade_goods = precursor_relics
			trade_goods = damestear
			trade_goods = gold
			trade_goods = gems
			trade_goods = mithril
			has_province_flag = damestear_no_spawn
			has_province_flag = has_damestear
			province_group = hold_province
			has_terrain = cavern
			has_terrain = dwarven_road
		}
	}
}


has_any_building_trigger = {
	OR = {
		has_tax_building_trigger = yes
		has_coast_defense_building_trigger = yes
		has_fort_building_trigger = yes
		has_manpower_building_trigger = yes
		has_production_building_trigger = yes
		has_dock_building_trigger = yes
		has_trade_building_trigger = yes
		has_shipyard_building_trigger = yes
		has_forcelimit_building_trigger = yes
		has_manufactory_trigger = yes
		has_courthouse_building_trigger = yes
		has_building = university
	}
}

has_fort_or_magic_trigger = {
	OR = {
		has_building = fort_15th
		has_building = fort_16th
		has_building = fort_17th
		has_building = fort_18th
		has_province_modifier = abjuration_1_ward_mod_2
		has_province_modifier = abjuration_1_ward_mod_3
	}
}

has_multiple_manufactory_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_multiple_manufactory_trigger_tooltip_$VAL$
		calc_true_if = {
			amount = $VAL$
			has_building = wharf
			has_building = weapons
			has_building = textile
			has_building = tradecompany
			has_building = farm_estate
			has_building = mills
			has_building = furnace
			has_building = plantations
			has_building = ramparts
			has_building = soldier_households
			has_building = impressment_offices
			has_building = state_house
			has_building = mage_tower
		}
	}
}

has_free_manufactory_slot_trigger = {
	custom_trigger_tooltip = {
		tooltip = has_free_manufactory_slot_trigger
		num_free_building_slots = 1
		if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 8 } }
			num_of_times_expanded_infrastructure = 8
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 7 } }
			num_of_times_expanded_infrastructure = 7
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 6 } }
			num_of_times_expanded_infrastructure = 6
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 5 } }
			num_of_times_expanded_infrastructure = 5
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 4 } }
			num_of_times_expanded_infrastructure = 4
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 3 } }
			num_of_times_expanded_infrastructure = 3
		}
		else_if = {
			limit = { has_multiple_manufactory_trigger = { VAL = 2 } }
			num_of_times_expanded_infrastructure = 2
		}
		else_if = {
			limit = {  has_manufactory_trigger = yes  }
			num_of_times_expanded_infrastructure = 1
		}
	}
}

#################################
#######Governments and Tags######
#################################

has_native_migration_government = {
	OR = {
		has_reform = adventurer_reform
		has_reform = greentide_horde
		government = native
	}
}

has_native_migration_government_except_adventurer = {
	OR = {
		has_reform = greentide_horde
		government = native
	}
}

has_adventurer_reform = {
	custom_trigger_tooltip = {
		tooltip = is_adventurer_tooltip
		has_government_attribute = is_adventurer_reform
	}
}

has_claims_restricted = {
	has_reform = adventurer_reform
}

is_adventurer = {
	custom_trigger_tooltip = {
		tooltip = is_adventurer_tooltip
		OR = {

			#Greentide
			tag = B02
			tag = B03
			tag = B04
			tag = B05
			tag = B06
			tag = B07
			tag = B08
			tag = B09
			tag = B10
			tag = B11
			tag = B12
			tag = B13
			tag = B14
			tag = B15
			tag = B16
			tag = B17
			tag = B18
			tag = B19
			tag = B20

			#Aelantir
			tag = H42
			tag = H40
			tag = H50
			tag = H48
			tag = H46
			tag = H52
			tag = H44
			tag = H56
			tag = H54
			tag = H60
			tag = H58
			tag = H64
			tag = H62
			tag = H66
			tag = U67

			#Dwarovar
			tag = H69
			tag = H70
			tag = H71
			tag = H96
			tag = H97
			tag = H98
			tag = H68
			tag = H95
		}
	}
}
is_greentide_horde = {
	OR = {
		tag = B23
		tag = B43
		tag = B41
		tag = B44
		tag = B46
		tag = B22
		tag = B45
		tag = B27
		tag = B26
		tag = B30
		tag = B29
		tag = B42
		tag = B21
		tag = B24
		tag = B28
		tag = B25
	}
}
is_temple = {
	OR = {
		#Cannor
		tag = A10 #Minaran Temple
		tag = A41 #Damish Temple
		tag = A43 #Ryalan Temple
		tag = A53 #Aramari Temple
	}
}
is_monstrous_horde = {
	custom_trigger_tooltip = {
		tooltip = is_monstrous_horde
		OR = {
			has_government_attribute = is_monstrous_horde
			AND = {
				has_reform = harpy_matriarchy_reform
				government = tribal
			}
			AND = {
				has_reform = harpy_matriarchy_ayarallen_early_gov_mechanic_reform
				government = tribal
			}
		}
	}
}
is_a_hold = {
	OR = {
		tag = A20 #Rubyhold
		tag = A73 #Silverforge
		tag = F23 #Ovdal Tungr
		tag = F47 #Verkal Gulan
		tag = I01 #Amldihr
		tag = I02 #Krakdhumvror
		tag = I03 #Dur-Vazhatun
		tag = I04 #Orlazam-az-dihr
		tag = I05 #Mithradhum
		tag = I06 #Er-Natvir
		tag = I07 #Khugdihr
		tag = I08 #Haraz Orldhum
		tag = I09 #Verkal Kozenad
		tag = I10 #Hul-Jorkad
		tag = I11 #Shazstundihr
		tag = I12 #Orlghelovar
		tag = I13 #Verkal Skomdihr
		tag = I14 #Gor Vazumbrog
		tag = I15 #Hehodovar
		tag = I16 #Gor Burad
		tag = I17 #Gor Ozumbrog
		tag = I18 #Grozumdihr
		tag = I19 #Ovdal-az-An
		tag = I20 #Hul-az-Krakazol
		tag = I21 #Tuwad-Dhumankon
		tag = I22 #Gronstunad
		tag = I25 #Verkal Dromak
		tag = H79 #Ovdal Kanzad
		tag = H78 #Seghdihr
		tag = H77 #Ovdal Lodhum
		tag = H76 #Arg-Ordstun
		tag = Y63 #Verkal Ozovar
	}
}
is_a_free_city = {
	OR = {
		has_reform = free_city
		AND = {
			OR = {
				tag = A12 #Beepeck
				tag = A23 #Vertesk
				tag = A25 #Damescrown
			}
			government = republic
			is_part_of_hre = yes
		}
	}
}
is_aelantiri_spawnable = {
	OR = {
		tag = H30 #Gommoport
		tag = H31 #Zurzumexia
		tag = H32 #Mestikardu
		tag = H33 #Cestirmark
		tag = H34 #Ebenmas
		tag = H35 #Corinsfield
		tag = H36 #Valorpoint
		tag = H37 #Themaria
		tag = H38 #Zanlib
		tag = H39 #Ozgarom
		tag = H40 #Sornic Sons
		tag = H41 #Sornicande
		tag = H42 #Onyx Legion
		tag = H43 #Neratica
		tag = H44 #Shining Circle
		tag = H45 #Beggaston
		tag = H46 #Istralorian Crusaders
		tag = H47 #Istranar
		tag = H48 #Menibor Free Company
		tag = H49 #Tiru Moine
		tag = H50 #Varbuks Freemen
		tag = H51 #Freemarches
		tag = H52 #House of Reflection
		tag = H53 #Elathael
		tag = H54 #Tipney Pioneers
		tag = H55 #West Tipney
		tag = H56 #Havoral Band
		tag = H57 #New Havoral
		tag = H58 #Chipped Tooth Company
		tag = H59 #Chippengard
		tag = H60 #Plumwall Expedition
		tag = H61 #Plumstead
		tag = H62 #Brigade Magnificent
		tag = H63 #Nur Dhanaenn
		tag = H64 #Bardswood Band
		tag = H65 #Tellumtir
		tag = H66 #Jaherian Exemplars
		tag = H67 #Rezankand
		tag = G90 #Asraport
		tag = G91 #Isobelin
		tag = G92 #Saarmises
		tag = G93 #Mykx
		tag = G94 #Argezvale
		tag = G95 #Marlliande
		tag = G96 #Thilvis
		tag = G97 #Vanbury Guild
		tag = G98 #Calasanni Trading Company
		tag = G99 #Deranne Trade Company
		tag = U31 #Triarchy
		tag = U66 #Nortiochand
		tag = U67 #Daughters of the Hills
		tag = U68 #Kiohalen
	}
}
is_cannorian_in_ynn = {
	#capital_scope = { superregion = ynn_superregion }
	OR = {
		tag = H34 #Ebenmas
		tag = H35 #Corinsfield
		tag = H45 #Beggaston
		tag = H47 #Istranar
		tag = H49 #Tiru Moine
		tag = H51 #Freemarches
		tag = H53 #Elathael
		tag = H55 #West Tipney
		tag = H57 #New Havoral
		tag = H59 #Chippengard
		tag = H61 #Plumstead
		tag = H65 #Tellumtir
		tag = G94 #Argezvale
		#Doesn't include initial adventurer tags, only the formables + aelantir spawnables
	}
}
is_cannorian_adventurer_in_ynn = {
	OR = {
		tag = H44 #Shining Circle
		tag = H46 #Istralorian Crusaders
		tag = H48 #Menibor Free Company
		tag = H50 #Varbuks Freemen
		tag = H52 #House of Reflection
		tag = H54 #Tipney Pioneers
		tag = H56 #Havoral Band
		tag = H58 #Chipped Tooth Company
		tag = H60 #Plumwall Expedition
		tag = H64 #Bardswood Band
		#Only the pre-formable ones
	}
}



is_evil = {
	custom_trigger_tooltip = {
		tooltip = is_evil_tt
		OR = {
			ruler_is_witch_king = yes
			ruler_is_exposed_vampire = yes
			ruler_is_lich = yes
			has_country_flag = is_just_evil
			religion = infernal_court
		}
	}
}
is_not_evil = {
	custom_trigger_tooltip = {
		tooltip = is_not_evil_tt
		ruler_is_not_witch_king = yes
		NOT = { ruler_is_exposed_vampire = yes }
		ruler_is_not_lich = yes
		NOT = { religion = infernal_court }
	}
}




###################################
#######Cultures and Religions######
###################################
has_subterranean_race = {
	custom_trigger_tooltip = {
		tooltip = province_has_subterranean_race_tooltip
		OR = {
			has_province_modifier = dwarven_majority_primary
			has_province_modifier = goblin_majority_primary
			has_province_modifier = kobold_majority_primary
			has_province_modifier = dwarven_majority_integrated
			has_province_modifier = dwarven_majority_coexisting
			has_province_modifier = goblin_majority_integrated
			has_province_modifier = goblin_majority_coexisting
			has_province_modifier = kobold_majority_integrated
			has_province_modifier = kobold_majority_coexisting
		}
	}
}

is_fey_attuned_culture = {
	custom_trigger_tooltip = {
		tooltip = is_fey_attuned_culture_tooltip
		OR = {
			culture = wood_elf
			culture = emerald_orc
			culture_group = eordan_ruinborn_elf
			culture = avil_centaur
			AND = {
				culture = forest_goblin
				religion = pactseeker
			}
		}
	}
}

is_yanified_culture = {
	custom_trigger_tooltip = {
		tooltip = is_yanified_culture_tt
		OR = {
			culture_group = yan
			culture = goldscale_kobold
			culture = pezarangi_harpy
			culture = horned_ogre
			culture = serene_harimari
			culture = dragon_command
		}
	}
}

can_yanify_culture = {
	OR = {
		culture_is_human = yes
		AND = { 
			culture_is_half_orcish = yes
			owner = { has_country_flag = orc_yanification_enabled_flag }
		}
		AND = { 
			culture_is_orcish = yes
			owner = { has_country_flag = orc_yanification_enabled_flag }
		}
		AND = {
			culture_is_hobgoblin = yes
			owner = { has_country_flag = hobgoblin_yanification_enabled_flag }
		}
		culture_is_harimari = yes
		culture_is_elven = yes
		culture_is_centaur = yes
	}
}

has_crusader_religion = {
	OR = {
		religion = corinite
		religion = the_jadd
	}
}

goblinic_shamanism_trigger = {
	# NOT = { religion = goblinic_shamanism }
	OR = {
		AND = {
			religion_group = cannorian
			NOT = { religion = ravelian }
			ROOT = { NOT = { has_unlocked_cult = cannorian_cult } }
		}
		AND = {
			religion = the_thought
			ROOT = { NOT = { has_unlocked_cult = gnomish_cult } }
		}
		AND = {
			religion_group = gnollish
			ROOT = { NOT = { has_unlocked_cult = gnollish_cult } }
		}
		AND = {
			religion_group = dwarven
			NOT = { religion = dwarven_pantheon }
			NOT = { religion = runefather_worship }
			ROOT = { NOT = { has_unlocked_cult = ancestor_worship_cult } }
		}
		AND = {
			religion_group = elven
			ROOT = { NOT = { has_unlocked_cult = elven_cult } }
		}
		AND = {
			religion_group = bulwari
			ROOT = { NOT = { has_unlocked_cult = bulwari_cult } }
		}
		AND = {
			religion = godlost
			ROOT = { NOT = { has_unlocked_cult = godlost_cult } }
		}
		AND = {
			religion_group = khetist
			ROOT = { NOT = { has_unlocked_cult = khetist_cult } }
		}
		AND = {
			religion_group = gerudian
			ROOT = { NOT = { has_unlocked_cult = gerudian_cult } }
		}
		AND = {
			religion_group = orcish
			NOT = { religion = bulgu_orazan }
			ROOT = { NOT = { has_unlocked_cult = orcish_cult } }
		}
		AND = {
			religion_group = harpy_cults
			ROOT = { NOT = { has_unlocked_cult = harpy_cult } }
		}
		AND = {
			religion_group = fey_religion
			ROOT = { NOT = { has_unlocked_cult = fey_cult } }
		}
		AND = {
			religion_group = raheni
			ROOT = { NOT = { has_unlocked_cult = raheni_cult } }
		}
		AND = {
			religion_group = giantkin
			ROOT = { NOT = { has_unlocked_cult = giantkin_cult } }
		}
		AND = {
			religion_group = centaur_religion
			ROOT = { NOT = { has_unlocked_cult = centaur_cult } }
		}
		AND = {
			religion_group = dragon_cult
			ROOT = { NOT = { has_unlocked_cult = kobold_cult } }
		}
		AND = {
			OR = {
				has_unlocked_cult = kroozmuta_zemna_cult
				dwarovar_goblin_culture = yes
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = kroozmuta_zemna_cult
					dwarovar_goblin_culture = yes
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = kroozbuto_nubo_cult
				culture = common_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = kroozbuto_nubo_cult
					culture = common_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = tewaka_sunka_cult
				culture = exodus_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = tewaka_sunka_cult
					culture = exodus_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = apzarko_hrom_cult
				culture = common_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = apzarko_hrom_cult
					culture = common_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = vortza_lesa_cult
				culture = forest_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = vortza_lesa_cult
					culture = forest_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = vortzo_laukuno_cult
				culture = exodus_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = vortzo_laukuno_cult
					culture = exodus_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = vortza_krpa_cult
				dwarovar_goblin_culture = yes
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = vortza_krpa_cult
					dwarovar_goblin_culture = yes
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = zvaiko_udenzo_cult
				culture = exodus_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = zvaiko_udenzo_cult
					culture = exodus_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = zvaika_kirba_cult
				culture = common_goblin
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = zvaika_kirba_cult
					culture = common_goblin
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = vortzo_liezmo_cult
				dwarovar_goblin_culture = yes
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = vortzo_liezmo_cult
					dwarovar_goblin_culture = yes
				}
			}
		}
		AND = {
			OR = {
				has_unlocked_cult = muta_kroozpauz_cult
				dwarovar_goblin_culture = yes
			}
			ROOT = {
				NOT = {
					has_unlocked_cult = muta_kroozpauz_cult
					dwarovar_goblin_culture = yes
				}
			}
		}
		AND = {
			religion = ravelian
			ROOT = { NOT = { has_unlocked_cult = cube_cult } }
		}
		AND = {
			religion = bulgu_orazan
			ROOT = { NOT = { has_unlocked_cult = bulgu_cult } }
		}
		AND = {
			religion = dwarven_pantheon
			ROOT = { NOT = { has_unlocked_cult = grobilazk_cult } }
		}
		AND = {
			religion = runefather_worship
			ROOT = { NOT = { has_unlocked_cult = scribble_cult } }
		}
	}
}

religion_has_burials = {
	OR = {
		religion_group = bulwari
		#religion_group = gerudian
		religion = ynn_river_worship
		religion = ynn_river_reformed
		religion = feast_of_the_gods
		religion = reformed_feast_of_the_gods
		religion = xhazobkult
	}
}

has_one_dotim = {
	custom_trigger_tooltip = {
		tooltip = TOTEMIST_HAS_ANY_ASPECT
		OR = {
			has_church_aspect = grandmother_sky
			has_church_aspect = great_eagle_spirit
			has_church_aspect = ancestors_guidance
			has_church_aspect = winged_beast
			has_church_aspect = colour_of_all_things
			has_church_aspect = primordial_wings
			has_church_aspect = river_daughter
			has_church_aspect = great_wolf_spirit
			has_church_aspect = heavens_bounty
			has_church_aspect = frozen_beast
			has_church_aspect = words_of_water
			has_church_aspect = end_of_all_things
			has_church_aspect = earth_brother
			has_church_aspect = great_beaver_spirit
			has_church_aspect = heart_of_flame
			has_church_aspect = beast_of_stone
			has_church_aspect = fury_of_the_living
			has_church_aspect = god_without_shape
		}
	}
}

has_two_dotim = {
	custom_trigger_tooltip = {
		tooltip = TOTEMIST_TWO_ASPECTS
		calc_true_if = {
			amount = 2
			has_church_aspect = grandmother_sky
			has_church_aspect = great_eagle_spirit
			has_church_aspect = ancestors_guidance
			has_church_aspect = winged_beast
			has_church_aspect = colour_of_all_things
			has_church_aspect = primordial_wings
			has_church_aspect = river_daughter
			has_church_aspect = great_wolf_spirit
			has_church_aspect = heavens_bounty
			has_church_aspect = frozen_beast
			has_church_aspect = words_of_water
			has_church_aspect = end_of_all_things
			has_church_aspect = earth_brother
			has_church_aspect = great_beaver_spirit
			has_church_aspect = heart_of_flame
			has_church_aspect = beast_of_stone
			has_church_aspect = fury_of_the_living
			has_church_aspect = god_without_shape
		}
	}
}

has_three_dotim = {
	custom_trigger_tooltip = {
		tooltip = TOTEMIST_HAS_3_ASPECTS
		OR = {
			has_church_aspect = grandmother_sky
			has_church_aspect = great_eagle_spirit
			has_church_aspect = ancestors_guidance
			has_church_aspect = winged_beast
			has_church_aspect = colour_of_all_things
			has_church_aspect = primordial_wings
		}
		OR = {
			has_church_aspect = river_daughter
			has_church_aspect = great_wolf_spirit
			has_church_aspect = heavens_bounty
			has_church_aspect = frozen_beast
			has_church_aspect = words_of_water
			has_church_aspect = end_of_all_things
		}
		OR = {
			has_church_aspect = earth_brother
			has_church_aspect = great_beaver_spirit
			has_church_aspect = heart_of_flame
			has_church_aspect = beast_of_stone
			has_church_aspect = fury_of_the_living
			has_church_aspect = god_without_shape
		}
	}
}

unlocked_all_tier_2_dotim_aspects = {
	custom_trigger_tooltip = {
		tooltip = unlocked_all_tier_2_dotim_aspects_tt
		has_country_flag = dotim_unlocked_winged_beast
		has_country_flag = dotim_unlocked_colour_of_all_things
		has_country_flag = dotim_unlocked_words_of_water
		has_country_flag = dotim_unlocked_frozen_beast
		has_country_flag = dotim_unlocked_fury_of_the_living
		has_country_flag = dotim_unlocked_beast_of_stone
	}
}

culture_native_to_gerudia_superregion = {
	custom_trigger_tooltip = {
		tooltip = culture_native_to_gerudia_superregion__tt
		OR = {
			nation_considered_blue_reachman = yes
			culture_group = gerudian
			culture_group = reachman
			primary_culture = jarnklo_harpy
			primary_culture = grombar_half_orc
			primary_culture = grombar_orc
			primary_culture = fjord_troll
			primary_culture = forest_troll
			AND = {
				is_or_was_tag = { tag = Z26 } # Adshaw
				technology_group = tech_gerudian
			}
		}
	}
}

nation_considered_blue_reachman = {
	custom_trigger_tooltip = {
		tooltip = nation_considered_blue_reachman_tooltip_tt #Check anb_custom_tooltips_l_english.yml for more information on what does this say
		OR = { #You are considered blue reachman if your main culture is blue reachman OR if your tag is/was Celmaldor and your main culture is moon elf OR if your tag is/was Bayvic and your main culture is city goblin
			primary_culture = blue_reachman
			AND = {
				is_or_was_tag = { tag = Z22 } #Celmaldor
				primary_culture = moon_elf
			}
			AND = {
				is_or_was_tag = { tag = Z28 } #Bayvic
				primary_culture = city_goblin
			}
		}
	}
}

province_culture_considered_blue_reachman = {
	custom_trigger_tooltip = {
		tooltip = province_considered_blue_reachman_tooltip_tt
		OR = {
			culture = blue_reachman
			culture = moon_elf
			culture = city_goblin		
		} 	
	}
}

#################
#######Misc######
#################

#Checks if $tag$ has lower mil tech than the country scope the scripted trigger is within
mil_tech_is_inferior = {
	variable_arithmetic_trigger = {
		export_to_variable = {
			which = root_tech
			value = mil_tech
		}
		export_to_variable = {
			which = from_tech
			value = mil_tech
			who = $tag$
		}

		subtract_variable = {
			which = root_tech
			value = 1
		}

		check_variable = {
			which = root_tech
			which = from_tech
		}
	}
}

#Checks if $tag$ has lower dip tech than the country scope the scripted trigger is within
dip_tech_is_inferior = {
	variable_arithmetic_trigger = {
		export_to_variable = {
			which = root_tech
			value = dip_tech
		}
		export_to_variable = {
			which = from_tech
			value = dip_tech
			who = $tag$
		}

		subtract_variable = {
			which = root_tech
			value = 1
		}

		check_variable = {
			which = root_tech
			which = from_tech
		}
	}
}

#Checks if $tag$ has lower adm tech than the country scope the scripted trigger is within
adm_tech_is_inferior = {
	variable_arithmetic_trigger = {
		export_to_variable = {
			which = root_tech
			value = adm_tech
		}
		export_to_variable = {
			which = from_tech
			value = adm_tech
			who = $tag$
		}

		subtract_variable = {
			which = root_tech
			value = 1
		}

		check_variable = {
			which = root_tech
			which = from_tech
		}
	}
}


has_legitimacy_equivalent = {
	if = {
		limit = { government = monarchy }
		legitimacy = $VAL$
	}
	else_if = {
		limit = { government = republic }
		republican_tradition = $VAL$
	}
	else_if = {
		limit = { government = theocracy }
		if = {
			limit = { has_dlc = "Common Sense" }
			devotion = $VAL$
		}
		else = {
			custom_trigger_tooltip = {
				tooltip = automatic_bypass_tooltip
				always = yes
			}
		}
	}
	else_if = {
		limit = { government = tribal }
		if = {
			limit = {
				has_dlc = "The Cossacks"
				is_nomad = yes
			}
			horde_unity = $VAL$
		}
		else = { legitimacy = $VAL$ }
	}
}

has_professionalism_equivalent = {
	if = {
		limit = { has_dlc = "Cradle of Civilization" }
		army_professionalism = $VAL$
	}
	else = {
		custom_trigger_tooltip = {
			tooltip = automatic_bypass_tooltip
			always = yes
		}
	}
}

has_production_manufactory_or_gold_trigger = { #Province Scope
	custom_trigger_tooltip = {
		tooltip = has_production_manufactory_trigger_tooltip
		OR = {
			has_building = wharf
			has_building = weapons
			has_building = textile
			has_building = tradecompany
			has_building = farm_estate
			has_building = mills
			has_building = furnace
			has_building = plantations
			trade_goods = gold
		}
	}
}

eoa_is_dismantled = {
	custom_trigger_tooltip = {
		tooltip = eoa_dismantled_tooltip
		NOT = {
			hre_size = 1
			exists = Z01 #Empire of Anbennar
		}
	}
}
hre_elector_majority = {
	if = {
		limit = { num_of_electors = 7 }
		calc_true_if = {
			all_elector = { preferred_emperor = $tag$ }
			amount = 4
		}
	}
	else_if = {
		limit = { num_of_electors = 5 }
		calc_true_if = {
			all_elector = { preferred_emperor = $tag$ }
			amount = 3
		}
	}
	else_if = {
		limit = { num_of_electors = 3 }
		calc_true_if = {
			all_elector = { preferred_emperor = $tag$ }
			amount = 2
		}
	}
	else_if = {
		limit = { num_of_electors = 1 }
		calc_true_if = {
			all_elector = { preferred_emperor = $tag$ }
			amount = 1
		}
	}
}

has_cannorian_tech_group = {
	OR = {
		technology_group = tech_cannorian
		technology_group = tech_gerudian
		technology_group = tech_jarnklo_harpy
		technology_group = tech_elven
		technology_group = tech_west_dwarven
		technology_group = tech_gnomish
		technology_group = tech_halfling
		technology_group = tech_ynnsmen
	}
}

has_discovered_cannorian_country = {
	custom_trigger_tooltip = {
		tooltip = has_discovered_a_cannorian_country_tt
		any_known_country = {
			OR = {
				technology_group = tech_cannorian
				technology_group = tech_gerudian
				technology_group = tech_elven
				technology_group = tech_west_dwarven
				technology_group = tech_gnomish
				technology_group = tech_halfling
				technology_group = tech_ynnsmen
			}
		}
	}
}

can_no_longer_find_wonders = {
	OR = {
		AND = {
			OR = {
				has_country_modifier = pf_glowing_city
				has_country_modifier = pf_portal_nexus_ruin
			}
			OR = {
				AND = {
					has_country_modifier = pf_glowing_city
					has_global_flag = pf_end_glowing_city_flag_global
				}
				AND = {
					has_country_modifier = pf_portal_nexus_ruin
					has_global_flag = pf_end_portal_nexus_flag_global
				}
				AND = {
					north_america = { type = all has_discovered = ROOT }
					south_america = { type = all has_discovered = ROOT }
				}
			}
		}
		AND = {
			has_country_modifier = pf_dragon_house
			OR = {
				has_global_flag = pf_end_dragon_house_flag_global
				amadia_region = { type = all has_discovered = ROOT }
			}
		}
		AND = {
			has_country_modifier = pf_elfenbride_manse
			OR = {
				has_global_flag = pf_end_elfenbride_manse_flag_global
				AND = {
					rzenta_region = { type = all has_discovered = ROOT }
					forest_of_the_cursed_ones_region = { type = all has_discovered = ROOT }
					dalaire_region = { type = all has_discovered = ROOT }
				}
			}
		}
		AND = {
			has_country_modifier = pf_god_fragment_ruin
			OR = {
				has_global_flag = pf_end_god_fragment_flag_global
				colonial_noruin = { type = all has_discovered = ROOT }
			}
		}
		AND = {
			has_country_modifier = pf_vault_ruin
			OR = {
				has_global_flag = pf_end_vault_ruin_flag_global
				# colonial_ynn = { type = all has_discovered = ROOT }
				AND = {
					colonial_upper_ynn = { type = all has_discovered = ROOT }
					colonial_lower_ynn = { type = all has_discovered = ROOT }
					colonial_expanse = { type = all has_discovered = ROOT }
				}
			}
		}
		AND = {
			has_country_modifier = pf_floating_city_crash_site
			OR = {
				has_global_flag = pf_end_floating_city_crash_site_flag_global
				AND = {
					west_effelai_region = { type = all has_discovered = ROOT }
					east_effelai_region = { type = all has_discovered = ROOT }
					south_effelai_region = { type = all has_discovered = ROOT }
					leechdens_region = { type = all has_discovered = ROOT }
				}
			}
		}
	}
}

crown_land_faction_balancer_trigger = {
	has_factions = yes
	has_any_estates = yes
	OR = {
		has_government_attribute = is_pirate_republic_reform
		AND = {
			has_government_attribute = disables_regular_estates
			NOT = { has_reform = hobgoblin_stratocracy_reform }
		}
	}
}

#has infestation level 1
has_infestation_1 = {
	custom_trigger_tooltip = {
		tooltip = has_infestation_1_tooltip
		OR = {
			has_province_modifier = aw_thieves_guild_1
			has_province_modifier = aw_bandits_1
			has_province_modifier = aw_werewolves_1
			has_province_modifier = aw_trolls_1
			has_province_modifier = aw_haunted_house_1
			has_province_modifier = aw_goblins_1
			has_province_modifier = aw_ghouls_1
			has_province_modifier = aw_wyvern_1
			has_province_modifier = aw_satyrs_1
			has_province_modifier = aw_wendigo_1
			has_province_modifier = aw_zombies_1
			has_province_modifier = aw_vampires_1
			has_province_modifier = aw_orcs_1
			has_province_modifier = aw_hags_1
			has_province_modifier = aw_eldritch_cultists_1
		}
	}
}

#has infestation level 2
has_infestation_2 = {
	custom_trigger_tooltip = {
		tooltip = has_infestation_2_tooltip
		OR = {
			has_province_modifier = aw_eldritch_cultists_2
			has_province_modifier = aw_hags_2
			has_province_modifier = aw_orcs_2
			has_province_modifier = aw_vampires_2
			has_province_modifier = aw_zombies_2
			has_province_modifier = aw_wendigo_2
			has_province_modifier = aw_satyrs_2
			has_province_modifier = aw_wyvern_2
			has_province_modifier = aw_ghouls_2
			has_province_modifier = aw_goblins_2
			has_province_modifier = aw_haunted_house_2
			has_province_modifier = aw_trolls_2
			has_province_modifier = aw_werewolves_2
			has_province_modifier = aw_bandits_2
			has_province_modifier = aw_thieves_guild_2
		}
	}
}

#has infestation level 3
has_infestation_3 = {
	custom_trigger_tooltip = {
		tooltip = has_infestation_3_tooltip
		OR = {
			has_province_modifier = aw_thieves_guild_3
			has_province_modifier = aw_bandits_3
			has_province_modifier = aw_werewolves_3
			has_province_modifier = aw_trolls_3
			has_province_modifier = aw_haunted_house_3
			has_province_modifier = aw_goblins_3
			has_province_modifier = aw_satyrs_3
			has_province_modifier = aw_wendigo_3
			has_province_modifier = aw_zombies_3
			has_province_modifier = aw_vampires_3
			has_province_modifier = aw_orcs_3
			has_province_modifier = aw_hags_3
			has_province_modifier = aw_eldritch_cultists_3
		}
	}
}

#Mulen
is_a_hanging_city = {
	custom_trigger_tooltip = {
		tooltip = is_a_hanging_city_tt
		OR = {
			has_province_modifier = mulen_hanging_city
			has_province_modifier = mulen_hanging_city_baths
			has_province_modifier = mulen_hanging_city_gardens
			has_province_modifier = mulen_hanging_city_libraries
		}
	}
}

in_or_leading_regent_court_league = {

	custom_trigger_tooltip = {
		tooltip = leading_or_member_of_regent_court_league_tt
		OR = { 
			in_league = regent_court
			AND = { 
				is_league_leader = yes
				OR = { 
					is_emperor = yes
					emperor = { religion = corinite }
				}
			}
		}
		# in_league isn't true if you lead the league - to tell if you are leading the right league, check the emperor
		# because the emperor always leads the league for their religion
	}
}

in_or_leading_corinite_league = {

	custom_trigger_tooltip = {
		tooltip = leading_or_member_of_corinite_league_tt
		OR = { 
			in_league = corinite
			AND = { 
				is_league_leader = yes
				OR = { 
					is_emperor = yes
					emperor = { religion = regent_court }
				}
			}
		}
		# in_league isn't true if you lead the league - to tell if you are leading the right league, check the emperor
		# because the emperor always leads the league for their religion
	}
}

variable_between = {
	check_variable = { which = $which$ value = $inf$ }
	NOT = { check_variable = { which = $which$ value = $sup$ } }
}

harpy_raid_target_limit = {
	NOT = {
		province_distance = {
			who = PREV
			distance = 100
		}
	}
	NOT = {
		has_province_flag = harpy_raid_@ROOT
		owned_by = ROOT
		owner = { is_subject_of = ROOT }
		owner = { overlord_of = ROOT }
		owner = { alliance_with = ROOT }
		owner = { ROOT = { truce_with = PREV } }
		has_terrain = cavern
		has_terrain = dwarven_road
		province_group = hold_province
	}
	is_city = yes
	has_discovered = ROOT
}

harpy_option_trigger = {
	has_saved_event_target = $target$
	if = {
		limit = { has_saved_event_target = $target$ }
		event_target:$target$ = { development = 3 }
	}
}

checked_has_great_project = {
	has_dlc = "Leviathan"
	has_great_project = {
		type = $type$
		tier = $tier$
	}

}

has_divine_call_palace_monument = {
	4871 = { 
		checked_has_great_project = {
			type = palace_of_divine_call
			tier = 3
		}
		owned_by = PREV
	}	
}

has_ash_palace_monument = {
	625 = { 
		checked_has_great_project = {
			type = ash_palace
			tier = 1
		}
		owned_by = PREV
	}	
}

has_golden_highway_discount_25_percent = {
	OR = { 
		has_ash_palace_monument = yes
		has_country_flag = golden_highway_discount25_flag
	}
}

has_golden_highway_discount_50_percent = {
	OR = { 
		has_divine_call_palace_monument = yes
		has_country_flag = golden_highway_discount50_flag
	}
}

can_die_oni_extension = {
	has_ruler_flag = devouring_life_extension
	OR = {
		AND = {
			has_ruler_flag = dvp_life_extension_1
			ruler_age = 100
		}
		AND = {
			has_ruler_flag = dvp_life_extension_2
			ruler_age = 125
		}
		AND = {
			has_ruler_flag = dvp_life_extension_3
			ruler_age = 150
		}
		AND = {
			has_ruler_flag = dvp_life_extension_4
			ruler_age = 175
		}
		ruler_age = 200 #not allowed to live past 200
	}
}

special_life_extension = {
	OR = {
		AND = {
			has_ruler_flag = devouring_life_extension
			NOT = { can_die_oni_extension = yes }
		}
		has_country_modifier = vampire_ruler
		has_country_modifier = L37_death_exception
		has_ruler_flag = ghost_emperor
		has_ruler_flag = shadow_pact_time_effect
		has_country_modifier = varamhar_blessed_of_surael
		AND= {
			has_ruler_modifier = exceptional_willpower_75
			NOT = { ruler_age = 75 }
		}
		AND = {
			has_ruler_modifier = exceptional_willpower_100
			NOT = { ruler_age = 100 }
		}
		AND = {
			has_ruler_modifier = exceptional_willpower_150
			NOT = { ruler_age = 150 }
		}
		AND = {
			tag = F28
			has_ruler_modifier = tluukt_the_rule_of_tluukt
			OR = {
				AND = {
					NOT = { ruler_age = 61 }
					check_variable = {
						which = tluukt_lifespan_buffs
						value = 1
					}
				}
				AND = {
					NOT = { ruler_age = 71 }
					check_variable = {
						which = tluukt_lifespan_buffs
						value = 2
					}
				}
				AND = {
					NOT = { ruler_age = 81 }
					check_variable = {
						which = tluukt_lifespan_buffs
						value = 3
					}
				}
				AND = {
					NOT = { ruler_age = 91 }
					check_variable = {
						which = tluukt_lifespan_buffs
						value = 4
					}
				}
			}
		}
		AND = {
			tag = U10
			has_ruler_flag = THE_brrtekuh
			OR = {
				AND = {
					NOT = { ruler_age = 41 }
					check_variable = {
						which = ate_rulers
						value = 1
					}
				}
				AND = {
					NOT = { ruler_age = 61 }
					check_variable = {
						which = ate_rulers
						value = 2
					}
				}
				AND = {
					NOT = { ruler_age = 81 }
					check_variable = {
						which = ate_rulers
						value = 3
					}
				}
				AND = {
					NOT = { ruler_age = 121 }
					has_ruler_modifier = U10_khetbane
				}
			}
		}

	}
}

has_no_ongoing_construction = {
	custom_trigger_tooltip = {
		tooltip = has_any_ongoing_construction_tt
		NOT = {
			has_construction = any #this will return true if an army is being built, but is better than the alternative, because this trigger only sees the oldest construction
		}
	}
}

has_200_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 200_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 200
		}
	}
}
has_175_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 175_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 175
		}
	}
}

has_150_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 150_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 150
		}
	}
}

has_125_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 125_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 125
		}
	}
}

has_100_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 100_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 100
		}
	}
}

has_95_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 95_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 95
		}
	}
}

has_90_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 90_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 90
		}
	}
}

has_80_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 80_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 80
		}
	}
}

has_75_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 75_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 75
		}
	}
}

has_70_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 70_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 70
		}
	}
}

has_30_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 30_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 30
		}
	}
}

has_50_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 50_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 50
		}
	}
}

has_25_opinion_improved_relation = {
	custom_trigger_tooltip = {
		tooltip = 25_improved_relation_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = improved_relation
			value = 25
		}
	}
}

has_25_opinion_sent_gift = {
	custom_trigger_tooltip = {
		tooltip = 25_sent_gift_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = sent_gift
			value = 25
		}
	}
}

has_20_opinion_sent_gift = {
	custom_trigger_tooltip = {
		tooltip = 20_sent_gift_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = sent_gift
			value = 20
		}
	}
}

has_10_opinion_sent_gift = {
	custom_trigger_tooltip = {
		tooltip = 10_sent_gift_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = sent_gift
			value = 10
		}
	}
}

has_any_opinion_sent_gift = {
	custom_trigger_tooltip = {
		tooltip = any_sent_gift_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = sent_gift
			value = 1
		}
	}
}

has_15_opinion_getting_subsidies = {
	custom_trigger_tooltip = {
		tooltip = 15_getting_subsidies_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = getting_subsidies
			value = 14 #Yes, It has to work like this
		}
	}
}

has_10_opinion_getting_subsidies = {
	custom_trigger_tooltip = {
		tooltip = 10_getting_subsidies_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = getting_subsidies
			value = 10
		}
	}
}

has_5_opinion_getting_subsidies = {
	custom_trigger_tooltip = {
		tooltip = 5_getting_subsidies_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = getting_subsidies
			value = 5
		}
	}
}

has_any_opinion_getting_subsidies = {
	custom_trigger_tooltip = {
		tooltip = any_getting_subsidies_trigger_tt
		has_opinion_modifier = {
			who = $target$
			modifier = getting_subsidies
			value = 1
		}
	}
}

has_15_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 15_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -15 }
		}
	}
}
has_20_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 20_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -20 }
		}
	}
}
has_25_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 25_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -25 }
		}
	}
}
has_30_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 30_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -30 }
		}
	}
}
has_35_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 35_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -35 }
		}
	}
}
has_40_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 40_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -40 }
		}
	}
}
has_45_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 45_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -45 }
		}
	}
}
has_50_opinion_aggressive_expansion_or_less = {
	custom_trigger_tooltip = {
		tooltip = 50_aggressive_expansion_trigger_tt
		OR = {
			NOT = { has_opinion_modifier = { who = $target$ modifier = aggressive_expansion } }
			has_opinion_modifier = { who = $target$ modifier = aggressive_expansion value = -50 }
		}
	}
}

#Aelantir Cliff Passages
arbeloch_ascensor_constructed = {
	custom_trigger_tooltip = {
		tooltip = arbeloch_ascensor_constructed_tt
		OR = {
			1153 = {
				has_great_project = {
					type = arbeloch_ascensor
				}
			}
			1128 = {
				has_great_project = {
					type = arbeloch_ascensor
				}
			}
		}
	}
}

arca_venaan_constructed = {
	custom_trigger_tooltip = {
		tooltip = arca_venaan_constructed_tt
		OR = {
			1031 = {
				has_great_project = {
					type = arca_venaan		
				}
			}
			2757 = {
				has_great_project = {
					type = arca_venaan		
				}
			}
		}
	}
}

arca_noruin_constructed = {
	custom_trigger_tooltip = {
		tooltip = arca_noruin_constructed_tt
		OR = {
			1901 = {
				has_great_project = {
					type = arca_noruin		
				}
			}
			1835 = {
				has_great_project = {
					type = arca_noruin		
				}
			}
		}
	}
}

walkway_of_thorns_constructed = {
	custom_trigger_tooltip = {
		tooltip =  walkway_of_thorns_constructed_tt
		OR = {
			1882 = {
				has_great_project = {
					type = walkway_of_thorns		
				}
			}
			1042 = {
				has_great_project = {
					type = walkway_of_thorns
				}
			}
		}
	}
}

spoorland_lift_constructed = {
	custom_trigger_tooltip = {
		tooltip = spoorland_lift_constructed_tt
		OR = {
			1949 = {
				has_great_project = {
					type = spoorland_lift		
				}
			}
			1810 = {
				has_great_project = {
					type = spoorland_lift
				}	
			}
		}
	}
}

redrushes_climb_constructed = {
	custom_trigger_tooltip = {
		tooltip = redrushes_climb_constructed_tt
		OR = {
			1876 = {
				has_great_project = {
					type = redrushes_climb		
				}
			}
			2095 = {
				has_great_project = {
					type = redrushes_climb
				}			
			}
		}
	}
}

domandrod_gate_is_opened = {
	custom_trigger_tooltip = {
		tooltip = domandrod_gate_is_opened_tt
		OR = {
			has_global_flag = domandrod_summer_gate_opened
			has_global_flag = domandrod_autumn_gate_opened
			has_global_flag = domandrod_winter_gate_opened
			has_global_flag = domandrod_winter_gate2_opened
			has_global_flag = domandrod_spring_gate_opened
		}
	}
}

ruler_has_bad_personality = {
	has_dlc = "Rights of Man" 
	OR = {
		ruler_has_personality = embezzler_personality
		ruler_has_personality = sinner_personality
		ruler_has_personality = greedy_personality
		ruler_has_personality = obsessive_perfectionist_personality
		ruler_has_personality = drunkard_personality
		ruler_has_personality = babbling_buffoon_personality
		ruler_has_personality = cruel_personality
		ruler_has_personality = naive_personality
		ruler_has_personality = malevolent_personality
		ruler_has_personality = loose_lips_personality
		ruler_has_personality = craven_personality
		ruler_has_personality = infertile_personality
	}
}

culture_has_equal_heir = {
	OR = {
		has_country_modifier = kheionai_civil_rights_supported
		tag = U39
		
		culture_group = elven
		culture_group = eordan_ruinborn_elf
		culture_group = gnollish
		culture_group = kobold
		culture_group = bulwari
		culture_group = giantkind
		
		culture = kwineh
		culture = chendhyan
		
		culture = high_lorentish
		culture = rosanda
		culture = lencori_half_elf
		
		culture = west_dalr
		culture = east_dalr
		
		culture = creek_gnome
		
		culture = opal_dwarf
		culture = quartz_dwarf
		
		culture = szitu
		culture = naamjyut
		
		culture_group = akasi
		
		culture_group = inyaswarosa
		
		culture = cyazizeta_lizardfolk
		
		culture = jiromji
		
		culture = amezatany
		culture = mboala
		culture = mazava
		culture = fomarati
		culture = vyoronsi
		culture = zohebidi
		
		culture = west_damerian
		culture = east_damerian
		culture = rogieran
		culture = anbenncoster
		culture = ancardian
		culture = nurcestiran
		culture = istranari
		culture = half_elf
		
		culture = vernman
		culture = heartman
		culture = valorman
		culture = pashainey
		
		culture = farrani_half_elf
		
		culture = corintari
		
		culture = corinsfielder
		
		culture = arbarani
		
		culture = steadsman
		
		culture = cestirmarker
		
		culture = marcher
		
		culture = mantimatu
	}
}

holds_castanor_legacy = {
	custom_trigger_tooltip = {
		tooltip = holds_castanor_legacy_tooltip
		OR = {
			tag = B32
			is_subject_of = B32
			tag = Z34
		}	
	}
}

number_of_accepted_imperial_cultures = {
    calc_true_if = {
			accepted_culture = anbenncoster
			accepted_culture = half_elf
			accepted_culture = west_damerian
			accepted_culture = east_damerian
			accepted_culture = pearlsedger
			accepted_culture = crownsman
			accepted_culture = vernman
			accepted_culture = exwesser
			accepted_culture = arbarani
			accepted_culture = esmari
			accepted_culture = arannese
			accepted_culture = uelairey
			accepted_culture = aldresian
			accepted_culture = telgeiran
			accepted_culture = pashainey
			accepted_culture = havoric
			accepted_culture = imperial_halfling
			accepted_culture = imperial_gnome
			accepted_culture = dovesworn_gnoll
			accepted_culture = moon_elf
			accepted_culture = silver_dwarf
        amount = $amount$
    }
}

is_anbennarian_imperial_culture = {
	OR = {
		culture = anbenncoster
		culture = half_elf
		culture = west_damerian
		culture = east_damerian
		culture = pearlsedger
		culture = crownsman
		culture = vernman
		culture = exwesser
		culture = arbarani
		culture = esmari
		culture = arannese
		culture = uelairey
		culture = aldresian
		culture = telgeiran
		culture = pashainey
		culture = havoric
		culture = imperial_halfling
		culture = imperial_gnome
		culture = dovesworn_gnoll
		culture = moon_elf
		culture = silver_dwarf
	}
}

#Rakkaz MT
rakkaz_warlock_pact_limit = {
	OR = {
		AND = {
			custom_trigger_tooltip = {
				tooltip = rakkaz_warlock_pact_limit_2
				NOT = { has_country_flag = rakkaz_can_have_three_warlock_pacts }
				NOT = {
					calc_true_if = {
						amount = 2
						has_estate_privilege = estate_mages_warlock_pact_battlefield_domination
						has_estate_privilege = estate_mages_warlock_pact_domination
						has_estate_privilege = estate_mages_warlock_pact_exploitation
						has_estate_privilege = estate_mages_warlock_pact_overcharge
						has_estate_privilege = estate_mages_warlock_pact_power
						has_estate_privilege = estate_mages_warlock_pact_unrestricted_savagery
					}
				}
			}
		}
		AND = {
			custom_trigger_tooltip = {
				tooltip = rakkaz_can_have_three_warlock_pacts_tooltip_2
				has_country_flag = rakkaz_can_have_three_warlock_pacts
			}
			custom_trigger_tooltip = {
				tooltip = rakkaz_warlock_pact_limit_3
				NOT = {
					calc_true_if = {
						amount = 3
						has_estate_privilege = estate_mages_warlock_pact_battlefield_domination
						has_estate_privilege = estate_mages_warlock_pact_domination
						has_estate_privilege = estate_mages_warlock_pact_exploitation
						has_estate_privilege = estate_mages_warlock_pact_overcharge
						has_estate_privilege = estate_mages_warlock_pact_power
						has_estate_privilege = estate_mages_warlock_pact_unrestricted_savagery
					}
				}
			}
		}
	}
}

godswall_is_open = {
	custom_trigger_tooltip = {
		tooltip = godswall_tunnel_opened_tt
		has_global_flag = godswall_tunnel_opened
	}
}

has_zamukaras = {
	custom_trigger_tooltip = {
		tooltip = has_zamukaras_tt
		has_country_flag = established_zamukaras_flag
	}
}

kamryakvals_war_is_ended = {
	custom_trigger_tooltip = {
		tooltip = kamryakvals_war_is_ended_tt
		OR = {
			has_global_flag = kamrayakvals_war_end
			has_global_flag = oren_nayiru_fizzled_out_flag
		}
	}
}
estate_church_naga_build_relation_trigger = {
  $target$ = {
	OR = {
      has_opinion = {
        who = ROOT
        value = 100
      }
      AND = {
        has_90_opinion_improved_relation = { target = ROOT }
        has_25_opinion_sent_gift = { target = ROOT }
      }
    }
  }
}


anb_require_all_power = {
	adm_power = $VAL$
	dip_power = $VAL$
	mil_power = $VAL$
}

has_bulwari_holy_order_trigger = {
	if = {
		limit = {
			has_dlc = "Golden Century"
		}
		custom_trigger_tooltip = {
			tooltip = "has_bulwari_holy_order_trigger_tooltip"
			OR = {
				holy_order = servants_of_surakel_order
				holy_order = servants_of_surael_order
				holy_order = order_of_judges_order
				holy_order = eduz_nabari_order
				holy_order = the_unforgivable_order
				holy_order = order_of_exemplars_order
				holy_order = sundancers_order
				holy_order = avengers_order
				holy_order = lightbringers_order
				holy_order = jasienes_daughters_order
				holy_order = militant_jadd_order
				holy_order = lightbringers_order_upgraded
				holy_order = jasienes_daughters_order_upgraded
				holy_order = militant_jadd_order_upgraded
			}
		}
	}
}

is_potential_escanni_culture = {
	OR = {
		culture = aldresian
		culture = wood_elf
		culture = busilari
		culture = corvurian
		culture = crownsman
		culture = east_damerian
		culture = esmari
		culture = gawedi
		culture = high_lorentish
		culture = korosheshi
		culture = redfoot_halfling
		culture = roilsardi
		culture = vernman
		culture = west_damerian
	}
}

is_mteibhar_parliament = {
	OR = {
		has_reform = mteibhar_delathine_confederation
		has_reform = mteibhar_grand_confederation
		has_reform = mteibhar_centralized_delath
	}
}
estate_church_naga_build_relation_fail_trigger = {
  $target$ = {
    OR = {
    	NOT = { num_of_cities = 1 }
    	war_with = ROOT
        NOT = { has_opinion = { who = ROOT value = -100 } }
    }
  }
}


player_ruler_expanded_by_dev_on_death = {
	check_variable = {
		which = monarch_reign_end_dev
		value = $dev$
	}
}
chaqway_bird_trigger_yes = {
	has_country_flag = chaqway_$birb$
	adm_power = 50
	NOT = {
		has_country_modifier = chaqway_$birb$
		has_country_modifier = chaqway_$birb$_bad
		AND = {
			has_country_flag = chaqway_bird_1
			check_variable = {
				which = chaqway_num_birds
				value = 1
			}
		}
		AND = {
			has_country_flag = chaqway_bird_2
			check_variable = {
				which = chaqway_num_birds
				value = 2
			}
		}
		AND = {
			has_country_flag = chaqway_bird_3
			check_variable = {
				which = chaqway_num_birds
				value = 3
			}
		}
	}
}

chaqway_bird_trigger_no = {
	has_country_flag = chaqway_$birb$
	NOT = {
		has_country_modifier = chaqway_$birb$
		has_country_modifier = chaqway_$birb$_bad
	}
	OR = {
		NOT = { adm_power = 50 }
		AND = {
			has_country_flag = chaqway_bird_1
			check_variable = {
				which = chaqway_num_birds
				value = 1
			}
		}
		AND = {
			has_country_flag = chaqway_bird_2
			check_variable = {
				which = chaqway_num_birds
				value = 2
			}
		}
		AND = {
			has_country_flag = chaqway_bird_3
			check_variable = {
				which = chaqway_num_birds
				value = 3
			}
		}
	}
}

is_below_grove_limit_trigger = {
	if = {
		limit = {
			superregion = deepwoods_superregion
		}
		custom_trigger_tooltip = {
			tooltip = deepwoods_rangers_button_3_ctt
			if = {
				limit = { province_group = deepwoods_lake_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_lake_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_mountain_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_mountain_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_thorn_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_thorn_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_bone_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_bone_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_arrow_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_arrow_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_hunter_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_hunter_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_flower_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_flower_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_river_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_river_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
			if = {
				limit = { province_group = deepwoods_shadow_grove }
				NOT = {
					calc_true_if = {
						amount = 3
						deepwoods_shadow_grove = {
							type = all
							has_province_modifier = deepwoods_rangers_camp
						}
					}
				}
			}
		}
	}
	else_if = {
		limit = {
			region = domandrod_region
		}
		custom_trigger_tooltip = {
			tooltip = deepwoods_rangers_button_2_ctt
			NOT = {
				calc_true_if = {
					amount = 2
					area_for_scope_province = {
						type = all
						has_province_modifier = deepwoods_rangers_camp
					}
				}
			}
		}
	}
}

is_hegemon_of_any_type_and_100 = {
	OR = {
		is_hegemon_of_type = economic_hegemon
		is_hegemon_of_type = naval_hegemon
		is_hegemon_of_type = military_hegemon
	}
	hegemon_strength = 100
}

can_claim_economic_hegemon = {
	custom_trigger_tooltip = {
		tooltip = can_claim_economic_hegemon_tt
		is_great_power = yes
		if = {
			limit = {
				NOT = { has_country_flag = halve_hegemony_requirements }
				NOT = { has_country_flag = halve_economic_hegemony_requirements }				
			}
			monthly_income = 1000 
		}
		else = { monthly_income = 500 } 
		NOT = { any_other_great_power = { monthly_income = ROOT } }
		NOT = { has_country_modifier = lost_hegemony }
	}
}

can_claim_naval_hegemon = {
	custom_trigger_tooltip = {
		tooltip = can_claim_naval_hegemon_tt
		is_great_power = yes
		if = {
			limit = {
				NOT = { has_country_flag = halve_hegemony_requirements }
			}
			navy_size = 500
			NOT = { any_other_great_power = { num_of_heavy_ship = root } }
		}
		else = {
			navy_size = 250
			NOT = { any_other_great_power = { num_of_heavy_ship = root } }
		}
		NOT = { has_country_modifier = lost_hegemony }
	}
}

can_claim_military_hegemon = {
	custom_trigger_tooltip = {
		tooltip = can_claim_military_hegemon_tt
		if = {
			limit = {
				NOT = { has_country_flag = halve_hegemony_requirements }
				#NOT = { has_country_flag = fra_enable_mil_hegemony_flag }
				NOT = { has_country_flag = karakhanbar_enable_military_hegemon }
			}
			army_size = 1000
		}
		else_if = {
			limit = {
				is_or_was_tag = { tag = Z54 }
			}
			OR = {
				army_size = 1000
				custom_trigger_tooltip = {
					tooltip = karakhanbar_complete_mission_tt
					OR = {
						mission_completed = Z54_hegemonic_ambitions
						has_country_flag = karakhanbar_enable_military_hegemon
					}
				}
			}
		}
		else = { army_size = 500 }
		is_great_power = yes
		NOT = { any_other_great_power = { army_size = root } }
		NOT = { has_country_modifier = lost_hegemony }
	}
}

can_use_rangers = {
	OR = {
		#add triggers as appropriate
		culture = wood_elf
		culture = eclipse_elf
	}
	NOT = { has_country_flag = deepwoods_rangers_disabled }
}

baths_of_verinus_are_active = {
	development = 20
	has_owner_accepted_culture = yes
	owner = {
		OR = {
			culture = west_damerian
			culture = east_damerian
			culture = half_elf
			culture = vernman
			culture = pashainey
		}
	}
}
grave_forest_of_ilvandet_is_active = {
	owner = {
		OR = {
			culture = west_damerian
			culture = carnetori
			culture = exwesser
			culture = moon_elf
			culture = wood_elf
			culture = lencori_half_elf
			culture = half_elf
		}
	}
}
nimsnoms_theatre_is_active = {
	culture = creek_gnome
	owner = {
		OR = {
			culture_group = lencori
			culture_group = halfling
			culture_group = gnomish
		}
		high_tolerance_gnomish_race_trigger = yes
	}
}
refuge_of_the_glasslords_is_active = {
	owner = {
		OR = {
			medium_tolerance_dwarven_race_trigger = yes
			high_tolerance_dwarven_race_trigger = yes
		}
		OR = {
			culture_group = lencori
			culture_group = dwarven
			tag = A19
			tag = A80
			tag = A03
		}
	}
}

kobold_traps_individual_trigger = {
	custom_trigger_tooltip = {
		tooltip = kobold_traps_province_tt 
		OR = {
			has_fort_building_trigger = yes
			has_no_ongoing_construction = yes
		}
		NOT = { 
			OR = {
				has_province_modifier = kobold_traps_lvl_4 
				has_province_modifier = modified_kobold_traps_lvl_4
				has_province_modifier = kobold_traps_recent_investment
			}
		}
		has_siege = no
	}
}

is_primary_or_accepted_culture_trigger = {
	OR = {
		primary_culture = $culture$
		accepted_culture = $culture$
	}
}


has_any_manufactory_construction = { #Province Scope
	OR = {
		has_construction = wharf
		has_construction = weapons
		has_construction = textile
		has_construction = tradecompany
		has_construction = farm_estate
		has_construction = mills
		has_construction = furnace
		has_construction = plantations
		has_construction = ramparts
		has_construction = soldier_households
		has_construction = impressment_offices
		has_construction = state_house
		has_construction = mage_tower
	}
}

red_citadel_check_province_group = {
    custom_trigger_tooltip = {
        tooltip = red_citadel_check_province_group.tt
		owns = 4844
		owns = 4843
		owns = 4848
		owns = 4974
		owns = 4827
		owns = 4901
		owns = 4902
		owns = 4828
		owns = 4972
		owns = 4852
		owns = 4975
		owns = 4976
		owns = 4856
		owns = 5410
		owns = 5413
		owns = 5416
		owns = 5417
    }
}

citadel_culture_or_unlock_trigger = {
    custom_trigger_tooltip = {
        tooltip = citadel_culture_or_unlock_trigger.tt
        OR = {
			primary_culture = beikling
			has_country_flag = can_use_the_red_citadel
		}
    }	
}

can_use_red_citadel_trigger = {
    culture = beikling
    owner = {
        citadel_culture_or_unlock_trigger = yes
        OR = {
            AND = {
                religion = devouring_path
                tag = V23
            }
            AND = {
                NOT = { religion = devouring_path }
                adm_tech = 7
            }
        }
    }
}