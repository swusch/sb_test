on_colony_finished = {
	if = {
		limit = { region = moduk_region }
		remove_province_modifier = sb_colony_rush
		add_permanent_province_modifier = {
			name = sb_troll_homeland
			duration = -1
		}
	}
}

on_yearly_pulse = {
	events = {
		sb.4
	}
}

on_battle_won_unit = {
	if = {
		limit = {
			unit_owner = {
				has_ruler_flag = sb_war_challenge_1_flag
			}
			is_ruler_commanding_unit = yes
		}
		unit_owner = {
			extend_country_modifier = {
				name = sb_ruler_sacrifice_war_buff
				duration = 180
			}
			change_variable = {
				which = sb_war_challenge
				value = 1
			}
		}
	}
}

on_siege_won_country = {
	if = {
		limit = {
			tag = V16
			has_country_flag = sb_war_challenge_1_flag
		}
		extend_country_modifier = {
			name = sb_ruler_sacrifice_war_buff
			duration = 365
		}
		change_variable = {
			which = sb_war_challenge
			value = 1
		}
	}
}

on_adm_development = {
	if = {
		limit = {
			owner = { has_ruler_flag = sb_peace_challenge_1_flag }
		}
		owner = {
			extend_country_modifier = {
				name = sb_ruler_sacrifice_peace_buff
				duration = 30
			}
			change_variable = {
				which = sb_peace_challenge
				value = 1
			}
		}
	}
}

on_dip_development = {
	if = {
		limit = {
			owner = { has_ruler_flag = sb_peace_challenge_1_flag }
		}
		owner = {
			extend_country_modifier = {
				name = sb_ruler_sacrifice_peace_buff
				duration = 30
			}
			change_variable = {
				which = sb_peace_challenge
				value = 1
			}
		}
	}
}

on_mil_development = {
	if = {
		limit = {
			owner = { has_ruler_flag = sb_peace_challenge_1_flag }
		}
		owner = {
			extend_country_modifier = {
				name = sb_ruler_sacrifice_peace_buff
				duration = 30
			}
			change_variable = {
				which = sb_peace_challenge
				value = 1
			}
		}
	}
}