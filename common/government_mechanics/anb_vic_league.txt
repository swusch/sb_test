vic_league_mechanic = {
	alert_icon_gfx = GFX_alerticons_government_mechanics
	alert_icon_index = 1
	
	powers = {
		vic_league_adm_power = {
			max = 150
			range_modifier = {
				trigger = { 
					monthly_adm = 20
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 19
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 18
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 17
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 16
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 15
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 14
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 13
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 12
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 11
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 10
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 9
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 8
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 7
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 6
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 5
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 4
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 3
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 2
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_adm = 1
				}
				modifier = { monthly_vic_league_adm_power = 0.08 }
			}
		}
		vic_league_dip_power = {
			max = 150
			range_modifier = {
				trigger = { 
					monthly_dip = 20
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 19
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 18
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 17
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 16
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 15
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 14
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 13
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 12
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 11
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 10
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 9
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 8
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 7
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 6
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 5
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 4
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 3
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 2
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_dip = 1
				}
				modifier = { monthly_vic_league_dip_power = 0.08 }
			}
		}
		vic_league_mil_power = {
			max = 150
			range_modifier = {
				trigger = { 
					monthly_mil = 20
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 19
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 18
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 17
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 16
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 15
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 14
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 13
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 12
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 11
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 10
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 9
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 8
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 7
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 6
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 5
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 4
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 3
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 2
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
			range_modifier = {
				trigger = { 
					monthly_mil = 1
				}
				modifier = { monthly_vic_league_mil_power = 0.08 }
			}
		}
	}
	
	interactions = {
		vic_league_internal_politics_interaction = {
			gui = russian_mechanics_interaction_gui
			icon = GFX_russian_ability_ADM
			cost_type = vic_league_adm_power
			cost = 100
			potential = {
			}
			trigger = {
				if = {
					limit = { NOT = { is_subject_of_type = vic_league_member } }
					has_subject_of_type = vic_league_member
				}
				else = {
					is_subject_of_type = vic_league_member
				}
			}
			effect = {
				if = {
					limit = { NOT = { is_subject_of_type = vic_league_member } }
					custom_tooltip = vic_league_manage_internal_politics_tt
					hidden_effect = {
						every_subject_country = {
							limit = {
								is_subject_of_type = vic_league_member
							}
							add_liberty_desire = -15
						}
					}
					if = {
						limit = {
							has_reform = ragnian_commonwealth
						}
						add_country_modifier = {
							name = vic_managed_internal_politics
							duration = 3650
						}
					}
				}
				else = {
					custom_tooltip = vic_league_shift_loyalties_tt
					hidden_effect = {
						overlord = {
							every_subject_country = {
								limit = {
									is_subject_of_type = vic_league_member
								}
								add_liberty_desire = 5
							}
						}
					}
				}
			}
			ai_chance = {
				factor = 10
				modifier = {
					factor = 100
					NOT = { is_subject_of_type = vic_league_member }
					any_subject_country = {
						is_subject_of_type = vic_league_member
						liberty_desire = 50
					}
				}
				modifier = {
					factor = 100
					NOT = { is_subject_of_type = vic_league_member }
					has_government_power = {
						mechanic_type = vic_league_mechanic
						power_type = vic_league_adm_power
						value = 140
					}
					any_subject_country = {
						is_subject_of_type = vic_league_member
						liberty_desire = 15
					}
				}
				modifier = {
					factor = 100
					is_subject_of_type = vic_league_member
					overlord = {
						NOT = {
							reverse_has_opinion = {
								who = ROOT
								value = 150
							}
						}
						any_subject_country = {
							is_subject_of_type = vic_league_member
							liberty_desire = 40
						}
					}
				}
				modifier = {
					factor = 100
					is_subject_of_type = vic_league_member
					has_government_power = {
						mechanic_type = vic_league_mechanic
						power_type = vic_league_adm_power
						value = 140
					}
					overlord = {
						NOT = {
							reverse_has_opinion = {
								who = ROOT
								value = 150
							}
						}
						any_subject_country = {
							is_subject_of_type = vic_league_member
							liberty_desire = 15
						}
					}
				}
			}
		}
		vic_league_external_politics_interaction = {
			gui = russian_mechanics_interaction_gui
			icon = GFX_russian_ability_DIP
			cost_type = vic_league_dip_power
			cost = 100
			potential = {
			}
			trigger = { 
				if = {
					limit = { NOT = { is_subject_of_type = vic_league_member } }
					hidden_trigger = { ai = no } #AI will be handled separately when this is moved to a custom diplo UI action
					is_at_war = no
					custom_trigger_tooltip = {
						tooltip = vic_league_expand_the_league_trigger_tt
						any_known_country = {
							OR = {
								guaranteed_by = ROOT
								AND = {
									is_subject_of_type = vic_league_member
									NOT = { is_subject_of = ROOT }
									has_opinion_modifier = {
										who = ROOT
										modifier = sent_gift
									}
								}
							}
							OR = {
								AND = {
									ROOT = { has_government_attribute = expand_the_league_3_attribute }
									NOT = { total_development = 200 }
								}
								AND = {
									ROOT = { has_government_attribute = expand_the_league_2_attribute }
									capital_scope = { superregion = gerudia_superregion }
									NOT = { total_development = 150 }
								}
								AND = {
									ROOT = { has_government_attribute = expand_the_league_3_attribute }
									nation_considered_blue_reachman = yes
									NOT = { total_development = 100 }
								}
							}
							reverse_has_opinion = {
								who = ROOT
								value = 0
							}
							capital_scope = {
								trade_share = {
									country = ROOT
									share = 1
								}
							}
							NOT = { num_of_subjects = 1 }
						}
					}
				}
			}
			effect = { 
				if = {
					limit = { NOT = { is_subject_of_type = vic_league_member } }
					custom_tooltip = vic_league_expand_the_league_tt
					if = {
						limit = {
							has_government_attribute = expand_the_league_2_attribute
						}
						custom_tooltip = vic_league_expand_the_league_2_tt
					}
					hidden_effect = { country_event = { id = flavour_vic_league.1 } }
				}
				else = {
					if = {
						limit = {
							NOT = { monthly_income = 20 }
						}
						add_years_of_income = 1
					}
					else = {
						add_treasury = 250
					}
					define_advisor = {
						type = trader
						skill = 1
						culture = ROOT
						religion = ROOT
						cost_multiplier = 0.5
					}
				}
			}
			ai_chance = {
				factor = 10
			}
		}
		vic_league_military_politics_interaction = {
			gui = russian_mechanics_interaction_gui
			icon = GFX_russian_ability_MIL
			cost_type = vic_league_mil_power
			cost = 100
			trigger = {
				if = {
					limit = { is_subject_of_type = vic_league_member }
					is_at_war = no
					hidden_trigger = {
						OR = { #AI can't do this if there's a player subject in the same league
							ai = no
							NOT = {
								overlord = {
									any_subject_country = {
										is_subject_of_type = vic_league_member
										ai = no
									}
								}
							}
						}
					}
				}
			}
			effect = {
				if = {
					limit = { NOT = { is_subject_of_type = vic_league_member } }
					custom_tooltip = vic_league_muster_the_militias_tt
					hidden_effect = {
						add_country_modifier = {
							name = vic_mustered_the_militias
							duration = 3650
						}
						every_subject_country = {
							limit = {
								is_subject_of_type = vic_league_member
							}
							add_country_modifier = {
								name = vic_mustered_the_militias
								duration = 3650
							}
						}
					}
					if = {
						limit = {
							has_government_attribute = expand_the_league_1_attribute
						}
						create_leader_scaling_with_tradition_vic_league_1 = { type = army leader = general }
					}
					else_if = {
						limit = {
							has_government_attribute = expand_the_league_2_attribute
						}
						create_leader_scaling_with_tradition_vic_league_2 = { type = army leader = general }
					}
				}
				else = {
					custom_tooltip = vic_league_fight_for_supremacy_tt
					tooltip = {
						overlord = {
							every_subject_country = {
								limit = {
									ai = yes
									liberty_desire = 50
									NOT = { tag = ROOT }
									is_subject_of_type = vic_league_member
								}
								ROOT = {
									create_subject = {
										subject_type = vic_league_member
										subject = PREV
									}
								}
								join_all_offensive_wars_of = ROOT
							}
						}
					}
					hidden_effect = { save_event_target_as = new_vic_leader }
					if = {
						limit = { #multiplayer check
							overlord = {
								any_subject_country = {
									NOT = { tag = ROOT }
									ai = no
								}
							}
						}
						overlord = {
							every_subject_country = {
								limit = {
									ai = no
									liberty_desire = 50
									NOT = { tag = ROOT }
								}
								set_country_flag = vic_supremacy_flag_player
								country_event = { id = flavour_vic_league.8 }
							}
						}
						custom_tooltip = vic_league_fight_for_supremacy_multiplayer_tt
					}
					else = {
						hidden_effect = { country_event = { id = flavour_vic_league.6 } }
					}
				}
			}
			ai_chance = {
				factor = 10
				modifier = {
					factor = 100
					NOT = { is_subject_of_type = vic_league_member }
					is_in_important_war = yes
				}
				modifier = {
					factor = 100
					NOT = { is_subject_of_type = vic_league_member }
					is_at_war = yes
				}
				modifier = {
					factor = 0
					is_subject_of_type = vic_league_member
					NOT = {
						overlord = {
							calc_true_if = {
								all_subject_country = {
									is_subject_of_type = vic_league_member
									liberty_desire = 100
								}
								amount = 2
							}
						}
					}
				}
			}
		}
	}
}
